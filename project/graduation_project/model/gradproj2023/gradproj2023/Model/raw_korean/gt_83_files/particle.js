(function(E){typeof define=="function"&&define.amd?define(E):E()})(function(){"use strict";const E=(...e)=>{xe().indexOf("logsWontShow")===-1&&(window.particleData&&window.particleData.id?typeof e=="object"&&Array.isArray(e)?console.debug(`%c[PARTICLES] ${e.map(()=>"%o").join("")}`,"color: #FFD700",...e):console.debug("%c[PARTICLES] %o","color: #FFD700",e):typeof e=="object"&&Array.isArray(e)?console.debug(`%c[PARTICLES] ${e.map(()=>"%o").join("")}`,"color: #4682B4",...e):console.debug("%c[PARTICLES] %o","color: #4682B4",e))},fe=e=>{console.error(`%c[PARTICLES] ${e}`,"color: #FF0000")},Se=()=>window.particleData&&window.particleData.id!==null,xe=()=>"logsWontShow"+Math.random(),g={info:E,error:fe,isInternal:Se},F=(e,t)=>{let r;return(...o)=>{const a=globalThis;clearTimeout(r),r=setTimeout(()=>e.apply(a,o),t)}},K=e=>{if(["complete","interactive"].includes(document.readyState))return e();document.addEventListener("readystatechange",()=>K(e),{once:!0})},ve=()=>{g.info("Initialising resize for",window.particleData.id);let e=0;if("ResizeObserver"in window){const t=document.getElementById("particle");new ResizeObserver(o=>{o[0].target.offsetHeight!==e&&o[0].target.offsetHeight!==e+1&&o[0].target.offsetHeight!==e+2&&(k("cls",{height:o[0].target.offsetHeight}),e=o[0].target.offsetHeight),R()}).observe(t),window.addEventListener("instantResize",O)}else window.addEventListener("instantResize",O),window.addEventListener("orientationchange",R),window.addEventListener("resize",R),K(R);window.particleEvents.add("particleResize"),window.particleEvents.has("particleLoaded")&&O()},R=F(()=>{const e=document.getElementById("particle");k("resize",{height:e.scrollHeight||e.offsetHeight,width:e.offsetWidth})},100),O=()=>{const e=document.getElementById("particle");k("resize",{height:e.scrollHeight||e.offsetHeight,width:e.offsetWidth,instant:!0})},ke=(e,t)=>{t.data.height>500&&t.data.height-500>250&&(e.getAttribute("data-widget-expandable")==="true"||e.getAttribute("data-widget-expandable")==="true")?Ae(t.id,t.index,e,t.data.height+"px"):(e.parentNode&&e.parentNode.id.indexOf("wrp-")!==-1&&(g.info("Resize the particle anti-cls wrapper"),e.parentNode.style.background="transparent",e.parentNode.style.minHeight=t.data.height+"px"),t.data.instant&&e.style.transition==="height 0.3s linear 0s"&&(e.style.transition=""),e.style.height=t.data.height+"px",e.style.minHeight=t.data.height+"px",Me(t.data.id))},Te=(e,t)=>{e.style.height=t.height+"px"},Ce=(e,t)=>{e.setAttribute("data-widget-expandable","false"),document.querySelector(`.more-${t}`)&&(g.info(`Removing legacy show more from particle ${t}`,e),document.querySelector(`.more-${t}`).parentNode.remove())},Ae=(e,t,r,o)=>{const a="500px",s=document.querySelectorAll(".more-"+e)[0];let c,l;const d=()=>{r.style.height=o,document.querySelector(".more-wrapper").style.display="none"};s?s.parentNode.style.display==="none"&&(r.style.height=o):(r.style.height=a,c=document.createElement("div"),c.innerHTML='<span class="show-more-button load-more__button article-body-image-caption more-'+e+'"> Show more </span>',c.classList.add("more-wrapper"),l=document.createElement("link"),l.href="https://cf.eip.telegraph.co.uk/particle-embed/css/particle-more.css",l.type="text/css",l.rel="stylesheet",r.parentNode.insertBefore(c,r.nextSibling),c.appendChild(l));const m=document.querySelectorAll(".more-"+e)[0].cloneNode();for(;document.querySelectorAll(".more-"+e)[0].firstChild;)m.appendChild(document.querySelectorAll(".more-"+e)[0].lastChild);document.querySelectorAll(".more-"+e)[0].parentNode.replaceChild(m,document.querySelectorAll(".more-"+e)[0]),document.querySelectorAll(".more-"+e)[0].addEventListener("click",d,{once:!0})},Me=e=>{const t=document.querySelectorAll(".more-"+e)[0];t&&t.parentNode.remove()},D={initialise:ve,update:ke,instantResize:O,legacyHeightUpdate:Te,removeLegacyShowMore:Ce},I=(e,t)=>{if(typeof e>"u")return!1;const r=t.indexOf(".");return r>-1?I(e[t.substring(0,r)],t.substr(r+1)):e[t]},Be=e=>{const t={};return document.cookie.split(";").forEach(r=>{const[o,a]=r.split("=");t[o.trim()]=a}),t[e]},_={tmgModel:e=>{g.info("New tmg factory request",e.data),N("tmg",{property:e.data.property,value:e.data.isFunction===!0?I(window.tmg,e.data.property)():I(window.tmg,e.data.property)},e.id,e.index)},windowModel:e=>{g.info("New window factory request",e.data),N("window",{property:e.data.property,value:e.data.isFunction===!0?I(window,e.data.property)():I(window,e.data.property)},e.id,e.index)},cookieModel:e=>{g.info("New cookie factory request",e.data),N("cookie",{name:e.data.cookieName,value:Be(e.data.cookieName)},e.id,e.index)}},$={debug:!1,dwell:{pageIdleTime:30,engagementIdleTime:30},visitSessionDuration:18e5,environment:{ANALYTICS_ORIGIN:"https://analytics.eip.telegraph.co.uk",ANALYTICS_ORIGIN_LOCAL:"http://localhost:6500"}},L="mouse",M="engagement",n={startStopTimes:{},idleTimeoutMs:30*1e3,currentIdleTimeMs:0,checkIdleStateRateMs:250,isUserCurrentlyOnPage:!0,isUserCurrentlyIdle:!1,currentPageName:"default-page-name",timeElapsedCallbacks:[],userLeftCallbacks:[],userReturnCallbacks:[],trackTimeOnParticle:()=>{const[e]=document.getElementsByTagName("body");e&&(e.addEventListener("mouseover",()=>{n.startParticleTimers()}),e.addEventListener("mousemove",()=>{n.startParticleTimers()}),e.addEventListener("mouseleave",()=>{n.stopParticleTimers()}),e.addEventListener("keypress",()=>{n.startTimer(M)}),e.addEventListener("focus",()=>{n.startTimer(M)}))},getTimeOnElementInSeconds:e=>n.getTimeOnPageInSeconds(e)??0,startParticleTimers:e=>{e||n.startTimer(L),n.startTimer(M)},stopParticleTimers:()=>{n.stopTimer(L),n.stopTimer(M)},getParticleTime:()=>{const e=n.getTimeOnPageInSeconds(M),t=n.getTimeOnPageInSeconds(L);return{engagementTime:e,mouseHangTime:t}},resetParticleTime:()=>{n.resetTimer(M),n.resetTimer(L)},startTimer:(e,t)=>{if(n.resetIdleCountdown(),e||(e=n.currentPageName),n.startStopTimes[e]===void 0)n.startStopTimes[e]=[];else{const r=n.startStopTimes[e],o=r[r.length-1];if(o!==void 0&&o.stopTime===void 0)return}n.startStopTimes[e].push({startTime:t||new Date,stopTime:void 0})},stopAllTimers:()=>{const e=Object.keys(n.startStopTimes);for(let t=0;t<e.length;t++)n.stopTimer(e[t])},stopTimer:(e,t)=>{e||(e=n.currentPageName);const r=n.startStopTimes[e];r===void 0||r.length===0||r[r.length-1].stopTime===void 0&&(r[r.length-1].stopTime=t||new Date)},getTimeOnCurrentPageInSeconds:()=>n.getTimeOnPageInSeconds(n.currentPageName),getTimeOnPageInSeconds:e=>{const t=n.getTimeOnPageInMilliseconds(e);if(t!==void 0)return t/1e3},getTimeOnCurrentPageInMilliseconds:()=>n.getTimeOnPageInMilliseconds(n.currentPageName),getTimeOnPageInMilliseconds:e=>{let t=0;const r=n.startStopTimes[e];if(r===void 0)return;let o=0;for(let a=0;a<r.length;a++){const s=r[a].startTime;let c=r[a].stopTime;c===void 0&&(c=new Date);const l=c-s;o+=l}return t=Number(o),t},getTimeOnAllPagesInSeconds:()=>{const e=[],t=Object.keys(n.startStopTimes);for(let r=0;r<t.length;r++){const o=t[r],a=n.getTimeOnPageInSeconds(o);e.push({pageName:o,timeOnPage:a})}return e},setIdleDurationInSeconds:e=>{const t=parseFloat(e);if(isNaN(t)===!1)n.idleTimeoutMs=e*1e3;else throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."}},setCurrentPageName:e=>{n.currentPageName=e},resetTimer:e=>{if(!n.startStopTimes[e])return;const r=n.startStopTimes[e][n.startStopTimes[e].length-1];r.stopTime?n.resetRecordedPageTime(e):r.startTime=new Date},resetRecordedPageTime:e=>{delete n.startStopTimes[e]},resetAllRecordedPageTimes:()=>{const e=Object.keys(n.startStopTimes);for(let t=0;t<e.length;t++)n.resetRecordedPageTime(e[t])},userActivityDetected:e=>{(n.isUserCurrentlyIdle||!n.isUserCurrentlyOnPage)&&n.triggerUserHasReturned(e),n.resetIdleCountdown()},resetIdleCountdown:()=>{n.isUserCurrentlyIdle=!1,n.currentIdleTimeMs=0},callWhenUserLeaves:(e,t)=>{n.userLeftCallbacks.push({callback:e,numberOfTimesToInvoke:t})},callWhenUserReturns:(e,t)=>{n.userReturnCallbacks.push({callback:e,numberOfTimesToInvoke:t})},triggerUserHasReturned:e=>{if(!n.isUserCurrentlyOnPage){n.isUserCurrentlyOnPage=!0,n.resetIdleCountdown();for(let t=0;t<n.userReturnCallbacks.length;t++){const r=n.userReturnCallbacks[t],o=r.numberOfTimesToInvoke;(isNaN(o)||o===void 0||o>0)&&(r.numberOfTimesToInvoke-=1,r.callback())}}n.currentPageName.includes("particle")?n.startParticleTimers(e==="keypress"):n.startTimer()},triggerUserHasLeftPageOrGoneIdle:()=>{if(n.isUserCurrentlyOnPage){n.isUserCurrentlyOnPage=!1;for(let e=0;e<n.userLeftCallbacks.length;e++){const t=n.userLeftCallbacks[e],r=t.numberOfTimesToInvoke;(isNaN(r)||r===void 0||r>0)&&(t.numberOfTimesToInvoke-=1,t.callback())}}n.stopAllTimers()},callAfterTimeElapsedInSeconds:(e,t)=>{n.timeElapsedCallbacks.push({timeInSeconds:e,callback:t,pending:!0})},checkIdleState:()=>{for(let e=0;e<n.timeElapsedCallbacks.length;e++)n.timeElapsedCallbacks[e].pending&&n.getTimeOnCurrentPageInSeconds()>n.timeElapsedCallbacks[e].timeInSeconds&&(n.timeElapsedCallbacks[e].callback(),n.timeElapsedCallbacks[e].pending=!1);n.isUserCurrentlyIdle===!1&&n.currentIdleTimeMs>n.idleTimeoutMs?(n.isUserCurrentlyIdle=!0,n.triggerUserHasLeftPageOrGoneIdle()):n.currentIdleTimeMs+=n.checkIdleStateRateMs},visibilityChangeEventName:void 0,hiddenPropName:void 0,listenForVisibilityEvents:(e,t,r)=>{e&&n.listenForUserLeavesOrReturnsEvents(r),t&&n.listForIdleEvents()},listenForUserLeavesOrReturnsEvents:e=>{typeof document.hidden<"u"?(n.hiddenPropName="hidden",n.visibilityChangeEventName="visibilitychange"):typeof document.mozHidden<"u"?(n.hiddenPropName="mozHidden",n.visibilityChangeEventName="mozvisibilitychange"):typeof document.msHidden<"u"?(n.hiddenPropName="msHidden",n.visibilityChangeEventName="msvisibilitychange"):typeof document.webkitHidden<"u"&&(n.hiddenPropName="webkitHidden",n.visibilityChangeEventName="webkitvisibilitychange"),document.addEventListener(n.visibilityChangeEventName,()=>{document[n.hiddenPropName]?n.triggerUserHasLeftPageOrGoneIdle():e&&n.triggerUserHasReturned()},!1),window.addEventListener("blur",()=>{n.triggerUserHasLeftPageOrGoneIdle()}),window.addEventListener("focus",()=>{e&&n.triggerUserHasReturned()})},listForIdleEvents:()=>{document.addEventListener("mousemove",()=>{n.userActivityDetected()}),document.addEventListener("keyup",()=>{n.userActivityDetected("keypress")}),document.addEventListener("touchstart",()=>{n.userActivityDetected()}),window.addEventListener("scroll",()=>{n.userActivityDetected()}),setInterval(()=>{n.isUserCurrentlyIdle!==!0&&n.checkIdleState()},n.checkIdleStateRateMs)},initialize:e=>{let t=n.idleTimeoutMs||30,r=n.currentPageName||"default-page-name",o,a=!0,s=!0,c=!0;e&&(t=e.idleTimeoutInSeconds||t,r=e.currentPageName||r,o=e.initialStartTime,e.trackWhenUserLeavesPage===!1&&(a=!1),e.trackWhenUserGoesIdle===!1&&(s=!1),c=e.trackWhenUserReturns??a),n.setIdleDurationInSeconds(t),n.setCurrentPageName(r),n.listenForVisibilityEvents(a,s,c),n.startTimer(void 0,o)}},Pe=()=>{g.info("INIT PAGE",W()),W()===void 0&&(n.initialize({currentPageName:window.particles.pageUuid,idleTimeoutInSeconds:$.dwell.pageIdleTime}),g.info("Particle Analytics: Dwell Time Initialised"))},Ie=e=>{n.initialize({currentPageName:`particle-${e}`,idleTimeoutInSeconds:$.dwell.engagementIdleTime,trackWhenUserReturns:!1}),n.trackTimeOnParticle(),setInterval(()=>{const{engagementTime:r,mouseHangTime:o}=n.getParticleTime();(r||o)&&(k("analytics",{time:{engagementTime:r,mouseHangTime:o}}),n.resetParticleTime())},1e3)},Ee=()=>n.startTimer(window.particles.pageUuid),W=()=>n.getTimeOnPageInMilliseconds(window.particles.pageUuid),Fe=e=>n.startTimer(e),Re=(e,t)=>n.startTimer(`particle-${e}-${t}`),Oe=(e,t)=>n.stopTimer(`particle-${e}-${t}`),Le=(e,t)=>n.getTimeOnPageInMilliseconds(`particle-${e}-${t}`)??0,Ne=e=>n.callWhenUserLeaves(e),ze=e=>n.callWhenUserReturns(e),f={initialisePage:Pe,initialiseParticle:Ie,manuallyStartPageTimer:Ee,getPageDwellTime:W,manuallyStartEngagementTimer:Fe,startVisibilityTimer:Re,stopVisibilityTimer:Oe,getParticleDwellTime:Le,resetTimers:n.resetAllRecordedPageTimes,addHandlerForLeavingPage:Ne,addHandlerForReturningToPage:ze},De=30,X="com.telegraph.tmgPa",_e=()=>{let e=localStorage.getItem(X)||[];typeof e=="string"&&(e=JSON.parse(e)),window.particles.analytics.history=Ge(e),g.info("Analytics: History Loaded")},$e=(e,t)=>{if(window.particles.analytics.history){const r=window.particles.analytics.history.find(o=>o.pid===e&&o.aid===t);if(r)return r.loads++,!1;window.particles.analytics.history.push({aid:t,pid:e,loads:1,expires:Date.now()+1e3*60*De})}return!0},We=()=>{window.particles.analytics.history&&(localStorage.setItem(X,JSON.stringify(window.particles.analytics.history)),g.info("Analytics: History Saved"))},Ge=e=>e.filter(t=>t.expires>Date.now()),G={initialiseHistory:_e,checkHistoryForParticleInArticle:$e,saveHistory:We},He=e=>{window.particleData.clicks.c++;const t={cn:window.particleData.clicks.c,px:Math.round(e.pageX),py:Math.round(e.pageY)};k("analytics",{click:t})},Ue={initialise:()=>{window.particleData.clicks={c:0},document.addEventListener("click",He)}},Ve=()=>{window.particles.analytics.scroll={maxDepth:null,hasRecorded:null},window.addEventListener("scroll",qe)},qe=F(()=>{const e=Ye();e>window.particles.analytics.scroll.maxDepth&&(window.particles.analytics.scroll={maxDepth:e,hasRecorded:!1})},500),Ye=()=>{const e=document.documentElement,t=document.body,r="scrollTop",o="scrollHeight";return Math.round((e[r]||t[r])/((e[o]||t[o])-e.clientHeight)*100)},je={initialise:Ve},Je={initialise:async()=>{try{const t=await(await fetch("https://geolocation-db.com/json/")).json();window.particles.analytics.geo={...t,hasRecorded:!1}}catch{}}},Qe=e=>{const t={events:[]};Array.isArray(e)?e.forEach(r=>{Array.isArray(r)?t.events.push(r):typeof r=="string"?t.events.push([r,1]):console.error(`Bespoke Event: ${r} is not in the expected format`)}):typeof e=="string"?t.events.push([e,1]):console.error("Bespoke Event: does not match accepted format"),k("bespoke",t)},Ze={initialise:()=>{window.particleData.dispatchBespokeEvents=Qe}},ee="particle-analytics-overview",T={sent:{entry:[],exit:[],bespoke:[]},showOverlay:!1,initialise:()=>{window.particles.analytics.visualise=()=>{const e=Array.from(document.querySelectorAll("iframe")).filter(t=>t.classList.value.includes("tmg-particle"));T.showOverlay=!0,T.createOverviewElement(),e.forEach(t=>{if(document.getElementById(`highlight-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`)===null){const r=document.createElement("div");r.id=`highlight-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,r.style.cssText="width: 100%;height: 100%;position: absolute;top: 0;left: 0;background-color: #ff000011;z-index: 2;pointer-events: none;";const o=document.createElement("div");o.id=`highlight-vt-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,o.style.cssText="font-family: monospace;font-weight: 800;color: #ffcd00;background-color: #000000cc;padding: 0 4px;",o.innerText="Particle Dwell Time: 0 ms";const a=document.createElement("div");a.id=`highlight-et-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,a.style.cssText="font-family: monospace;font-weight: 800;color: #ffcd00;background-color: #000000cc;padding: 0 4px;",a.innerText="Engagement Time: 0 s";const s=document.createElement("div");s.id=`highlight-mht-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,s.style.cssText="font-family: monospace;font-weight: 800;color: #ffcd00;background-color: #000000cc;padding: 0 4px;",s.innerText="Mouse Hang Time: 0 s";const c=document.createElement("div");c.id=`highlight-pt-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,c.style.cssText="font-family: monospace;font-weight: 800;color: #ffcd00;background-color: #000000cc;padding: 0 4px;",c.innerText="Page Dwell Time: 0 ms";const l=document.createElement("div");l.id=`highlight-ex-${t.getAttribute("particle-id")}-${t.getAttribute("particle-index")}`,l.style.cssText="font-family: monospace;font-weight: 800;color: #ffcd00;background-color: #000000cc;padding: 0 4px;",l.innerText="...",r.appendChild(o),r.appendChild(c),r.appendChild(a),r.appendChild(s),r.appendChild(l),t.parentNode.style.position="relative",t.parentNode.appendChild(r),window.particles.analytics.highlights.push(r)}}),window.particles.analytics.debug===void 0&&(window.particles.analytics.debug={interval:setInterval(et,1e3)},window.particles.analytics.debug.observer=new IntersectionObserver(Xe,{threshold:[0,.25,.75]}),window.particles.analytics.highlights.forEach(t=>window.particles.analytics.debug.observer.observe(t)))}},createOverviewElement:()=>{const e=document.createElement("div");e.id=ee,e.style.cssText="position: fixed;display: flex;justify-content: space-between;bottom: 50px;color: red;background-color: #000000cc;height: 100px;width: 100%";for(const[t,r]of Object.entries(T.sent)){const o=document.createElement("div");o.id=`${t}-analytics-data`,o.style.cssText="font-family: monospace;font-weight: 800;text-transform: capitalize;color: #ffcd00;padding: 0 4px;width: calc(100% / 3)",o.className="sent",o.innerHTML=`
                ${t} | <span class="count">${r.length}</span>
                <ol id="${t}-sent-analytics"></ol>
            `,e.appendChild(o)}document.body.appendChild(e)},handlePayloadSend:(e,t)=>{T.sent[e].push(t),T.showOverlay&&Ke(e,T.sent[e].length)}};function Ke(e,t){const r=document.getElementById(ee);Array.from(r.getElementsByClassName("sent"));const o=document.getElementById(`${e}-analytics-data`),[a]=o.getElementsByClassName("count");a.innerText=Number(a.innerText)+1}const Xe=e=>{e.forEach(t=>{t.intersectionRatio>.25?t.target.style.backgroundColor="#00ff0011":t.target.style.backgroundColor="#ff000011"})};function et(){Array.from(document.querySelectorAll("iframe")).filter(t=>t.classList.value.includes("tmg-particle")).forEach(t=>{const r=t.getAttribute("particle-id"),o=t.getAttribute("particle-index"),a=`${r}-${o}`,s=document.getElementById(`highlight-vt-${a}`),c=document.getElementById(`highlight-et-${a}`),l=document.getElementById(`highlight-mht-${a}`),d=document.getElementById(`highlight-pt-${a}`),m=document.getElementById(`highlight-ex-${a}`);s.innerText=`Particle Dwell Time: ${f.getParticleDwellTime(r,o)} ms`,c.innerText=`Engagement Time: ${S.getParticleTimes(r,o).engagement} s`,l.innerText=`Mouse Hang Time: ${S.getParticleTimes(r,o).mouseHang} s`,d.innerText=`Page Dwell Time: ${f.getPageDwellTime()} ms`;let u="";const p=window.particles.analytics.particles.find(h=>h.id===r&&h.index===o);u+=`UNIQUE: ${p.uniqueVisit?"Yes":"No"} | `,u+=`VIEWS: ${window.particles.analytics.history.find(h=>h.pid===t.id).loads} | `,u+=`INTERACTION: ${p.clicks?p.expanded?p.clicks.length-1:p.clicks.length:0} | `,u+=`EXPANDED: ${p.expanded?"Yes":"No"} | `,u+=`DID INTERACT?: ${p.expanded||p.clicks.length?"Yes":"No"}`,m.innerText=u})}var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function re(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oe={exports:{}},ae={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,o){return r<<o|r>>>32-o},rotr:function(r,o){return r<<32-o|r>>>o},endian:function(r){if(r.constructor==Number)return t.rotl(r,8)&16711935|t.rotl(r,24)&4278255360;for(var o=0;o<r.length;o++)r[o]=t.endian(r[o]);return r},randomBytes:function(r){for(var o=[];r>0;r--)o.push(Math.floor(Math.random()*256));return o},bytesToWords:function(r){for(var o=[],a=0,s=0;a<r.length;a++,s+=8)o[s>>>5]|=r[a]<<24-s%32;return o},wordsToBytes:function(r){for(var o=[],a=0;a<r.length*32;a+=8)o.push(r[a>>>5]>>>24-a%32&255);return o},bytesToHex:function(r){for(var o=[],a=0;a<r.length;a++)o.push((r[a]>>>4).toString(16)),o.push((r[a]&15).toString(16));return o.join("")},hexToBytes:function(r){for(var o=[],a=0;a<r.length;a+=2)o.push(parseInt(r.substr(a,2),16));return o},bytesToBase64:function(r){for(var o=[],a=0;a<r.length;a+=3)for(var s=r[a]<<16|r[a+1]<<8|r[a+2],c=0;c<4;c++)a*8+c*6<=r.length*8?o.push(e.charAt(s>>>6*(3-c)&63)):o.push("=");return o.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var o=[],a=0,s=0;a<r.length;s=++a%4)s!=0&&o.push((e.indexOf(r.charAt(a-1))&Math.pow(2,-2*s+8)-1)<<s*2|e.indexOf(r.charAt(a))>>>6-s*2);return o}};ae.exports=t})();var tt=ae.exports,H={utf8:{stringToBytes:function(e){return H.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(H.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},ne=H;(function(){var e=tt,t=ne.utf8,r=ne.bin,o=function(s){s.constructor==String?s=t.stringToBytes(s):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s)?s=Array.prototype.slice.call(s,0):Array.isArray(s)||(s=s.toString());var c=e.bytesToWords(s),l=s.length*8,d=[],m=1732584193,u=-271733879,p=-1732584194,h=271733878,v=-1009589776;c[l>>5]|=128<<24-l%32,c[(l+64>>>9<<4)+15]=l;for(var A=0;A<c.length;A+=16){for(var P=m,Kt=u,Xt=p,er=h,tr=v,x=0;x<80;x++){if(x<16)d[x]=c[A+x];else{var ye=d[x-3]^d[x-8]^d[x-14]^d[x-16];d[x]=ye<<1|ye>>>31}var rr=(m<<5|m>>>27)+v+(d[x]>>>0)+(x<20?(u&p|~u&h)+1518500249:x<40?(u^p^h)+1859775393:x<60?(u&p|u&h|p&h)-1894007588:(u^p^h)-899497514);v=h,h=p,p=u<<30|u>>>2,u=m,m=rr}m+=P,u+=Kt,p+=Xt,h+=er,v+=tr}return[m,u,p,h,v]},a=function(s,c){var l=e.wordsToBytes(o(s));return c&&c.asBytes?l:c&&c.asString?r.bytesToString(l):e.bytesToHex(l)};a._blocksize=16,a._digestsize=20,oe.exports=a})();var rt=oe.exports;const ot=re(rt),at={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ie={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},b={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},y={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},C={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class i{static getFirstMatch(t,r){const o=r.match(t);return o&&o.length>0&&o[1]||""}static getSecondMatch(t,r){const o=r.match(t);return o&&o.length>1&&o[2]||""}static matchAndReturnConst(t,r,o){if(t.test(r))return o}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(o=>parseInt(o,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(o=>parseInt(o,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,o=!1){const a=i.getVersionPrecision(t),s=i.getVersionPrecision(r);let c=Math.max(a,s),l=0;const d=i.map([t,r],m=>{const u=c-i.getVersionPrecision(m),p=m+new Array(u+1).join(".0");return i.map(p.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(o&&(l=c-Math.min(a,s)),c-=1;c>=l;){if(d[0][c]>d[1][c])return 1;if(d[0][c]===d[1][c]){if(c===l)return 0;c-=1}else if(d[0][c]<d[1][c])return-1}}static map(t,r){const o=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)o.push(r(t[a]));return o}static find(t,r){let o,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(o=0,a=t.length;o<a;o+=1){const s=t[o];if(r(s,o))return s}}static assign(t,...r){const o=t;let a,s;if(Object.assign)return Object.assign(t,...r);for(a=0,s=r.length;a<s;a+=1){const c=r[a];typeof c=="object"&&c!==null&&Object.keys(c).forEach(d=>{o[d]=c[d]})}return t}static getBrowserAlias(t){return at[t]}static getBrowserTypeByAlias(t){return ie[t]||""}}const w=/version\/(\d+(\.?_?\d+)+)/i,nt=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=i.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=i.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=i.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=i.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=i.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=i.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=i.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=i.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=i.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=i.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=i.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=i.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=i.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=i.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=i.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=i.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=i.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=i.getFirstMatch(w,e)||i.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=i.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=i.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=i.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=i.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=i.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=i.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=i.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=i.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=i.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=i.getFirstMatch(w,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,a=e.search("\\(")!==-1?r:t;return{name:i.getFirstMatch(a,e),version:i.getSecondMatch(a,e)}}}],it=[{test:[/Roku\/DVP/],describe(e){const t=i.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:y.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=i.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:y.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=i.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.getWindowsVersionName(t);return{name:y.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:y.iOS},r=i.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=i.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.getMacOSVersionName(t),o={name:y.MacOS,version:t};return r&&(o.versionName=r),o}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=i.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:y.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=i.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.getAndroidVersionName(t),o={name:y.Android,version:t};return r&&(o.versionName=r),o}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=i.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:y.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=i.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.getFirstMatch(/\bbb(\d+)/i,e);return{name:y.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=i.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:y.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=i.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:y.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:y.Linux}}},{test:[/CrOS/],describe(){return{name:y.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=i.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:y.PlayStation4,version:t}}}],st=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=i.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:b.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:b.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:b.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:b.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:b.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:b.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:b.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=i.getFirstMatch(/(ipod|iphone)/i,e);return{type:b.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:b.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:b.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:b.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:b.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:b.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:b.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:b.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:b.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:b.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:b.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:b.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:b.tv}}}],ct=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:C.Blink};const r=i.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:C.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:C.Trident},r=i.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:C.Presto},r=i.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:C.Gecko},r=i.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:C.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:C.WebKit},r=i.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class se{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=i.find(nt,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(o=>this.test(o));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=i.find(it,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(o=>this.test(o));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=i.find(st,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(o=>this.test(o));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=i.find(ct,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(o=>this.test(o));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return i.assign({},this.parsedResult)}satisfies(t){const r={};let o=0;const a={};let s=0;if(Object.keys(t).forEach(l=>{const d=t[l];typeof d=="string"?(a[l]=d,s+=1):typeof d=="object"&&(r[l]=d,o+=1)}),o>0){const l=Object.keys(r),d=i.find(l,u=>this.isOS(u));if(d){const u=this.satisfies(r[d]);if(u!==void 0)return u}const m=i.find(l,u=>this.isPlatform(u));if(m){const u=this.satisfies(r[m]);if(u!==void 0)return u}}if(s>0){const l=Object.keys(a),d=i.find(l,m=>this.isBrowser(m,!0));if(d!==void 0)return this.compareVersion(a[d])}}isBrowser(t,r=!1){const o=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const s=i.getBrowserTypeByAlias(a);return r&&s&&(a=s.toLowerCase()),a===o}compareVersion(t){let r=[0],o=t,a=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(o=t.substr(1),t[1]==="="?(a=!0,o=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?o=t.substr(1):t[0]==="~"&&(a=!0,o=t.substr(1)),r.indexOf(i.compareVersions(s,o,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class lt{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new se(t,r)}static parse(t){return new se(t).getResult()}static get BROWSER_MAP(){return ie}static get ENGINE_MAP(){return C}static get OS_MAP(){return y}static get PLATFORMS_MAP(){return b}}const dt=[{regex:"360Spider(-Image|-Video)?",name:"360Spider",category:"Search bot",url:"http://www.so.com/help/help_3_2.html",producer:{name:"Online Media Group, Inc.",url:""}},{regex:"Aboundex",name:"Aboundexbot",category:"Search bot",url:"http://www.aboundex.com/crawler/",producer:{name:"Aboundex.com",url:"http://www.aboundex.com"}},{regex:"AcoonBot",name:"Acoon",category:"Search bot",url:"http://www.acoon.de/robot.asp",producer:{name:"Acoon GmbH",url:"http://www.acoon.de"}},{regex:"AddThis\\.com",name:"AddThis.com",category:"Social Media Agent",url:"",producer:{name:"Clearspring Technologies, Inc.",url:"http://www.clearspring.com"}},{regex:"AhrefsBot",name:"aHrefs Bot",category:"Crawler",url:"http://ahrefs.com/robot",producer:{name:"Ahrefs Pte Ltd",url:"http://ahrefs.com/robot"}},{regex:"ia_archiver|alexabot|verifybot",name:"Alexa Crawler",category:"Search bot",url:"https://alexa.zendesk.com/hc/en-us/sections/200100794-Crawlers",producer:{name:"Alexa Internet",url:"http://www.alexa.com"}},{regex:"alexa site audit",name:"Alexa Site Audit",category:"Site Monitor",url:"http://www.alexa.com/help/webmasters",producer:{name:"Alexa Internet",url:"http://www.alexa.com"}},{regex:"Amazon[ -]Route ?53[ -]Health[ -]Check[ -]Service",name:"Amazon Route53 Health Check",category:"Service Agent",producer:{name:"Amazon Web Services",url:"https://aws.amazon.com/"}},{regex:"AmorankSpider",name:"Amorank Spider",category:"Crawler",url:"http://amorank.com/webcrawler.html",producer:{name:"Amorank",url:"http://www.amorank.com"}},{regex:"ApacheBench",name:"ApacheBench",category:"Benchmark",url:"https://httpd.apache.org/docs/2.4/programs/ab.html",producer:{name:"The Apache Software Foundation",url:"http://www.apache.org/foundation/"}},{regex:"Applebot",name:"Applebot",category:"Crawler",url:"http://www.apple.com/go/applebot",producer:{name:"Apple Inc",url:"http://www.apple.com"}},{regex:"Arachni",name:"Arachni",category:"Security Checker",url:"http://www.arachni-scanner.com",producer:{name:"Sarosys LLC",url:"http://www.sarosys.com/"}},{regex:"AspiegelBot",name:"AspiegelBot",category:"Crawler",url:"https://aspiegel.com/",producer:{name:"Huawei",url:"https://www.huawei.com/"}},{regex:"Castro 2, Episode Duration Lookup",name:"Castro 2",category:"Service Agent",url:"http://supertop.co/castro/",producer:{name:"Supertop",url:"http://supertop.co"}},{regex:"Curious George",name:"Analytics SEO Crawler",category:"Crawler",url:"http://www.analyticsseo.com/crawler",producer:{name:"Analytics SEO",url:"http://www.analyticsseo.com"}},{regex:"archive\\.org_bot|special_archiver",name:"archive.org bot",category:"Crawler",url:"http://www.archive.org/details/archive.org_bot",producer:{name:"The Internet Archive",url:"http://www.archive.org"}},{regex:"Ask Jeeves/Teoma",name:"Ask Jeeves",category:"Search bot",url:"",producer:{name:"Ask Jeeves Inc.",url:"http://www.ask.com"}},{regex:"Backlink-Check\\.de",name:"Backlink-Check.de",category:"Crawler",url:"http://www.backlink-check.de/bot.html",producer:{name:"Mediagreen Medienservice",url:"http://www.backlink-check.de"}},{regex:"BacklinkCrawler",name:"BacklinkCrawler",category:"Crawler",url:"http://www.backlinktest.com/crawler.html",producer:{name:"2.0Promotion GbR",url:"http://www.backlinktest.com"}},{regex:"baiduspider(-image)?|baidu Transcoder|baidu.*spider",name:"Baidu Spider",category:"Search bot",url:"http://www.baidu.com/search/spider.htm",producer:{name:"Baidu",url:"http://www.baidu.com"}},{regex:"BazQux",name:"BazQux Reader",url:"https://bazqux.com/fetcher",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"MSNBot|msrbot|bingbot|BingPreview|msnbot-(UDiscovery|NewsBlogs)|adidxbot",name:"BingBot",category:"Search bot",url:"http://search.msn.com/msnbot.htmn",producer:{name:"Microsoft Corporation",url:"http://www.microsoft.com"}},{regex:"Blekkobot",name:"Blekkobot",category:"Search bot",url:"http://blekko.com/about/blekkobot",producer:{name:"Blekko",url:"http://blekko.com"}},{regex:"BLEXBot(Test)?",name:"BLEXBot Crawler",category:"Crawler",url:"http://webmeup-crawler.com",producer:{name:"WebMeUp",url:"http://webmeup.com"}},{regex:"Bloglovin",name:"Bloglovin",url:"http://www.bloglovin.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"Blogtrottr",name:"Blogtrottr",url:"",category:"Feed Fetcher",producer:{name:"Blogtrottr Ltd",url:"https://blogtrottr.com/"}},{regex:"BoardReader Blog Indexer",name:"BoardReader Blog Indexer",category:"Crawler",producer:{name:"BoardReader",url:"http://boardreader.com/"}},{regex:"BountiiBot",name:"Bountii Bot",category:"Search bot",url:"http://bountii.com/contact.php",producer:{name:"Bountii Inc.",url:"http://bountii.com"}},{regex:"Browsershots",name:"Browsershots",category:"Service Agent",url:"http://browsershots.org/faq",producer:{name:"Browsershots.org",url:"http://browsershots.org"}},{regex:"BUbiNG",name:"BUbiNG",category:"Crawler",url:"http://law.di.unimi.it/BUbiNG.html",producer:{name:"The Laboratory for Web Algorithmics (LAW)",url:"http://law.di.unimi.it/software.php#buging"}},{regex:"(?<!HTC)[ _]Butterfly/",name:"Butterfly Robot",category:"Search bot",url:"http://labs.topsy.com/butterfly",producer:{name:"Topsy Labs",url:"http://labs.topsy.com"}},{regex:"CareerBot",name:"CareerBot",category:"Crawler",url:"http://www.career-x.de/bot.html",producer:{name:"career-x GmbH",url:"http://www.career-x.de"}},{regex:"CCBot",name:"ccBot crawler",category:"Crawler",url:"http://commoncrawl.org/faq/",producer:{name:"reddit inc.",url:"http://www.reddit.com"}},{regex:"Cliqzbot",name:"Cliqzbot",category:"Crawler",url:"http://cliqz.com/company/cliqzbot",producer:{name:"10betterpages GmbH",url:"http://cliqz.com"}},{regex:"Cloudflare-AMP",name:"CloudFlare AMP Fetcher",category:"Crawler",url:"https://amp.cloudflare.com/doc/fetcher.html",producer:{name:"CloudFlare",url:"http://www.cloudflare.com"}},{regex:"CloudFlare-AlwaysOnline",name:"CloudFlare Always Online",category:"Site Monitor",url:"http://www.cloudflare.com/always-online",producer:{name:"CloudFlare",url:"http://www.cloudflare.com"}},{regex:"coccoc|coccocbot(-ads|-fast|-image|-shopping|-web)?",name:"Cốc Cốc Bot",url:"https://help.coccoc.com/en/search-engine/coccoc-robots",category:"Search bot",producer:{name:"Cốc Cốc",url:"https://coccoc.com/"}},{regex:"collectd",name:"Collectd",url:"https://collectd.org/",category:"Site Monitor",producer:{name:"Collectd",url:"https://collectd.org/"}},{regex:"CommaFeed",name:"CommaFeed",url:"http://www.commafeed.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"CSS Certificate Spider",name:"CSS Certificate Spider",category:"Crawler",url:"http://www.css-security.com/certificatespider/",producer:{name:"Certified Security Solutions",url:"https://www.css-security.com/company/about-us/"}},{regex:"Datadog Agent",name:"Datadog Agent",url:"https://github.com/DataDog/dd-agent",category:"Site Monitor",producer:{name:"Datadog",url:"https://www.datadoghq.com/"}},{regex:"Datanyze",name:"Datanyze",url:"",category:"Crawler",producer:{name:"Datanyze",url:"https://www.datanyze.com"}},{regex:"Dataprovider",name:"Dataprovider",category:"Crawler",url:"",producer:{name:"Dataprovider B.V.",url:"https://www.dataprovider.com/"}},{regex:"Daum(oa)?[ /][0-9]",name:"Daum",category:"Search bot",url:"http://tab.search.daum.net/aboutWebSearch_en.html",producer:{name:"Daum Communications Corp.",url:"http://www.kakaocorp.com/main"}},{regex:"Dazoobot",name:"Dazoobot",category:"Search bot",url:"",producer:{name:"DAZOO.FR",url:"http://dazoo.fr"}},{regex:"discobot(-news)?",name:"Discobot",category:"Search bot",url:"http://discoveryengine.com/discobot.html",producer:{name:"Discovery Engine",url:"http://discoveryengine.com"}},{regex:"Domain Re-Animator Bot|support@domainreanimator.com",name:"Domain Re-Animator Bot",category:"Crawler",url:"",producer:{name:"Domain Re-Animator, LLC",url:"http://domainreanimator.com"}},{regex:"DotBot",name:"DotBot",category:"Crawler",url:"http://www.opensiteexplorer.org/dotbot",producer:{name:"SEOmoz, Inc.",url:"http://moz.com/"}},{regex:"DuckDuck(?:Go-Favicons-)?Bot",name:"DuckDuckGo Bot",category:"Search bot",url:"https://duckduckgo.com/duckduckbot",producer:{name:"DuckDuckGo",url:"https://duckduckgo.com/"}},{regex:"EasouSpider",name:"Easou Spider",category:"Search bot",url:"http://www.easou.com/search/spider.html",producer:{name:"easou ICP",url:"http://www.easou.com"}},{regex:"eCairn-Grabber",name:"eCairn-Grabber",category:"Crawler",producer:{name:"eCairn",url:"https://ecairn.com"}},{regex:"EMail Exractor",name:"EMail Exractor",category:"Crawler",url:"",producer:{name:"",url:""}},{regex:"evc-batch",name:"evc-batch",category:"Crawler",url:"",producer:{name:"eVenture Capital Partners II, LLC",url:"http://www.eventures.vc/"}},{regex:"Exabot(-Thumbnails|-Images)?|ExaleadCloudview",name:"ExaBot",category:"Crawler",url:"http://www.exabot.com/go/robot",producer:{name:"Dassault Systèmes",url:"http://www.3ds.com"}},{regex:"ExactSeek Crawler",name:"ExactSeek Crawler",category:"Search bot",url:"http://www.exactseek.com",producer:{name:"Jayde Online, Inc.",url:"http://www.jaydeonlineinc.com"}},{regex:"Ezooms",name:"Ezooms",category:"Crawler",url:"",producer:{name:"SEOmoz, Inc.",url:"http://moz.com/"}},{regex:"facebookexternalhit|facebookplatform|facebookexternalua",name:"Facebook External Hit",category:"Social Media Agent",url:"https://www.facebook.com/externalhit_uatext.php",producer:{name:"Facebook",url:"http://www.facebook.com"}},{regex:"Feedbin",name:"Feedbin",url:"http://feedbin.com/",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"FeedBurner",name:"FeedBurner",url:"http://www.feedburner.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"Feed Wrangler",name:"Feed Wrangler",url:"https://feedwrangler.net/",category:"Feed Fetcher",producer:{name:"David Smith & Developing Perspective, LLC",url:"https://david-smith.org"}},{regex:"(Meta)?Feedly(Bot|App)?",name:"Feedly",url:"http://www.feedly.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"Feedspot",name:"Feedspot",url:"http://www.feedspot.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"Fever/[0-9]",name:"Fever",url:"http://feedafever.com/",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"FlipboardProxy|FlipboardRSS",name:"Flipboard",url:"http://flipboard.com/browserproxy",category:"Feed Fetcher",producer:{name:"Flipboard",url:"http://flipboard.com/"}},{regex:"Findxbot",name:"Findxbot",category:"Crawler",url:"http://www.findxbot.com"},{regex:"FreshRSS",name:"FreshRSS",category:"Feed Fetcher",url:"https://freshrss.org/"},{regex:"Genieo",name:"Genieo Web filter",category:"",url:"http://www.genieo.com/webfilter.html",producer:{name:"Genieo",url:"http://www.genieo.com"}},{regex:"GigablastOpenSource",name:"Gigablast",category:"Search bot",url:"https://github.com/gigablast/open-source-search-engine",producer:{name:"Matt Wells",url:"http://www.gigablast.com/faq.html"}},{regex:"Gluten Free Crawler",name:"Gluten Free Crawler",category:"Crawler",url:"http://glutenfreepleasure.com/",producer:{name:"",url:""}},{regex:"ichiro/mobile goo",name:"Goo",category:"Search bot",url:"http://search.goo.ne.jp/option/use/sub4/sub4-1",producer:{name:"NTT Resonant",url:"http://goo.ne.jp"}},{regex:"Google Favicon",name:"Google Favicon",category:"Crawler"},{regex:"Google Search Console",name:"Google Search Console",category:"Crawler",url:"https://search.google.com/search-console/about",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"Google Page Speed Insights",name:"Google PageSpeed Insights",category:"Site Monitor",url:"http://developers.google.com/speed/pagespeed/insights/",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"google_partner_monitoring",name:"Google Partner Monitoring",category:"Site Monitor",url:"",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"Google-Cloud-Scheduler",name:"Google Cloud Scheduler",category:"Crawler",url:"https://cloud.google.com/scheduler",producer:{name:"Google Inc.",url:"https://www.google.com"}},{regex:"Google-Structured-Data-Testing-Tool",name:"Google Structured Data Testing Tool",category:"Validator",url:"https://search.google.com/structured-data/testing-tool",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"GoogleStackdriverMonitoring",name:"Google Stackdriver Monitoring",category:"Site Monitor",url:"https://cloud.google.com/monitoring",producer:{name:"Google Inc.",url:"https://www.google.com"}},{regex:"via ggpht\\.com GoogleImageProxy",name:"Gmail Image Proxy",category:"Crawler",url:"",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"SeznamEmailProxy",name:"Seznam Email Proxy",category:"Crawler",url:"",producer:{name:"Seznam.cz, a.s.",url:"http://www.seznam.cz/"}},{regex:"Seznam-Zbozi-robot",name:"Seznam Zbozi.cz",category:"Crawler",url:"",producer:{name:"Seznam.cz, a.s.",url:"https://www.zbozi.cz/"}},{regex:"Heurekabot-Feed",name:"Heureka Feed",category:"Crawler",url:"https://sluzby.heureka.cz/napoveda/heurekabot/",producer:{name:"Heureka.cz, a.s.",url:"https://www.heureka.cz/"}},{regex:"ShopAlike",name:"ShopAlike",category:"Crawler",url:"",producer:{name:"Visual Meta",url:"https://www.shopalike.cz/"}},{regex:"AdsBot-Google(-Mobile)?|Adwords-(DisplayAds|Express|Instant)|Google Web Preview|Google[ -]Publisher[ -]Plugin|Google-(Adwords|AMPHTML|Assess|HotelAdsVerifier|Read-Aloud|Shopping-Quality|Site-Verification|speakr|Test|Youtube-Links)|(APIs|DuplexWeb|Feedfetcher|Mediapartners)-Google|Googlebot(-Mobile|-Image|-Video|-News)?|GoogleProducer|Google.*/\\+/web/snippet",name:"Googlebot",category:"Search bot",url:"http://www.google.com/bot.html",producer:{name:"Google Inc.",url:"http://www.google.com"}},{regex:"heritrix",name:"Heritrix",category:"Crawler",url:"https://webarchive.jira.com/wiki/display/Heritrix/Heritrix",producer:{name:"The Internet Archive",url:"http://www.archive.org"}},{regex:"HubSpot ",name:"HubSpot",category:"Crawler",producer:{name:"HubSpot Inc.",url:"https://www.hubspot.com"}},{regex:"HTTPMon",name:"HTTPMon",category:"Site Monitor",url:"http://www.httpmon.com",producer:{name:"towards GmbH",url:"http://www.towards.ch/"}},{regex:"ICC-Crawler",name:"ICC-Crawler",category:"Crawler",url:"http://www.nict.go.jp/en/univ-com/plan/crawl.html",producer:{name:"",url:""}},{regex:"inoreader.com",name:"inoreader",category:"Feed Reader",url:"https://www.inoreader.com"},{regex:"iisbot",name:"IIS Site Analysis",category:"Crawler",url:"http://www.iis.net/iisbot.html",producer:{name:"Microsoft Corporation",url:"http://www.microsoft.com"}},{regex:"ips-agent",name:"IPS Agent",category:"crawler",producer:{name:"VeriSign, Inc",url:"http://www.verisign.com/"}},{regex:"IP-Guide\\.com",name:"IP-Guide Crawler",category:"Crawler",url:"",producer:{name:"",url:"https://ip-guide.com"}},{regex:"kouio",name:"Kouio",url:"http://kouio.com/",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"larbin",name:"Larbin web crawler",category:"Crawler",url:"http://larbin.sourceforge.net",producer:{name:"",url:""}},{regex:"([A-z0-9]*)-Lighthouse",name:"Lighthouse",category:"Site Monitor",url:"https://developers.google.com/web/tools/lighthouse",producer:{name:"Lighthouse",url:"https://developers.google.com/web/tools/lighthouse"}},{regex:"linkdexbot(-mobile)?|linkdex\\.com",name:"Linkdex Bot",category:"Search bot",url:"http://www.linkdex.com/bots",producer:{name:"Mojeek Ltd.",url:"http://www.mojeek.com"}},{regex:"LinkedInBot",name:"LinkedIn Bot",category:"Social Media Agent",url:"http://www.linkedin.com",producer:{name:"LinkedIn",url:"http://www.linkedin.com"}},{regex:"ltx71",name:"LTX71",url:"http://ltx71.com/",producer:{name:"",url:""}},{regex:"Mail\\.RU(_Bot)?",name:"Mail.Ru Bot",category:"Search bot",url:"http://help.mail.ru/webmaster/indexing/robots/types_robots",producer:{name:"Mail.Ru Group",url:"http://corp.mail.ru"}},{regex:"magpie-crawler",name:"Magpie-Crawler",category:"Social Media Agent",url:"http://www.brandwatch.com/magpie-crawler/",producer:{name:"Brandwatch",url:"http://www.brandwatch.com"}},{regex:"MagpieRSS",name:"MagpieRSS",url:"http://magpierss.sourceforge.net/",category:"Feed Parser",producer:{name:"",url:""}},{regex:"masscan",name:"masscan",url:"https://github.com/robertdavidgraham/masscan",category:"Crawler",producer:{name:"Robert Graham",url:"https://github.com/robertdavidgraham"}},{regex:"Mastodon/",name:"Mastodon Bot",category:"Social Media Agent"},{regex:"meanpathbot",name:"Meanpath Bot",category:"Search bot",url:"http://www.meanpath.com/meanpathbot.html",producer:{name:"Meanpath",url:"http://www.meanpath.com"}},{regex:"MetaJobBot",name:"MetaJobBot",category:"Crawler",url:"http://www.metajob.at/the/crawler",producer:{name:"MetaJob",url:"http://www.metajob.at"}},{regex:"MetaInspector",name:"MetaInspector",category:"Crawler",url:"https://github.com/jaimeiniesta/metainspector"},{regex:"MixrankBot",name:"Mixrank Bot",category:"Crawler",url:"http://mixrank.com",producer:{name:"Online Media Group, Inc.",url:""}},{regex:"MJ12bot",name:"MJ12 Bot",category:"Search bot",url:"http://majestic12.co.uk/bot.php",producer:{name:"Majestic-12",url:"http://majestic12.co.uk"}},{regex:"Mnogosearch",name:"Mnogosearch",category:"Search bot",url:"http://www.mnogosearch.org/",producer:{name:"Lavtech.Com Corp.",url:""}},{regex:"MojeekBot",name:"MojeekBot",category:"Search bot",url:"http://www.mojeek.com/bot.html",producer:{name:"Mojeek Ltd.",url:"http://www.mojeek.com"}},{regex:"munin",name:"Munin",category:"Site Monitor",url:"http://munin-monitoring.org/",producer:{name:"Munin",url:"http://munin-monitoring.org/"}},{regex:"NalezenCzBot",name:"NalezenCzBot",category:"Crawler",url:"http://www.nalezen.cz/about-crawler",producer:{name:"Jaroslav Kuboš",url:""}},{regex:"check_http/v",name:"Nagios check_http",category:"Site Monitor",url:"https://nagios.org",producer:{name:"Nagios Plugins Development Team",url:"https://nagios.org"}},{regex:"nbertaupete95\\(at\\)gmail.com",name:"nbertaupete95",category:"Crawler"},{regex:"Netcraft( Web Server Survey| SSL Server Survey|SurveyAgent)",name:"Netcraft Survey Bot",category:"Search bot",url:"",producer:{name:"Netcraft",url:"http://www.netcraft.com"}},{regex:"netEstate NE Crawler",name:"netEstate",category:"Crawler",url:"http://www.website-datenbank.de/Impressum",producer:{name:"netEstate GmbH",url:"https://www.netestate.de/en/"}},{regex:"Netvibes",name:"Netvibes",url:"http://www.netvibes.com/",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"NewsBlur .*(Fetcher|Finder)",name:"NewsBlur",url:"http://www.newsblur.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"NewsGatorOnline",name:"NewsGator",url:"http://www.newsgator.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"nlcrawler",name:"NLCrawler",category:"Crawler",url:"",producer:{name:"Northern Light",url:"http://northernlight.com"}},{regex:"Nmap Scripting Engine",name:"Nmap",category:"Security Checker",url:"https://nmap.org/book/nse.html",producer:{name:"Nmap",url:"https://nmap.org/"}},{regex:"Nuzzel",name:"Nuzzel",category:"Crawler",producer:{name:"Nuzzel",url:"https://www.nuzzel.com/"}},{regex:"Octopus [0-9]",name:"Octopus"},{regex:"omgili(?:bot)?",name:"Omgili bot",category:"Search bot",url:"http://www.omgili.com/Crawler.html",producer:{name:"Omgili",url:"http://www.omgili.com"}},{regex:"OpenindexSpider",name:"Openindex Spider",category:"Search bot",url:"http://www.openindex.io/en/webmasters/spider.html",producer:{name:"Openindex B.V.",url:"http://www.openindex.io"}},{regex:"spbot",name:"OpenLinkProfiler",category:"Crawler",url:"http://openlinkprofiler.org/bot",producer:{name:"Axandra GmbH",url:"http://www.axandra.com"}},{regex:"OpenWebSpider",name:"OpenWebSpider",category:"Crawler",url:"http://www.openwebspider.org",producer:{name:"OpenWebSpider Lab",url:"http://lab.openwebspider.org"}},{regex:"OrangeBot|VoilaBot",name:"Orange Bot",category:"Search bot",url:"http://lemoteur.orange.fr",producer:{name:"Orange",url:"http://www.orange.fr"}},{regex:"PaperLiBot",name:"PaperLiBot",category:"Search bot",url:"http://support.paper.li/entries/20023257-what-is-paper-li",producer:{name:"Smallrivers SA",url:"http://www.paper.li"}},{regex:"phantomas/",name:"Phantomas",category:"Site Monitor",url:"https://github.com/macbre/phantomas"},{regex:"phpservermon",name:"PHP Server Monitor",category:"Site Monitor",url:"https://github.com/phpservermon/phpservermon",producer:{name:"PHP Server Monitor",url:"http://www.phpservermonitor.org/"}},{regex:"PocketParser",name:"PocketParser",category:"Read-it-later Service",url:"https://getpocket.com/pocketparser_ua",producer:{name:"Pocket",url:"https://getpocket.com/"}},{regex:"PritTorrent",name:"PritTorrent",category:"Crawler",url:"https://github.com/astro/prittorrent",producer:{name:"Bitlove",url:"http://bitlove.org/"}},{regex:"psbot(-page)?",name:"Picsearch bot",category:"Search bot",url:"http://www.picsearch.com/bot.html",producer:{name:"Picsearch",url:"http://www.picsearch.com"}},{regex:"Pingdom\\.com",name:"Pingdom Bot",category:"Site Monitor",url:"",producer:{name:"Pingdom AB",url:"https://www.pingdom.com"}},{regex:"Quora Link Preview",name:"Quora Link Preview",category:"Crawler",url:"",producer:{name:"Quora",url:"http://www.quora.com"}},{regex:"RamblerMail",name:"RamblerMail Image Proxy",category:"Crawler",url:"",producer:{name:"Rambler&Co",url:"https://rambler-co.ru/"}},{regex:"QuerySeekerSpider",name:"QuerySeekerSpider",category:"Crawler",url:"http://queryseeker.com/bot.html",producer:{name:"QueryEye Inc.",url:"http://queryeye.com"}},{regex:"Qwantify",name:"Qwantify",category:"Crawler",url:"https://www.qwant.com/",producer:{name:"Qwant Corporation",url:"https://www.qwant.com/"}},{regex:"Rainmeter",name:"Rainmeter",category:"Crawler",url:"https://www.rainmeter.net"},{regex:"redditbot",name:"Reddit Bot",category:"Social Media Agent",url:"http://www.reddit.com/feedback",producer:{name:"reddit inc.",url:"http://www.reddit.com"}},{regex:"Riddler",name:"Riddler",category:"Security search bot",url:"https://riddler.io/about",producer:{name:"F-Secure",url:"https://www.f-secure.com"}},{regex:"rogerbot",name:"Rogerbot",category:"Crawler",url:"http://moz.com/help/pro/what-is-rogerbot-",producer:{name:"SEOmoz, Inc.",url:"http://moz.com/"}},{regex:"ROI Hunter",name:"ROI Hunter",category:"Crawler",url:"",producer:{name:"Roihunter a.s.",url:"http://roihunter.com/"}},{regex:"SafeDNSBot",name:"SafeDNSBot",category:"Crawler",url:"https://www.safedns.com/searchbot",producer:{name:"SafeDNS, Inc.",url:"https://www.safedns.com/"}},{regex:"Scrapy",name:"Scrapy",category:"Crawler",url:"http://scrapy.org"},{regex:"Screaming Frog SEO Spider",name:"Screaming Frog SEO Spider",category:"Crawler",url:"http://www.screamingfrog.co.uk/seo-spider",producer:{name:"Screaming Frog Ltd",url:"http://www.screamingfrog.co.uk"}},{regex:"ScreenerBot",name:"ScreenerBot",category:"Crawler",url:"http://www.screenerbot.com",producer:{name:"",url:""}},{regex:"SemrushBot",name:"Semrush Bot",category:"Crawler",url:"http://www.semrush.com/bot.html",producer:{name:"SEMrush",url:"http://www.semrush.com"}},{regex:"SensikaBot",name:"Sensika Bot",category:"",url:"",producer:{name:"Sensika",url:"http://sensika.com"}},{regex:"SEOENG(World)?Bot",name:"SEOENGBot",category:"Crawler",url:"http://www.seoengine.com/seoengbot.htm",producer:{name:"SEO Engine",url:"http://www.seoengine.com"}},{regex:"SEOkicks-Robot",name:"SEOkicks-Robot",category:"Crawler",url:"http://www.seokicks.de/robot.html",producer:{name:"SEOkicks",url:"https://www.seokicks.de/"}},{regex:"seoscanners\\.net",name:"Seoscanners.net",category:"Crawler",url:""},{regex:"SkypeUriPreview",name:"Skype URI Preview",category:"Service Agent",url:"",producer:{name:"Skype Communications S.à.r.l.",url:"https://www.skype.com"}},{regex:"SeznamBot|SklikBot|Seznam screenshot-generator",name:"Seznam Bot",category:"Search bot",url:"http://www.mapy.cz/cz/seznambot.html",producer:{name:"Seznam.cz, a.s.",url:"http://www.seznam.cz/"}},{regex:"shopify-partner-homepage-scraper",name:"Shopify Partner",category:"Crawler",url:"https://www.shopify.com/partners",producer:{name:"Shopify",url:"https://www.shopify.com/"}},{regex:"ShopWiki",name:"ShopWiki",category:"Search tools",url:"http://www.shopwiki.com/wiki/Help:Bot",producer:{name:"ShopWiki Corp.",url:"http://www.shopwiki.com"}},{regex:"SilverReader",name:"SilverReader",url:"http://silverreader.com",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"SimplePie",name:"SimplePie",url:"http://www.simplepie.org",category:"Feed Parser",producer:{name:"",url:""}},{regex:"SISTRIX Crawler",name:"SISTRIX Crawler",category:"Crawler",url:"http://crawler.sistrix.net",producer:{name:"SISTRIX GmbH",url:"http://www.sistrix.de"}},{regex:"SISTRIX Optimizer",name:"SISTRIX Optimizer",category:"Crawler",url:"https://optimizer.sistrix.com",producer:{name:"SISTRIX GmbH",url:"http://www.sistrix.de"}},{regex:"SiteSucker",name:"SiteSucker",category:"Crawler",url:"http://ricks-apps.com/osx/sitesucker/"},{regex:"sixy.ch",name:"Sixy.ch",category:"Site Monitor",url:"http://sixy.ch",producer:{name:"Manuel Kasper",url:"https://neon1.net/"}},{regex:"Slackbot|Slack-ImgProxy",name:"Slackbot",category:"Crawler",url:"https://api.slack.com/robots",producer:{name:"Slack Technologies",url:"http://slack.com"}},{regex:"(Sogou (web|inst|Pic) spider)|New-Sogou-Spider",name:"Sogou Spider",category:"Search bot",url:"http://www.sogou.com/docs/help/webmasters.htm",producer:{name:"Sohu, Inc.",url:"http://www.sogou.com"}},{regex:"Sosospider|Sosoimagespider",name:"Soso Spider",category:"Search bot",url:"http://help.soso.com/webspider.htm",producer:{name:"Tencent Holdings",url:"http://www.soso.com"}},{regex:"sqlmap/",name:"sqlmap",category:"Security Checker",url:"http://sqlmap.org/",producer:{name:"sqlmap",url:"http://sqlmap.org/"}},{regex:"SSL Labs",name:"SSL Labs",category:"Validator",url:"https://www.ssllabs.com/about/assessment.html",producer:{name:"SSL Labs",url:"https://www.ssllabs.com/about/assessment.html"}},{regex:"StatusCake",name:"StatusCake",category:"Site Monitor",url:"https://www.statuscake.com",producer:{name:"StatusCake",url:"https://www.statuscake.com"}},{regex:"Superfeedr bot",name:"Superfeedr Bot",category:"Feed Fetcher",url:"",producer:{name:"Superfeedr",url:"https://superfeedr.com/"}},{regex:"Sparkler/[0-9]",name:"Sparkler",category:"Crawler",url:"https://github.com/USCDataScience/sparkler"},{regex:"Spinn3r",name:"Spinn3r",category:"Crawler",url:"http://spinn3r.com/robot",producer:{name:"Tailrank Inc",url:"http://spinn3r.com"}},{regex:"Sputnik(Image)?Bot",name:"Sputnik Bot",category:"",url:"",producer:{name:"",url:""}},{regex:"SurveyBot",name:"Survey Bot",category:"Search bot",url:"http://www.domaintools.com/webmasters/surveybot.php",producer:{name:"Domain Tools",url:"http://www.domaintools.com"}},{regex:"TarmotGezgin",name:"Tarmot Gezgin",url:"http://www.tarmot.com/gezgin/",category:"Search bot"},{regex:"TelegramBot",name:"TelegramBot",url:"https://telegram.org/blog/bot-revolution"},{regex:"TLSProbe",name:"TLSProbe",url:"https://scan.trustnet.venafi.com/",category:"Security search bot",producer:{name:"Venafi TrustNet",url:"https://www.venafi.com"}},{regex:"TinEye-bot",name:"TinEye Crawler",category:"Search bot",url:"http://www.tineye.com/crawler.html",producer:{name:"Idée Inc.",url:"http://ideeinc.com"}},{regex:"Tiny Tiny RSS",name:"Tiny Tiny RSS",url:"http://tt-rss.org",category:"Feed Fetcher",producer:{name:"",url:""}},{regex:"theoldreader.com",name:"theoldreader",category:"Feed Reader",url:"https://theoldreader.com"},{regex:"trendictionbot",name:"Trendiction Bot",category:"Crawler",url:"http://www.trendiction.de/bot",producer:{name:"Talkwalker Inc.",url:"http://www.talkwalker.com"}},{regex:"TurnitinBot",name:"TurnitinBot",category:"Crawler",url:"http://www.turnitin.com/robot/crawlerinfo.html",producer:{name:"iParadigms, LLC.",url:"http://www.turnitin.com"}},{regex:"TweetedTimes Bot",name:"TweetedTimes Bot",category:"Crawler",url:"http://tweetedtimes.com",producer:{name:"TweetedTimes",url:"http://tweetedtimes.com/"}},{regex:"TweetmemeBot",name:"Tweetmeme Bot",category:"Crawler",url:"http://tweetmeme.com/",producer:{name:"Mediasift",url:""}},{regex:"Twingly Recon",name:"Twingly Recon",category:"Crawler",producer:{name:"Twingly",url:"https://www.twingly.com"}},{regex:"Twitterbot",name:"Twitterbot",category:"Social Media Agent",url:"https://dev.twitter.com/docs/cards/getting-started",producer:{name:"Twitter",url:"http://www.twitter.com"}},{regex:"UniversalFeedParser",name:"UniversalFeedParser",category:"Feed Fetcher",url:"https://github.com/kurtmckee/feedparser",producer:{name:"Kurt McKee",url:"https://github.com/kurtmckee"}},{regex:"via secureurl\\.fwdcdn\\.com",name:"UkrNet Mail Proxy",category:"Crawler",url:"",producer:{name:"UkrNet Ltd",url:"https://www.ukr.net/"}},{regex:"Uptimebot",name:"Uptimebot",category:"Site Monitor",url:"https://uptime.com/uptimebot",producer:{name:"Uptime",url:"https://uptime.com"}},{regex:"UptimeRobot",name:"Uptime Robot",category:"Site Monitor",url:"",producer:{name:"Uptime Robot",url:"http://uptimerobot.com"}},{regex:"URLAppendBot",name:"URLAppendBot",category:"Crawler",url:"http://www.profound.net/urlappendbot.html",producer:{name:"Profound Networks",url:"http://www.profound.net"}},{regex:"Vagabondo",name:"Vagabondo",category:"Crawler",url:"",producer:{name:"WiseGuys",url:"http://www.wise-guys.nl/"}},{regex:"vkShare; ",name:"VK Share Button",category:"Crawler",url:"http://vk.com/dev/Share",producer:{name:"VK",url:"http://vk.com/"}},{regex:"VSMCrawler",name:"Visual Site Mapper Crawler",category:"Crawler",url:"http://www.visualsitemapper.com/crawler",producer:{name:"Alentum Software Ltd.",url:"http://www.alentum.com"}},{regex:"Jigsaw",name:"W3C CSS Validator",category:"Validator",url:"http://jigsaw.w3.org/css-validator",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"W3C_I18n-Checker",name:"W3C I18N Checker",category:"Validator",url:"http://validator.w3.org/i18n-checker",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"W3C-checklink",name:"W3C Link Checker",category:"Validator",url:"http://validator.w3.org/checklink",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"W3C_Validator|Validator.nu",name:"W3C Markup Validation Service",category:"Validator",url:"http://validator.w3.org/services",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"W3C-mobileOK",name:"W3C MobileOK Checker",category:"Validator",url:"http://validator.w3.org/mobile",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"W3C_Unicorn",name:"W3C Unified Validator",category:"Validator",url:"http://validator.w3.org/unicorn",producer:{name:"W3C",url:"http://www.w3.org"}},{regex:"Wappalyzer",name:"Wappalyzer",url:"https://github.com/AliasIO/Wappalyzer",producer:{name:"AliasIO",url:"https://github.com/AliasIO"}},{regex:"PTST/",name:"WebPageTest",category:"Site Monitor",url:"https://www.webpagetest.org"},{regex:"WeSEE(:Search)?",name:"WeSEE:Search",category:"Search bot",url:"http://www.wesee.com/bot",producer:{name:"WeSEE Ltd",url:"http://www.wesee.com"}},{regex:"WebbCrawler",name:"WebbCrawler",category:"Crawler",url:"http://badcheese.com/crawler.html",producer:{name:"Steve Webb",url:"http://badcheese.com"}},{regex:"websitepulse[+ ]checker",name:"WebSitePulse",category:"Site Monitor",url:"http://badcheese.com/crawler.html",producer:{name:"WebSitePulse",url:"http://www.websitepulse.com/"}},{regex:"WordPress",name:"WordPress",category:"Service Agent",url:"https://wordpress.org/",producer:{name:"Wordpress.org",url:"https://wordpress.org/"}},{regex:"Wotbox",name:"Wotbox",category:"Search bot",url:"http://www.wotbox.com/bot/",producer:{name:"Wotbox",url:"http://www.wotbox.com"}},{regex:"XenForo",name:"XenForo",category:"Service Agent",url:"https://xenforo.com/",producer:{name:"XenForo Ltd.",url:"https://xenforo.com/"}},{regex:"yacybot",name:"YaCy",category:"Search bot",url:"http://yacy.net/bot.html",producer:{name:"YaCy",url:"http://yacy.net"}},{regex:"Yahoo! Slurp|Yahoo!-AdCrawler",name:"Yahoo! Slurp",category:"Search bot",url:"http://help.yahoo.com/ysearch/slurp",producer:{name:"Yahoo! Inc.",url:"http://www.yahoo.com"}},{regex:"Yahoo Link Preview|Yahoo:LinkExpander:Slingstone",name:"Yahoo! Link Preview",category:"Crawler",url:"https://help.yahoo.com/kb/mail/yahoo-link-preview-SLN23615.html",producer:{name:"Yahoo! Inc.",url:"http://www.yahoo.com"}},{regex:"YahooCacheSystem",name:"Yahoo! Cache System",category:"Crawler",url:"",producer:{name:"Yahoo! Inc.",url:"http://www.yahoo.com"}},{regex:"Y!J-BRW",name:"Yahoo! Japan BRW",category:"Crawler",url:"https://www.yahoo-help.jp/app/answers/detail/p/595/a_id/42716/~/ウェブページにアクセスするシステムのユーザーエージェントについて",producer:{name:"Yahoo! Japan Corp.",url:"https://www.yahoo.co.jp/"}},{regex:"Yandex(SpravBot|ScreenshotBot|MobileBot|AccessibilityBot|ForDomain|Vertis|Market|Catalog|Calendar|Sitelinks|AdNet|Pagechecker|Webmaster|Media|Video|Bot|Images|Antivirus|Direct|Blogs|Favicons|ImageResizer|Verticals|News(links)?|Metrika|\\.Gazeta Bot)|YaDirectFetcher|YandexTurbo|YandexTracker|YandexSearchShop|YandexRCA|YandexPartner|YandexOntoDBAPI|YandexOntoDB|YandexMobileScreenShotBot",name:"Yandex Bot",category:"Search bot",url:"http://www.yandex.com/bots",producer:{name:"Yandex LLC",url:"http://company.yandex.com"}},{regex:"Yeti|NaverJapan",name:"Yeti/Naverbot",category:"Search bot",url:"http://help.naver.com/robots/",producer:{name:"Naver",url:"http://www.naver.com"}},{regex:"YoudaoBot",name:"Youdao Bot",category:"Search bot",url:"http://www.youdao.com/help/webmaster/spider",producer:{name:"NetEase, Inc.",url:"http://corp.163.com"}},{regex:"YOURLS v[0-9]",name:"Yourls",category:"Crawler",url:"http://yourls.org"},{regex:"YRSpider|YYSpider",name:"Yunyun Bot",category:"Search bot",url:"http://www.yunyun.com/SiteInfo.php?r=about",producer:{name:"YunYun",url:"http://www.yunyun.com"}},{regex:"zgrab",name:"zgrab",category:"Security Checker",url:"https://github.com/zmap/zgrab"},{regex:"Zookabot",name:"Zookabot",category:"Crawler",url:"http://zookabot.com",producer:{name:"Hwacha ApS",url:"http://hwacha.dk"}},{regex:"ZumBot",name:"ZumBot",category:"Search bot",url:"http://help.zum.com/inquiry",producer:{name:"ZUM internet",url:"http://www.zuminternet.com/"}},{regex:"YottaaMonitor",name:"Yottaa Site Monitor",category:"Site Monitor",url:"http://www.yottaa.com/products/site-monitor",producer:{name:"Yottaa",url:"http://www.yottaa.com/"}},{regex:"Yahoo Ad monitoring.*yahoo-ad-monitoring-SLN24857.*",name:"Yahoo Gemini",category:"Crawler",url:"https://help.yahoo.com/kb/yahoo-ad-monitoring-SLN24857.html",producer:{name:"Yahoo! Inc.",url:"http://www.yahoo.com"}},{regex:".*Java.*outbrain",name:"Outbrain",category:"Crawler",url:"",producer:{name:"Outbrain",url:"http://www.outbrain.com/"}},{regex:"HubPages.*crawlingpolicy",name:"HubPages",category:"Crawler",url:"http://hubpages.com/help/crawlingpolicy",producer:{name:"HubPages",url:"http://hubpages.com/"}},{regex:"Pinterest(bot)?/\\d\\.\\d.*www\\.pinterest\\.com.*",name:"Pinterest",url:"http://www.pinterest.com/bot.html",category:"Crawler",producer:{name:"Pinterest",url:"http://www.pinterest.com/"}},{regex:"Site24x7",name:"Site24x7 Website Monitoring",category:"Site Monitor",url:"https://www.site24x7.com/site24x7-faq.html",producer:{name:"Site24x7",url:"https://www.site24x7.com"}},{regex:"s~snapchat-proxy",name:"Snapchat Proxy",category:"Crawler",url:"https://www.snapchat.com",producer:{name:"Snapchat Inc.",url:"https://www.snapchat.com"}},{regex:"Let's Encrypt validation server",name:"Let's Encrypt Validation",category:"Service Agent",url:"https://letsencrypt.org/how-it-works/",producer:{name:"Let's Encrypt",url:"https://letsencrypt.org"}},{regex:"GrapeshotCrawler",name:"Grapeshot",category:"Crawler",url:"https://www.grapeshot.com/crawler",producer:{name:"Grapeshot",url:"https://www.grapeshot.com"}},{regex:"www\\.monitor\\.us",name:"Monitor.Us",category:"Site Monitor",url:"http://www.monitor.us",producer:{name:"Monitor.Us",url:"http://www.monitor.us"}},{regex:"Catchpoint( bot)?",name:"Catchpoint",category:"Site Monitor",url:"",producer:{name:"Catchpoint Systems",url:"http://www.catchpoint.com/"}},{regex:"bitlybot",name:"BitlyBot",category:"Crawler",url:"https://bitly.com",producer:{name:"Bitly, Inc.",url:"https://bitly.com"}},{regex:"Zao/",name:"Zao",category:"Crawler"},{regex:"lycos",name:"Lycos"},{regex:"Slurp",name:"Inktomi Slurp"},{regex:"Speedy Spider",name:"Speedy"},{regex:"ScoutJet",name:"ScoutJet"},{regex:"nrsbot|netresearch",name:"NetResearchServer"},{regex:"scooter",name:"Scooter"},{regex:"gigabot",name:"Gigabot"},{regex:"charlotte",name:"Charlotte"},{regex:"Pompos",name:"Pompos"},{regex:"ichiro",name:"ichiro"},{regex:"PagePeeker",name:"PagePeeker"},{regex:"WebThumbnail",name:"WebThumbnail"},{regex:"Willow Internet Crawler",name:"Willow Internet Crawler"},{regex:"EmailWolf",name:"EmailWolf"},{regex:"NetLyzer FastProbe",name:"NetLyzer FastProbe"},{regex:"AdMantX.*admantx\\.com",name:"ADMantX"},{regex:"Server Density Service Monitoring.*",name:"Server Density"},{regex:"RSSRadio \\(Push Notification Scanner;support@dorada\\.co\\.uk\\)",name:"RSSRadio Bot"},{regex:"(A6-Indexer|nuhk|TsolCrawler|Yammybot|Openbot|Gulper Web Bot|grub-client|Download Demon|SearchExpress|Microsoft URL Control|borg|altavista|dataminr.com|tweetedtimes.com|TrendsmapResolver|teoma|blitzbot|oegp|furlbot|http%20client|polybot|htdig|mogimogi|larbin|scrubby|searchsight|seekbot|semanticdiscovery|snappy|vortex(?! Build)|zeal|fast-webcrawler|converacrawler|dataparksearch|findlinks|BrowserMob|HttpMonitor|ThumbShotsBot|URL2PNG|ZooShot|GomezA|Google SketchUp|Read%20Later|RackspaceBot|robots|SeopultContentAnalyzer|7Siters|centuryb.o.t9)",name:"Generic Bot"},{regex:"^sentry",name:"Sentry Bot",producer:{name:"Sentry",url:"https://sentry.io"}},{regex:"^Spotify",name:"Spotify",producer:{name:"Spotify",url:"https://www.spotify.com"}},{regex:"The Knowledge AI",name:"The Knowledge AI",category:"Crawler"},{regex:"Embedly",name:"Embedly",category:"Crawler",url:"https://support.embed.ly/hc/en-us",producer:{name:"A Medium, Corp.",url:"https://medium.com/"}},{regex:"BrandVerity",name:"BrandVerity",category:"Crawler",url:"https://www.brandverity.com/why-is-brandverity-visiting-me",producer:{name:"BrandVerity, Inc.",url:"https://www.brandverity.com/"}},{regex:"Kaspersky Lab CFR link resolver",name:"Kaspersky",category:"Security Checker",url:"https://www.kaspersky.com/",producer:{name:"AO Kaspersky Lab",url:"https://www.kaspersky.com/"}},{regex:"eZ Publish Link Validator",name:"eZ Publish Link Validator",category:"Crawler",url:"https://ez.no/",producer:{name:"eZ Systems AS",url:"https://ez.no/"}},{regex:"woorankreview",name:"WooRank",category:"Search bot",url:"https://www.woorank.com/",producer:{name:"WooRank sprl",url:"https://www.woorank.com/"}},{regex:"(Match|LinkCheck) by Siteimprove.com",name:"Siteimprove",category:"Search bot",url:"https://siteimprove.com/",producer:{name:"Siteimprove GmbH",url:"https://siteimprove.com/"}},{regex:"CATExplorador",name:"CATExplorador",category:"Search bot",url:"https://fundacio.cat/ca/domini/",producer:{name:"Fundació puntCAT",url:"https://fundacio.cat/ca/domini/"}},{regex:"Buck",name:"Buck",category:"Search bot",url:"https://hypefactors.com/",producer:{name:"Hypefactors A/S",url:"https://hypefactors.com/"}},{regex:"tracemyfile",name:"TraceMyFile",category:"Search bot",url:"https://www.tracemyfile.com/",producer:{name:"Idee Inc.",url:"http://ideeinc.com/"}},{regex:"zelist.ro feed parser",name:"Ze List",url:"https://www.zelist.ro/",category:"Feed Fetcher",producer:{name:"Treeworks SRL",url:"https://www.tree.ro/"}},{regex:"weborama-fetcher",name:"Weborama",category:"Search bot",url:"https://weborama.com/",producer:{name:"Weborama SA",url:"https://weborama.com/"}},{regex:"BoardReader Favicon Fetcher",name:"BoardReader",category:"Search bot",url:"http://boardreader.com/",producer:{name:"Effyis Inc",url:"http://boardreader.com/"}},{regex:"IDG/IT",name:"IDG/IT",category:"Search bot",url:"https://spaziodati.eu/",producer:{name:"SpazioDati S.r.l.",url:"https://spaziodati.eu/"}},{regex:"Bytespider",name:"Bytespider",category:"Search bot",url:"https://bytedance.com/",producer:{name:"ByteDance Ltd.",url:"https://bytedance.com/"}},{regex:"WikiDo",name:"WikiDo",category:"Search bot",url:"https://www.wikido.com/",producer:{name:"Fotolitografie Fiorentine di Becchi Antonio s.n.c.",url:"https://www.wikido.com/"}},{regex:"AwarioSmartBot",name:"Awario",category:"Search bot",url:"https://awario.com/bots.html",producer:{name:"Awario",url:"https://awario.com/"}},{regex:"AwarioRssBot",name:"Awario",category:"Feed Fetcher",url:"https://awario.com/bots.html",producer:{name:"Awario",url:"https://awario.com/"}},{regex:"oBot",name:"oBot",category:"Search bot",url:"http://www.xforce-security.com/crawler/",producer:{name:"IBM Germany Research & Development GmbH",url:"https://exchange.xforce.ibmcloud.com/"}},{regex:"SMTBot",name:"SMTBot",category:"Search bot",url:"https://www.similartech.com/smtbot",producer:{name:"SimilarTech Ltd.",url:"https://www.similartech.com/"}},{regex:"LCC",name:"LCC",category:"Search bot",url:"https://corpora.uni-leipzig.de/crawler_faq.html",producer:{name:"Universität Leipzig",url:"https://www.uni-leipzig.de/"}},{regex:"Startpagina-Linkchecker",name:"Startpagina Linkchecker",category:"Search bot",url:"https://www.startpagina.nl/linkchecker",producer:{name:"Startpagina B.V.",url:"https://www.startpagina.nl/"}},{regex:"GTmetrix",name:"GTmetrix",category:"Crawler",url:"https://gtmetrix.com/",producer:{name:"Carbon60 Operating Co. Ltd.",url:"https://www.carbon60.com/"}},{regex:"Nutch",name:"Nutch-based Bot",category:"Crawler",url:"https://nutch.apache.org",producer:{name:"The Apache Software Foundation",url:"http://www.apache.org/foundation/"}},{regex:"[a-z0-9\\-_]*((?<!cu|power[ _]|m[ _])bot(?![ _]TAB|[ _]?5[0-9])|crawler|crawl|checker|archiver|transcoder|spider)([^a-z]|$)",name:"Generic Bot"}];var U={},V={};Object.defineProperty(V,"__esModule",{value:!0}),V.memoryCache=()=>{const e={};return{set:(o,a)=>{e[o]=a},get:o=>{if(e.hasOwnProperty(o))return e[o]}}},Object.defineProperty(U,"__esModule",{value:!0});const ce=V.memoryCache(),ut=e=>{const t=ce.get(e);if(t)return t.value;const r=RegExp(`(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:${e})`,"i");return ce.set(e,{value:r}),r};U.userAgentParser=(e,t)=>{try{const o=ut(e).exec(t);return o?o.slice(1):null}catch{return null}};var mt=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const pt=mt(dt),gt=U;class wt{constructor(){this.parse=t=>{var r,o,a,s;for(const c of pt.default)if(gt.userAgentParser(c.regex,t))return{name:c.name,category:c.category||"",url:c.url||"",producer:{name:((o=(r=c)===null||r===void 0?void 0:r.producer)===null||o===void 0?void 0:o.name)||"",url:((s=(a=c)===null||a===void 0?void 0:a.producer)===null||s===void 0?void 0:s.url)||""}};return null}}}var ht=wt;const bt=re(ht),q=e=>{if(!e)return"";const t=new URL(e);return`${t.protocol}//${t.host}${t.pathname}`};function yt(){const e={};return e.aid=tmg.page.getArticleId(),e.s=tmg.user.isSubscriber()?1:0,e.ut=tmg.user&&tmg.user.isSubscriber()?2:tmg.user&&tmg.user.isLoggedIn()?1:0,e.l=q(window.location.href),e.r=q(document.referrer),e.p=vt(),e}function ft(e){var r,o,a,s;const t=(s=(a=(o=(r=window==null?void 0:window.particles)==null?void 0:r.analytics)==null?void 0:o.particles)==null?void 0:a.filter(c=>!c.entryRecorded))==null?void 0:s.map(c=>({id:c.id,i:Number(c.index),tr:c.truncated?1:0,...c.hasBeenViewed&&{uv:c.uniqueVisit,vv:1,w:le(c.particleWidth,50)}}));return e.d=t,e.v=1,e.ss=window.particles.analytics.ss,e}function St(e){var r,o,a;e.adt=f.getPageDwellTime();const t=(r=window.particles)==null?void 0:r.analytics;return t.hasReturned&&(e.rv=1),((o=t.geo)==null?void 0:o.hasRecorded)===!1&&(e.geo=`${t.geo.city}:${t.geo.country_code}`),t.scroll.hasRecorded||(e.sc=t.scroll.maxDepth),e.d=(a=t==null?void 0:t.particles)==null?void 0:a.map(s=>{var p;const c=f.getParticleDwellTime(s.id,s.index),l=S.getParticleTimes(s.id,s.index).engagement*1e3,d=S.getParticleTimes(s.id,s.index).mouseHang*1e3,m=(p=s.clicks)==null?void 0:p.filter(h=>!h.hasRecorded),u=s.clicks.some(h=>h.hasRecorded);return{id:s.id,w:le(s.particleWidth,50),tr:s.truncated?1:0,ex:s.expanded?1:0,...s.positionInArticle.hasRecorded===!1&&{pp:s.positionInArticle.p},...!s.entryRecorded&&s.hasBeenViewed&&{vv:1,uv:s.uniqueVisit?1:0},...!u&&m.length&&{iv:1},...c&&{pdt:c},...l&&{pet:l},...d&&{pht:d},...s.exitLocation&&{el:q(s.exitLocation)},...(m==null?void 0:m.length)&&{c:m}}}),e}function xt(e,t){e.id=t.id,e.b={};for(const[r,o]of t.data.events)e.b[r]=o??1;return e}const vt=()=>{if(tmg.page&&tmg.page.isApp&&tmg.page.isApp())return"App";const e=lt.parse(window.navigator.userAgent),r=new bt().parse(window.navigator.userAgent)?"bot":e.platform.type||"unknown";return r==="smartphone"?"Mobile":r.charAt(0).toUpperCase()+r.slice(1)};function le(e,t){return Math.round(e/t)*t}const kt=(e,t)=>{const r=yt();switch(e){case"entry":ft(r);break;case"exit":St(r);break;case"bespoke":xt(r,t);break}return r.sig=ot(JSON.stringify(r)),r},Tt="pstore",Ct={entry:"/en",exit:"/ex",bespoke:"/b"};function At(e){const t=new URL(Tt,$.environment.ANALYTICS_ORIGIN);return t.pathname+=Ct[e],t}const de=e=>{var t;window.dataLayer&&(window.dataLayer.particles=window.dataLayer.particles||{entry:[],exit:[],bespoke:[]},(t=window.dataLayer.particles)!=null&&t[e.type]&&(e.type==="bespoke"?window.dataLayer.particles[e.type]=[...window.dataLayer.particles[e.type],[{id:e.id,events:e.b}]]:window.dataLayer.particles[e.type]=[...window.dataLayer.particles[e.type],e.d],Mt(e.type)))},Mt=F(e=>{window!=null&&window._satellite&&(console.debug("PARTICLES: sending to _satellite"),window._satellite.track(`particle${e}`))},1e3),Y=async(e,t=null)=>{const r=At(e),o=kt(e,t);de({...o,type:e}),e==="entry"?await Bt(o,r):Pt(o,r),T.handlePayloadSend(e,o)};async function Bt(e,t){try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e)}),{data:o}=await r.json();window.particles.analytics.userAgent=o}catch{}}function Pt(e,t){const r=!window.navigator.userAgent.includes("MSIE ");if(window.navigator.sendBeacon&&r&&window.navigator.sendBeacon(t,JSON.stringify(e)))return;const o=new XMLHttpRequest;o.open("POST",t),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(e))}let j;const It=()=>{window.addEventListener("pagehide",B),window.addEventListener("beforeunload",B),window.addEventListener("unload",B),window.addEventListener("close",B),window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?(B(),window.particles.analytics.hasReturned=!1):(j=!1,window.particles.analytics.hasReturned=!0)}),Et()&&window.addEventListener("blur",B)};function B(){j||(j=!0,Y("exit"),G.saveHistory(),S.cleanupSentData())}function Et(){var e,t,r,o,a,s;return(s=(a=(o=(r=(t=(e=window.particles)==null?void 0:e.analytics)==null?void 0:t.userAgent)==null?void 0:r.os)==null?void 0:o.family)==null?void 0:a.contains)==null?void 0:s.call(a,"iOS")}const Ft=()=>{window.addEventListener("focus",Rt),window.particleData.isapp==="false"&&document.addEventListener("click",e=>{const t=e.target.getAttribute("href")||e.target.parentElement.getAttribute("href");if(t&&(t.indexOf("//telegraph.co.uk")!==-1||t.indexOf("www.telegraph.co.uk")!==-1)){const r=new URL(t);e.preventDefault(),k("analytics",{onwardJourney:r.pathname+r.search,targetUrl:t})}}),Ue.initialise(),f.initialiseParticle(window.particleData.id),Ze.initialise()},Rt=()=>{k("analytics",{focus:!0})},Ot=()=>{var e,t;!((e=window.particles)!=null&&e.analytics)&&!window.location.href.includes("//localhost:")&&(g.info("Analytics Initialising"),window.particles??(window.particles={}),(t=window.particles).analytics??(t.analytics={}),window.particles.analytics.highlights=[],window.particles.analytics.platform=null,window.particles.analytics.r=document.referrer,window.particles.analytics.l=window.location.href.split("?")[0].split("#")[0],window.particles.analytics.ss=window.screen.width+"x"+window.screen.height,window.particles.analytics.particles=[],window.particles.analytics.hasReturned=!1,window.particles.analytics.userAgent=null,G.initialiseHistory(),je.initialise(),Je.initialise(),It())},ue=e=>{var t,r,o;e||(f.resetTimers(),window.particles.analytics.geo&&(window.particles.analytics.geo.hasRecorded=!0),window.particles.analytics.scroll.hasRecorded||(window.particles.analytics.scroll.hasRecorded=!0));for(const a of(r=(t=window.particles)==null?void 0:t.analytics)==null?void 0:r.particles)a.hasBeenViewed&&e&&(a.entryRecorded=!0),(o=a.positionInArticle)!=null&&o.p&&!e&&(a.positionInArticle.hasRecorded=!0),a.clicks.forEach(s=>s.hasRecorded=1),a.engagementTime=0,a.mouseHangTime=0},Lt=F(()=>{Y("entry"),ue(!0)},1e3),Nt=e=>{var r;T.initialise(),f.initialisePage(),window.particles.analytics.pageActive=!0,!window.particles.analytics.particles.some(o=>o.id===e.getAttribute("id")&&o.index===e.getAttribute("particle-index"))&&(window.particles.analytics.particles.push({id:e.getAttribute("id"),index:e.getAttribute("particle-index"),visible:!1,hasBeenViewed:!1,particleWidth:e.clientWidth,positionInArticle:null,truncated:e.getAttribute("data-truncated")==="true",clicks:[],engagementTime:0,mouseHangTime:0,entryRecorded:!1,uniqueVisit:G.checkHistoryForParticleInArticle(e.getAttribute("id"),(r=tmg==null?void 0:tmg.page)==null?void 0:r.getArticleId())}),f.addHandlerForLeavingPage(_t),f.addHandlerForReturningToPage(me),Lt())},zt=(e,t)=>{const r=window.particles.analytics.particles.find(o=>o.id===e.getAttribute("particle-id")&&o.index===e.getAttribute("particle-index"));r?(r.positionInArticle??(r.positionInArticle={p:Dt(e),hasRecorded:!1}),t?(window.particles.analytics.pageActive&&f.startVisibilityTimer(e.getAttribute("particle-id"),e.getAttribute("particle-index")),r.visible=!0,r.hasBeenViewed=!0):(window.particles.analytics.pageActive&&f.stopVisibilityTimer(e.getAttribute("particle-id"),e.getAttribute("particle-index")),r.visible=!1)):console.error("This should be working")},Dt=e=>{const t=e.offsetTop,r=document.height??document.body.offsetHeight,o=t/r*100;return Math.round(o/5)*5},_t=()=>{window.particles.analytics.pageActive=!1},me=()=>{window.particles.analytics.pageActive=!0,window.particles.analytics.particles.filter(t=>t.visible).forEach(t=>{f.startVisibilityTimer(t.id,t.index)})},S={initialiseExternal:Ot,initialiseInternal:Ft,overrideWindowBlurForTimeTracking:(e,t)=>{f.manuallyStartPageTimer(),f.manuallyStartEngagementTimer(e,t),me()},recordOnwardJourney:(e,t,r)=>{window.particles.analytics.particles.find(o=>o.id===t&&o.index===r).exitLocation=e},recordParticleExpanded:(e,t)=>{window.particles.analytics.particles.find(r=>r.id===e&&r.index===t).expanded=!0},recordParticleClick:(e,t,r)=>{window.particles.analytics.particles.find(o=>o.id===e&&o.index===t).clicks.push(r)},recordParticleTime:(e,t,r)=>{const{engagementTime:o=0,mouseHangTime:a=0}=r,s=window.particles.analytics.particles.find(c=>c.id===e&&c.index===t);s.engagementTime+=o,s.mouseHangTime+=a},getParticleTimes:(e,t)=>{const{engagementTime:r=0,mouseHangTime:o=0}=window.particles.analytics.particles.find(a=>a.id===e&&a.index==t)||{};return{mouseHang:o.toFixed(2),engagement:r.toFixed(2)}},cleanupSentData:ue,onIframeReady:Nt,handleIntersection:zt},$t={internal:[/telegraph\.co\.uk/,/localhost/,/eip\.telegraph\.co\.uk/,/adobeaemcloud\.com/],external:[/eip\.telegraph\.co\.uk/,/adobeaemcloud\.com/]},Wt=()=>{window.addEventListener("message",e=>{const t=g.isInternal()?"internal":"external";$t[t].some(o=>e.origin.match(o))&&Gt(e,t)})},k=(e,t)=>{var r,o,a,s;(r=window==null?void 0:window.particleData)!=null&&r.amp||(g.info(`Particle (${window.particleData.id} [${(o=window.particleData)==null?void 0:o.i}]) is sending a message to the telegraph`),window.parent.postMessage(JSON.stringify({id:window.particleData.id,index:((a=window.particleData)==null?void 0:a.i)||"unknown",type:e,data:t}),"*")),(s=window==null?void 0:window.particleData)!=null&&s.amp&&e==="resize"&&(g.info(`Particle is sending a message to AMP (Height: ${Math.max(t.height,100)}px)`),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:Math.max(t.height,100)},"*"))},N=(e,t,r=null,o=null)=>{const a=document.querySelector(`[particle-index="${o}"][particle-id="${r}"]`);g.info(`Telegraph is sending a message to particle ${r} (INDEX ${o})`),a.contentWindow.postMessage(JSON.stringify({id:r,index:o,type:e,data:t}),"*")};function Gt(e,t){switch(t){case"internal":Ht(e);break;case"external":Ut(e);break}}const Ht=e=>{const t=pe(e.data);if(t.id===window.particleData.id&&t.index===window.particleData.i||t.type==="initialiseFrame")switch(g.info("Particle has received a new message from the telegraph",t),t.type){case"initialiseFrame":window.dispatchEvent(new CustomEvent("initialDataEvent",{detail:t}));break;case"active":window.dispatchEvent(new CustomEvent("activityEvent",{detail:t}));break;case"tmg":g.info("New TMG variable data received",t),window.dispatchEvent(new CustomEvent("particleDataEvent",{detail:t}));break;case"window":g.info("New WINDOW variable data received",t),window.dispatchEvent(new CustomEvent("particleDataEvent",{detail:t}));break;case"cookie":g.info("New COOKIE received",t),window.dispatchEvent(new CustomEvent("particleDataEvent",{detail:t}));break}},Ut=e=>{var r;const t=pe(e.data);if(t.id&&t.index){g.info("Telegraph has received a new message from particle",t);let o=document.querySelector(`[particle-id='${t.id}'][particle-index='${t.index}']`);if(!o){const s=document.getElementsByTagName("iframe");for(let c=0;c<s.length;c++)if(s[c].contentWindow===e.source){o=s[c];break}}const a=((r=document.querySelectorAll("meta[name='tmgads.businessSegment']")[0])==null?void 0:r.content)||"generic";switch(t.type){case"ready":g.info(`${t.id} (${t.index}) - Ready`),o.style.display="block";break;case"iframeReady":Z.newIframeParticle(o);case"resize":D.update(o,t);break;case"bespoke":Y("bespoke",t);break;case"adobe":de(t.data);break;case"analytics":t.data.focus&&S.overrideWindowBlurForTimeTracking(t.id,t.index),t.data.click&&S.recordParticleClick(t.id,t.index,t.data.click),t.data.onwardJourney&&(S.recordOnwardJourney(t.data.targetUrl,t.id,t.index),window.location.pathname=t.data.onwardJourney),t.data.expand&&S.recordParticleExpanded(t.id,t.index),t.data.time&&S.recordParticleTime(t.id,t.index,t.data.time);break;case"expandable":g.info(`Request to remove legacy show more from particle ${t.id} has been received`),D.removeLegacyShowMore(o,t.id);break;case"tmg":_.tmgModel(t);break;case"window":_.windowModel(t);break;case"cookie":_.cookieModel(t);break;case"subscribe":window.location.href=`https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial1-website-monthly-PC259&campaignId=839X&icid=${a}_genericsub_generic_generic_particle_${t.id}&redirectTo=${encodeURIComponent(window.location.href)}`;break;case"register":window.location.href=`https://secure.telegraph.co.uk/customer/secure/register?redirectTo=${encodeURIComponent(window.location.href)}&q=registration&icid=${a}_genericreg_generic_generic_particle_${t.id}`;break;case"login":window.location.href=`https://secure.telegraph.co.uk/secure/login/?ICID=${a}_genericreg_generic_generic_particle_${t.id}&redirectTo=${encodeURIComponent(window.location.href)}`;break;case"app-redirect":S.recordOnwardJourney(t.data.onwardJourney,t.id,t.index),window.location.pathname=t.data.urlPath;break;case"showNewsletterContainer":g.info("Request to show the martech newsletter received",`#wrp-${t.id} .particle-newsletter-overlay`);const s=document.querySelector(`#wrp-${t.id} .particle-newsletter-overlay`);s&&(s.style.display="block");break;case"cls":break;default:g.info("Legacy particle message received, please update before July 2021",t);break}}else if(t.id){const o=document.querySelector(`[particle-id='${t.id}']`);t.height&&D.legacyHeightUpdate(o,t)}};function pe(e){try{return JSON.parse(e)}catch{return e}}const J={initialise:Wt,sendFromParticle:k,sendFromTelegraph:N};let ge;const z=new WeakMap,Vt=e=>{e.forEach(t=>{const r=z.get(t.target),o=t.intersectionRatio>.25;o&&(!r.hasOwnProperty("visible")||!r.visible)?(r.visible=!0,z.set(t.target,r),J.sendFromTelegraph("active",{active:!0},t.target.getAttribute("particle-id"),t.target.getAttribute("particle-index"))):!o&&(!r.hasOwnProperty("visible")||r.visible)&&(r.visible=!1,z.set(t.target,r),J.sendFromTelegraph("active",{active:!1},t.target.getAttribute("particle-id"),t.target.getAttribute("particle-index"))),S.handleIntersection(t.target,o)})},we={initialise:()=>{ge=new IntersectionObserver(Vt,{threshold:[0,.25,.75]})},observeNewIframe:e=>{ge.observe(e),z.set(e,{})}},Q=(e,t)=>{const r=window.tmg&&window.tmg.user&&window.tmg.user.isLoggedIn?window.tmg.user.isLoggedIn():!1,o=window.tmg&&window.tmg.user&&window.tmg.user.isLoggedIn&&window.tmg.user.isLoggedIn()&&window.tmg.user.isSubscriber?window.tmg.user.isSubscriber():!1,a=window.tmg&&window.tmg&&window.tmg.page&&window.tmg.page.isApp?window.tmg.page.isApp():!1,s=e.getAttribute("id"),c=e.getAttribute("data-html-uri"),l=e.getAttribute("data-reg-required")==="true",d=e.getAttribute("data-reg-redirect"),m=e.getAttribute("data-sub-required")==="true",u=e.getAttribute("data-sub-redirect"),p=e.getAttribute("data-truncated")==="true",h=e.getAttribute("data-expandable")==="true",v=e.getAttribute("data-prefill"),A=encodeURIComponent(window.location.href);let P="default";return document.querySelectorAll("meta[name='tmgads.businessSegment']")[0]&&(P=document.querySelectorAll("meta[name='tmgads.businessSegment']")[0].content),l&&d&&!r&&!a&&window.tmg?`${d}?i=${t}&ref=${A}&channel=${P}&id=${s}${v?`&prefill=${v}`:""}&isapp=${a}&isregistered=${r||a}&issubscribed=${o||a}&truncated=${p}&lt=${h}`:m&&u&&!o&&!a&&window.tmg?`${u}?i=${t}&ref=${A}&channel=${P}&id=${s}${v?`&prefill=${v}`:""}&isapp=${a}&isregistered=${r||a}&issubscribed=${o||a}&truncated=${p}&lt=${h}`:`${c}?i=${t}&ref=${A}&channel=${P}&id=${s}${v?`&prefill=${v}`:""}&isapp=${a}&isregistered=${r||a}&issubscribed=${o||a}&truncated=${p}&lt=${h}`},qt=(e,t)=>{const r=document.createElement("iframe");r.setAttribute("id",e.getAttribute("id")),r.setAttribute("particle-id",e.getAttribute("id")),r.setAttribute("particle-index",t),r.setAttribute("data-widget-size",e.getAttribute("data-widget-size")),r.setAttribute("data-widget-expandable",e.getAttribute("data-expandable")),r.setAttribute("title",e.textContent),r.setAttribute("scrolling","no"),r.setAttribute("allowtransparency","true"),r.setAttribute("frameborder","0"),r.className=`tmg-particle-${e.getAttribute("class").replace("tmg-particle ","")}`,r.style.width="100%",r.style.minWidth="100%",r.style.border="none",r.style.position="static",r.style.display="block",r.style.height="0px",r.style.padding="0px",r.style.margin="0px",r.src=Q(e,t),e.parentNode.insertBefore(r,e.nextSibling),e.parentNode.removeChild(e),he(r)},Yt=async e=>{try{(await fetch(e.src,{method:"HEAD"})).ok||(e.parentElement.style.display="none",e.closest(".html-embed").style.display="none")}catch{e.parentElement.style.display="none",e.closest(".html-embed").style.display="none"}},jt=async e=>{if(window.particles.count+=1,!e.getAttribute("particle-index")){const r=window.particles.count,o=e.getAttribute("class").replace("tmg-particle ",""),a=e.getAttribute("id");e.className=`tmg-particle-${o} wrp-${a}`,e.setAttribute("particle-id",a),e.setAttribute("particle-index",r),e.setAttribute("particle-type",o),e.contentWindow.postMessage(JSON.stringify({id:a,index:r,type:"initialiseFrame",data:{url:Q(e,r)}}),"*"),g.info(`Particle loaded | ID: "${a}" INDEX: ${r}`),he(e)}},he=e=>{we.observeNewIframe(e),S.onIframeReady(e)},Z={generate:qt,newIframeParticle:jt,getIFrameSrc:Q,checkIframeExists:Yt},Jt=()=>{window.particles??(window.particles={}),window.particles.count=0,window.particles.pageUuid=Math.random().toString();const{asides:e,iframes:t}=be();window["particle-eip-telegraph-co-uk-script-loaded"]===void 0&&(g.info("v3 Particle.js is loaded"),window["particle-eip-telegraph-co-uk-script-loaded"]=!0,window.particles.isLoaded=!0,window.particles.interval=setInterval(Zt,50),S.initialiseExternal(),J.initialise(),we.initialise(),t.forEach(Z.checkIframeExists),e&&e.forEach(r=>r.style.display="none"))},be=()=>{const e=[].slice.call(document.getElementsByClassName("tmg-particle")),t=[],r=[];return e.forEach(o=>{o.localName==="aside"&&t.push(o),o.localName==="iframe"&&r.push(o)}),{iframes:r,asides:t}},Qt=()=>{window.particles.initialised=!0,g.info("<aside> Particles Initialising");const{asides:e}=be();e.forEach((t,r)=>Z.generate(t,window.particles.count+r)),window.particles.count+=e.length},Zt=()=>{(window.tmg&&window.tmg.user||document.location.hostname==="go.arena.im"||document.location.hostname.includes("telegraph.co.uk")||document.location.hostname.includes("localhost:"))&&(clearInterval(window.particles.interval),Qt(),delete window.particles.interval)};Jt()});
