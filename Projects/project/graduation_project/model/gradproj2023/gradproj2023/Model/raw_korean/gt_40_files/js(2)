
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/js/Autoplaytimer.js */

(function($){var methods={init:function(options){var state={timer:null,timerSeconds:10,callback:function(){},timerCurrent:0,showPercentage:false,fill:false,color:'#CCC',paused:false};state=$.extend(state,options);return this.each(function(){var $this=$(this);var data=$this.data('pietimer');if(!data){$this.addClass('pietimer');$this.css("width",options.width+"px");$this.css({fontSize:$this.width()});$this.data('pietimer',state);if(state.showPercentage){$this.find('.percent').show();}
if(state.fill){$this.addClass('fill');}
$this.pietimer('start');}});},pause:function()
{var data=$(this).data('pietimer');if(!data.paused){data.difference=data.timerFinish-(new Date().getTime());data.paused=true;}},resume:function()
{var data=$(this).data('pietimer');data.paused=false;},stopWatch:function(){var data=$(this).data('pietimer');if(data){if(data.paused){data.timerFinish=data.difference+(new Date().getTime());}
else{var seconds=(data.timerFinish-(new Date().getTime()))/1000;if(seconds<=0){clearInterval(data.timer);$(this).pietimer('drawTimer',100);data.callback();}else{var percent=100-((seconds/(data.timerSeconds))*100);$(this).pietimer('drawTimer',percent);}}}},drawTimer:function(percent){$this=$(this);var data=$this.data('pietimer');if(data){$this.html('<div class="tri"></div><div class="slice'+(percent>50?' gt50"':'"')+'><div class="pie"></div>'+(percent>50?'<div class="pie fill"></div>':'')+'</div>');var deg=360/100*percent;$this.find('.slice .pie').css({'-moz-transform':'rotate('+deg+'deg)','-webkit-transform':'rotate('+deg+'deg)','-o-transform':'rotate('+deg+'deg)','transform':'rotate('+deg+'deg)'});var secs=(data.timerSeconds)*((100-percent)/100);$this.find('.percent').html(Math.round(secs)+'');if(data.showPercentage){$this.find('.percent').show();}
if($this.hasClass('fill')){$this.find('.slice .pie').css({backgroundColor:data.color});}
else{$this.find('.slice .pie').css({borderColor:data.color});}}},start:function(){var data=$(this).data('pietimer');if(data){data.timerFinish=new Date().getTime()+(data.timerSeconds*1000);$(this).pietimer('drawTimer',0);data.timer=setInterval("$this.pietimer('stopWatch')",50);}},reset:function(){var data=$(this).data('pietimer');if(data){clearInterval(data.timer);$(this).pietimer('drawTimer',0);$(".slice").hide();}}};$.fn.pietimer=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.pietimer');}};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/Common/cnbc.vod.js */
;CNBC_CurrentReleaseObj=null;var cnbc=cnbc||{};cnbc.vod=cnbc.vod||{};cnbc.vod.events={player:{ON_RELEASE_START:'player release start event',ON_MEDIA_UNPAUSE:'player media unpause event',ON_RELEASE_END:'player release end event',ON_PASS_NEXT_ENTRY:'next video entry is passed'}};var cnbc=cnbc||{};cnbc.vod=cnbc.vod||{};cnbc.vod.constructors=cnbc.vod.constructors||{};cnbc.vod.constructors.notifier=function(){'use strict';var channels={};this.subscribe=function(channel,fn,subscriber){if(!channels[channel])channels[channel]=[];channels[channel].push({context:subscriber,callback:fn});return this;};this.publish=function(channel){if(!channels[channel])return false;var args=Array.prototype.slice.call(arguments,1);for(var i=0,count=channels[channel].length;i<count;i++){var subscription=channels[channel][i];subscription.callback.apply(subscription.context,args);}
return this;};this.unsubscribe=function(channel,fn,subscriber){var subscription={context:subscriber,callback:fn},ndx=-1;if(channels.hasOwnProperty(channel)){if(channels[channel].some(function(item,i){ndx=i;return(item.context===this.context&&item.callback===this.callback);},subscription)){channels[channel].splice(ndx,1);}}
return this;};};cnbc.vod.notifier=new cnbc.vod.constructors.notifier();var cnbc=cnbc||{};cnbc.vod=cnbc.vod||{};cnbc.vod.dockable=(function($,module){'use strict';var setup,defaults,jsPlayer,dockedTop=false,dockedBottom=false,header,$ribbon,delayedResize,fixedDockedHeight=0;defaults={dockedVideoClass:'theplatform-video__docked',dockedVideoHeight:107,inTransitionClass:'theplatform-video__transition',dockingEnabled:false};setup=$.extend({},defaults);var dockablePlayer=(function(){var $promoCard,topThreshold,bottomThreshold,containerHeight,containerWidth;function set(promoCard){$promoCard=$(promoCard);update();setWidth();}
function update(){if($promoCard){containerHeight=$promoCard.innerHeight();containerWidth=$promoCard.innerWidth();topThreshold=Math.floor($promoCard.offset().top+$promoCard.innerHeight()-containerHeight/2);bottomThreshold=Math.floor($promoCard.offset().top-$(window).height()+containerHeight/2);}}
function getPromoCardCoords(){return $promoCard.get(0).getBoundingClientRect();}
return{set:set,update:update,containerHeight:function(){return containerHeight;},containerWidth:function(){return containerWidth;},promoCardCoords:getPromoCardCoords,topThreshold:function(){return topThreshold;},bottomThreshold:function(){return bottomThreshold;},$promoCard:function(){return $promoCard;}};})();function init(options){if(!options.playerDomElement)return;jsPlayer=options.playerDomElement;jsPlayer.addClass('dockable');cnbc.vod.notifier.subscribe(cnbc.vod.events.player.ON_RELEASE_START,onReleaseStart,this);cnbc.vod.notifier.subscribe(cnbc.vod.events.player.ON_MEDIA_UNPAUSE,onMediaUnpause,this);cnbc.vod.notifier.subscribe(cnbc.vod.events.player.ON_RELEASE_END,onReleaseEnd,this);cnbc.vod.notifier.subscribe(cnbc.vod.events.player.ON_PASS_NEXT_ENTRY,onPassNextEntry,this);initEvents();$(window).on('resize',throttledResizeHandler);$(window).on('scroll',scrollHandler);throttledResizeHandler();scrollHandler();}
function onReleaseStart(promoCard){dockablePlayer.set(promoCard);setMetadata();$('div.dockable-end-card').hide();$('div.dockable-share-card').hide();$('div.metadata-status').show();}
function onReleaseEnd(promoCard){dockablePlayer.set(promoCard);setReleaseEndMetadata();$('div.metadata-status').hide();$('div.dockable-share-card').hide();$('div.dockable-end-card').show();if(isPlayerDocked()){$('.player-lazy-loaded-mobile.'+setup.dockedVideoClass).css('left',dockablePlayer.$promoCard().offset().left);$('.theplatform-video__docked .cnbc-end').css('top',fixedDockedHeight);}}
function onMediaUnpause(promoCard){dockablePlayer.set(promoCard);}
function onPassNextEntry(videoEntry){setEndCardNextVideoTitle(videoEntry);}
function enable(){setup.dockingEnabled=true;}
function disable(){setup.dockingEnabled=false;}
function setMetadata(){jsPlayer.find('.headline').text(CNBC_CurrentReleaseObj.title);var playerUrl=null;if(CNBC_CurrentReleaseObj.cnbc$seourl!=null&&CNBC_CurrentReleaseObj.cnbc$seourl!=undefined){playerUrl=PDKUtils.prependDocumentProtocolForSeoURL(CNBC_CurrentReleaseObj.cnbc$seourl);}
else{playerUrl=CNBC_Utils.prependDocumentProtocol(CNBC_Settings.baseurls.cnbcvideo_url_base+CNBC_CurrentReleaseObj.guid);}
$("#dockable-cnbc-share-url").text(playerUrl);$('#email-link').prop("href","mailto:?subject="+encodeURIComponent(CNBC_CurrentReleaseObj.title)+"&body="+encodeURIComponent(CNBC_CurrentReleaseObj.description+"\n"+playerUrl));gigyaShare('dockable-social-tools');}
function setReleaseEndMetadata(){jsPlayer.find('.headline').text(CNBC_CurrentReleaseObj.title);}
function setEndCardNextVideoTitle(videoEntry){jsPlayer.find('.dockable-end-card .headline').text(videoEntry.title);}
function dockPlayer(){if(setup.dockingEnabled){header=$('.persistentHeader');$ribbon=$('.nad-asset-banner');if(!$ribbon.length){$ribbon=$('#GlobalNavigation-Persistent');}
fixedDockedHeight=header.outerHeight()||0;if($ribbon.length>0){fixedDockedHeight+=$ribbon.outerHeight()||0;}
var k=null;dockablePlayer.$promoCard().addClass(setup.dockedVideoClass);k=dockablePlayer.$promoCard().offset().left;window.setTimeout(function(){jsPlayer.css('top',fixedDockedHeight);jsPlayer.css('height',setup.dockedVideoHeight);jsPlayer.addClass(setup.dockedVideoClass);$('.player-lazy-loaded-mobile.'+setup.dockedVideoClass).css({opacity:1,left:k});$('.theplatform-video__docked .cnbc-end').css('top',fixedDockedHeight);},0);throttledResizeHandler();playerResizeFix();}}
function undockPlayer(){dockablePlayer.$promoCard().removeClass(setup.dockedVideoClass);jsPlayer.css('top',dockablePlayer.$promoCard().position().top);jsPlayer.css('left',dockablePlayer.$promoCard().position().left);jsPlayer.css('height','');jsPlayer.removeClass(setup.dockedVideoClass);playerResizeFix();if($('div.cnbc-end',dockablePlayer.$promoCard()).length&&$('div.cnbc-end',dockablePlayer.$promoCard()).css('display')=="block"){$('.player-lazy-loaded-mobile').css('opacity',0);}
$('div.cnbc-end',dockablePlayer.$promoCard()).css('top','0px');}
function isPlayerDocked(){if(dockablePlayer.$promoCard()){return dockablePlayer.$promoCard().hasClass(setup.dockedVideoClass);}}
function setWidth(){if(dockablePlayer.$promoCard()){jsPlayer.width(dockablePlayer.containerWidth());}}
function setHeight(isPlayerDocked){if(dockablePlayer.$promoCard()){if(isPlayerDocked){jsPlayer.height(setup.dockedVideoHeight);}else{jsPlayer.height(dockablePlayer.$promoCard().height());}}}
function resizePlayer(isPlayerDocked){setHeight(isPlayerDocked);if(isPlayerDocked){setWidth();jsPlayer.css('top',fixedDockedHeight);$('.player-lazy-loaded-mobile.'+setup.dockedVideoClass).css({opacity:1,left:dockablePlayer.$promoCard().offset().left});$('.theplatform-video__docked .cnbc-end').css('top',fixedDockedHeight);}}
function resizeHandler(){resizePlayer(isPlayerDocked());dockablePlayer.update();}
var throttledResizeHandler=CNBC_Utils.throttle(resizeHandler,60);function playerResizeFix(){if($pdk.controller._env._component_runtime=="html5"||CNBC_Utils.isUniversalVODPlayer()){window.dispatchEvent(new Event('resize'));}}
function scrollHandler(){if(dockablePlayer.$promoCard()){var aboveTrigger=$(window).scrollTop()+fixedDockedHeight<dockablePlayer.topThreshold();var toggled=false;if(dockablePlayer.$promoCard()){if(!toggled&&!dockedBottom){if((!aboveTrigger&&!dockablePlayer.$promoCard().hasClass(setup.dockedVideoClass))){dockPlayer();toggled=true;dockedTop=true;}else if((aboveTrigger&&dockablePlayer.$promoCard().hasClass(setup.dockedVideoClass))){undockPlayer();toggled=true;dockedTop=false;}}}}}
function initEvents(){$(document).on('click','#social_tools_player_docked_share',function(){$('div.metadata-status').hide();$('div.dockable-end-card').hide();$('div.dockable-share-card').show();});$(document).on('click','div.dockable-share-card div.close-button',function(){$('div.metadata-status').show();$('div.dockable-share-card').hide();});$(document).on('click','#dockable-cnbc-share-url',function(){var toCopy=$(this)[0];selectTextToCopy(toCopy);});$(document).on('click','div.docked-card.end',function(event){$("div.overlay").click();});$(document).on('click','div.dockable-share-card #email-link',function(){try{s.manageVars("clearVars");s.linkTrackVars="eVar14,eVar15,prop57,prop55,events";s.linkTrackEvents="event52";s.events="event52";s.eVar14="email: Share Published";s.eVar15="Video:docked";if(typeof OmnitureSPageName==='undefined'){OmnitureSPageName="cnbcvideo|section|Video Gallery Page"+"|"+CNBC_CurrentReleaseObj.guid.toString()+"|"+CNBC_CurrentReleaseObj.title.substr(0,50);}
s.prop57=OmnitureSPageName;s.prop55=CNBC_CurrentReleaseObj.guid;s.tl(this,'o','Gigya Share');s.manageVars("clearVars");}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}});};module.init=init;module.isPlayerDocked=isPlayerDocked;module.undock=undockPlayer;module.enable=enable;module.disable=disable;module.getPromoCard=function(){return dockablePlayer.$promoCard();};return module;}(jQuery,cnbc.vod.dockable||{}));
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/samples/cnbc/PDKUtils.js */

var PDKUtils=(function(){return{formatTime:function(airdate,short){var time=((airdate.getHours()>=12)?airdate.getHours()-12:airdate.getHours());if(time==0)
time=12;time+=":";time+=((airdate.getMinutes().toString().length==1)?"0"+airdate.getMinutes():airdate.getMinutes())+" ";if(short){var amPm="AM";if((airdate.getHours()>=12))
amPm="PM";return time+" "+amPm+" "+this.getTimeZoneAbbr(airdate+"",true);}else{return time+this.getTimeZoneAbbr(airdate+"");}},formatDate:function(airdate,short){var weekday=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var weekday_short=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var month=["January","February","March","April","May","June","July","August","September","October","November","December"];var month_short=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(short){return weekday_short[airdate.getDay()]+", "+
airdate.getDate()+" "+
month_short[airdate.getMonth()]+" '"+
airdate.getFullYear().toString().slice(-2);}else{return weekday[airdate.getDay()]+", "+
airdate.getDate()+" "+
month_short[airdate.getMonth()]+" "+
airdate.getFullYear();}},getTimeZoneAbbr:function(dateString,short){var tz=(dateString.match(/\(([^\)]+)\)$/)||dateString.match(/([A-Z]+) [\d]{4}$/));if(tz){tz=tz[1].match(/[A-Z]/g).join("");}
if(short){tz=tz.slice(0,1)+tz.slice(-1);}
return tz;},msToTime:function(s){var ms=s%1000;s=(s-ms)/1000;var secs=s%60;var mins=parseInt(s/60);var hrs=0;if(mins>=60){hrs=parseInt(mins/60);mins=mins%60;}
function addZ(n){return(n<10?'0':'')+n;}
var out="";if(hrs){out+=addZ(hrs)+":";}
if(mins){out+=addZ(mins)+":";}
else{out+="00:";}
out+=addZ(secs);return out;},getReleasePidFromUrl:function(url){var regex=new RegExp(/.*?\/?[^\/]+\/[^\/]+\/[^\/]+\/([a-zA-Z0-9_]+)/);var matches=url.match(regex);if(matches&&matches.length>1){return matches[1];}
return null},isTabletMobile:function(navTest){if(!navTest){navTest=navigator.userAgent.toLowerCase();}
return navTest.match(/iphone|ipad|ipod|android|webos|palm|googletv|silk|windows phone|trident.*wp[1-9]|blackberry|bb10/)?true:false;},isMobile:function(navTest){if(!navTest){navTest=navigator.userAgent.toLowerCase();}
if(/ipad|silk/i.test(navigator.userAgent)){return false;}
else if(/mobi|phone/i.test(navigator.userAgent)){return true;}
return false;},isTablet:function(navTest){if(!navTest){navTest=navigator.userAgent.toLowerCase();}
if(!this.isMobile()&&(/android|ios|ipad|silk/i.test(navigator.userAgent))){return true;}
return false;},replaceAttrValue:function(str,prop,value,separator){var indexStart=0,indexEnd=0,stringToReplace;indexStart=str.indexOf(prop);indexEnd=str.indexOf(separator,indexStart);if(indexEnd==-1){indexEnd=str.length;}
if(indexStart>=0){stringToReplace=str.substring(indexStart,indexEnd);if(value==null||value==''){return str.replace(stringToReplace,'');}
return str.replace(stringToReplace,prop+'='+value);}
else{return str+'|'+prop+'='+value;}},prependDocumentProtocol:function(sourceUrl){if(/^\/\//.test(sourceUrl)){return window.location.protocol+sourceUrl;}
return sourceUrl;},prependDocumentProtocolForSeoURL:function(url){if(/^(f|ht)tps?:\/\//i.test(url)){url=url.substr(url.indexOf(':')+3);url=document.location.protocol+"//"+url;}
return url;},findAndReplacePlayerAttrVal:function($container,strToFind,propToChange,newValue,separator){var playerAttrs=[];$container.each(function(){$.each(this.attributes,function(){if(this.value.toLowerCase().indexOf(strToFind)>=0){playerAttrs.push({name:this.name,value:this.value});}});});if(playerAttrs.length){for(var i in playerAttrs){$container.attr(playerAttrs[i].name,this.replaceAttrValue(playerAttrs[i].value,propToChange,newValue,separator));}}
else{return false;}},removePlayerPlugin:function($container,pluginName){var playerAttrs=[];$container.each(function(){$.each(this.attributes,function(){if(this.value.toLowerCase().indexOf(pluginName)>=0){playerAttrs.push({name:this.name,value:this.value});}});});if(playerAttrs.length){for(var i in playerAttrs){$container.removeAttr(playerAttrs[i].name);}}},urlParam:function(name,url){if(!url){url=window.location.href;}
var results=new RegExp('[\\?&]'+name+'=([^&#]*)',"i").exec(url);return(results===null)?null:(results[1]||0);},removeUrlParam:function(url,paramName){var result,urlArr,paramsArr,newParamsArr;result=url;urlArr=url.split('?');if(urlArr[1]){paramsArr=urlArr[1].split('&');newParamsArr=[];$.each(paramsArr,function(index,value){if(value.indexOf(paramName+'=')!=0){newParamsArr.push(value);}});if(newParamsArr.length==0){result=urlArr[0];}else{urlArr[1]=newParamsArr.join('&');result=urlArr.join('?');}}
return result;},isAndroidHLSSupported:function(navTest){if(!navTest){navTest=navigator.userAgent.toLowerCase();}
var match=navTest.match(/android\s([0-9\.]*)/);return match?(parseFloat(match[1])>=4.2)?true:false:false;},isiOSSupported:function(navTest){if(!navTest){navTest=navigator.userAgent.toLowerCase();}
var match=navTest.match(/os\s([0-9\.]*)/);return match?(parseFloat(match[1])>=7)?true:false:false;},isPlayerSupported:function(){if($pdk.isAndroid&&!this.isAndroidHLSSupported()){return false;}
else if($pdk.isIOS&&!this.isiOSSupported()){return false;}
return true;},isBrowserSupportsHLS:function(){return document.createElement('video').canPlayType('application/vnd.apple.mpegURL');},isCurrentVideoPremium:function(){var isVideoPremium=false;if(CNBC_CurrentReleaseObj){var mediaCategories=CNBC_CurrentReleaseObj['categories'];var mediaName;if(mediaCategories&&mediaCategories.length){for(var i in mediaCategories){mediaName=mediaCategories[i].name;if(mediaName&&mediaName.toLowerCase().indexOf('cnbc/packages/premium')>0){isVideoPremium=true;break;}}}}
return isVideoPremium;}}})();
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/js/player_config_combined.js */

var playerConfig={};var urlParam=function(name,url){if(!url){url=window.location.href;}
var results=new RegExp('[\\?&]'+name+'=([^&#]*)',"i").exec(url);return(results===null)?null:(results[1]||0);};var removeUrlParam=function(url,paramName){var result,urlArr,paramsArr,newParamsArr;result=url;urlArr=url.split('?');if(urlArr[1]){paramsArr=urlArr[1].split('&');newParamsArr=[];$.each(paramsArr,function(index,value){if(value.indexOf(paramName+'=')!=0){newParamsArr.push(value);}})
if(newParamsArr.length==0){result=urlArr[0];}else{urlArr[1]=newParamsArr.join('&');result=urlArr.join('?');}}
return result;};var isAndroidHLSSupported=function(){var match=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/);return match?(parseFloat(match[1])>=4.2)?true:false:false;};var combinedPlayerConfig={qa:(function(){var playerConfig={};var fmBaseURL='sc.cnbcfm.com';playerConfig.defaultConfig={embedURL:document.location.protocol+'//player.cnbc.com/p/gZWlPC/cnbc_global_qa?playertype=synd',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash.xml?vn=4',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal.xml?vn=8',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html.xml?vn=4',mobilelayoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_mobile.xml',mobilelayoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_mobile.xml',size:{width:530,height:300},playerURL:document.location.protocol+'//qa-pa10pub.cnbc.com/video/{guid}',feedServiceURL:'//feed.theplatform.com/f/gZWlPC/CNBC_prod_global',endCard:false,dockable:false,carousel:{endCard:false,autoPlayNextVideo:true,endCardNextVideo:false},comScore:{persistentlabels:"c4=CNBC.com VOD,c3=*null,c6=*null",C2:1000004},omniture:{omniServer:'oimg.nbcuni.com',scodePath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s_code.js',sManageVarPath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s.managevars.js',desktop:{sAccount:'nbcucnbcglobaldev,qa'},mobile:{sAccount:'nbcucnbcglobaldev,qa,mobile'}},freeWheel:{sectionId:"cnbc_test_vod",xfinity:{sectionId:"cnbc_xfinitycobrand_embed_vod"},flash:{profile:"169843:nbcu_live_nocount_as3",adServer:"//29cd8.v.fwmrm.net",adManager:"//adm.fwmrm.net/p/nbcu_test/AdManager.swf"},html5:{profile:"171224:nbcu_live_jsam_moat",adServer:"//29773.v.fwmrm.net/ad/p/1",adManager:"//adm.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"},mobile:{profile:"171224:nbcu_live_jsam_moat",adServer:"//29773.v.fwmrm.net/ad/p/1",adManager:"//adm.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"},tablet:{profile:"171224:nbcu_live_jsam_moat",adServer:"//29773.v.fwmrm.net/ad/p/1",adManager:"//adm.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"}},neilsen:{clientId:'us-800148',vcId:'c14'},chartbeat:{accountId:48509,appId:'video@cnbc.com'}};playerConfig.defaultHTTPSConfig={omniture:{omniServer:"osimg.nbcuni.com"},freeWheel:{flash:{adManager:"//mssl.fwmrm.net/p/nbcu_test/AdManager.swf"},html5:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"},mobile:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"},tablet:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam_moat/AdManager.js"}}};playerConfig.globalConfig={nbcu:{playerSkinURL:'//tve-nbc.nbcuni.com/player/releases/r12_100113/skins/refresh_2014/skin.min.json'},nbcu_new:{playerSkinURL:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/pdk/skins/cnbc/nbc_news_new.json'},test:{},cc:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/layout_cc.xml?vn=1',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/layout_cc.xml?vn=1'},cctest:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/layout_cc_test.xml?vn=1',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/layout_cc_test.xml?vn=1'},inline:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},quote:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_quote.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_quote.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_quote.xml?vn=16',freeWheel:{sectionId:'cnbc_quote_vod'}},premium:{embedURL:document.location.protocol+'//player-qa.cnbc.com/p/gZWlPC/cnbc_global_qa?playertype=premium',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml?vn=5',comScore:{persistentlabels:'c4=CNBC.com PRO,c3=*null,c6=*null'},freeWheel:{sectionId:"premium_no_ads_vod"}},synd:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml',freeWheel:{sectionId:"cnbc_off_domain_embed_vod"},omniture:{desktop:{sAccount:'nbcucnbcglobaldev,qa,synd'},mobile:{sAccount:'nbcucnbcglobaldev,qa,synd,mobile'}}},seeking_alpha:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml',freeWheel:{sectionId:"cnbc_seeking_alpha_ros_vod"},omniture:{desktop:{sAccount:'nbcucnbcglobaldev,qa,synd'},mobile:{sAccount:'nbcucnbcglobaldev,qa,synd,mobile'}}},gallery:{freeWheel:{sectionId:"cnbc_permalink_vod",xfinity:{sectionId:"cnbc_xfinitycobrand_permalink_vod"}}},home_page:{freeWheel:{sectionId:"cnbc_inline_homepage_vod",xfinity:{sectionId:"cnbc_xfinitycobrand_cnbc_homepage_vod"}}},home_page_video_section:{freeWheel:{xfinity:{sectionId:"cnbc_alldevice_allos_web_ondemand_homepagetest_xfinitycobrand"},sectionId:"cnbc_alldevice_allos_web_ondemand_homepagetest"}},section_front:{freeWheel:{sectionId:"cnbc_archive_vod",xfinity:{sectionId:"cnbc_xfinitycobrand_archive_vod"}}},makeit:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/nbcuniversal-cnbc-makeit/recommendations.get?app.type=web&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},show_detail:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"},carousel:{endCard:false,autoPlayNextVideo:true,endCardNextVideo:false}},video_lander_top_section_carousel:{}};playerConfig.config={};var playerType=urlParam('playertype');if(!playerType){if(location.href.indexOf('prime_player')>=0){playerType='prime';}
else if(document.body&&document.body.id==='page_video_gallery'){playerType='gallery';}
else if(document.body&&document.body.id==='page_video_section_front'){playerType='section_front';}
else{playerType='inline';}}
playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig[playerType]);if(document.location.protocol=='https:'){playerConfig.config=$.extend(true,{},playerConfig.config,playerConfig.defaultHTTPSConfig);}
return playerConfig;})(),stg:(function(){var playerConfig={};var fmBaseURL='sc.cnbcfm.com';playerConfig.defaultConfig={embedURL:document.location.protocol+'//player.cnbc.com/p/gZWlPC/cnbc_global_stg?playertype=synd',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash.xml?vn=19',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html.xml?vn=18',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal.xml?vn=19',mobilelayoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_mobile.xml?vn=1',size:{width:530,height:300},playerURL:document.location.protocol+'//stg-pa01pub.cnbc.com/video/{guid}',feedServiceURL:'//feed.theplatform.com/f/gZWlPC/CNBC_prod_global',endCard:false,dockable:false,comScore:{persistentlabels:'c4=CNBC.com VOD',C2:1000004},endCard:false,carousel:{endCard:false,autoPlayNextVideo:true,endCardNextVideo:false},omniture:{omniServer:'oimg.nbcuni.com',scodePath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s_code.js',sManageVarPath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s.managevars.js',desktop:{sAccount:'nbcucnbcglobaldev,stg'},mobile:{sAccount:'nbcucnbcglobaldev,stg,mobile'}},freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_embed_vod"},sectionId:'cnbc_inline_vod',flash:{profile:'169843:nbcu_cnbc_web_flash_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.swf'},html5:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'},mobile:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'},tablet:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'}},neilsen:{clientId:'us-800148',vcId:'c14'},chartbeat:{accountId:48509,appId:'video@cnbc.com'}};playerConfig.defaultHTTPSConfig={omniture:{omniServer:"osimg.nbcuni.com"},freeWheel:{flash:{adManager:"//mssl.fwmrm.net/p/nbcu_live/AdManager.swf"},html5:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"},mobile:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"},tablet:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"}}};playerConfig.globalConfig={inline:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},quote:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_quote.xml?vn=16',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_quote.xml?vn=16',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_quote.xml?vn=16',freeWheel:{sectionId:'cnbc_quote_vod'}},premium:{embedURL:document.location.protocol+'//player.cnbc.com/p/gZWlPC/cnbc_global_stg?playertype=premium',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml?vn=5',comScore:{persistentlabels:'c4=CNBC.com PRO'},freeWheel:{sectionId:"premium_no_ads_vod"}},synd:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml',freeWheel:{sectionId:"cnbc_off_domain_embed_vod"},omniture:{desktop:{sAccount:'nbcucnbcglobaldev,stg,synd'},mobile:{sAccount:'nbcucnbcglobaldev,stg,synd,mobile'}}},seeking_alpha:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml',freeWheel:{sectionId:"cnbc_seeking_alpha_ros_vod"},omniture:{desktop:{sAccount:'nbcucnbcglobaldev,stg,synd'},mobile:{sAccount:'nbcucnbcglobaldev,stg,synd,mobile'}}},gallery:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_permalink_vod"},sectionId:"cnbc_permalink_vod"}},home_page:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_cnbc_homepage_vod"},sectionId:"cnbc_inline_homepage_vod"}},home_page_video_section:{freeWheel:{xfinity:{sectionId:"cnbc_alldevice_allos_web_ondemand_homepage_xfinitycobrand"},sectionId:"cnbc_alldevice_allos_web_ondemand_homepage"}},section_front:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_archive_vod"},sectionId:"cnbc_archive_vod"}},makeit:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/nbcuniversal-cnbc-makeit/recommendations.get?app.type=web&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},show_detail:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},video_lander_top_section_carousel:{}};playerConfig.config={};var playerType=urlParam('playertype');if(!playerType){if(location.href.indexOf('prime_player')>=0){playerType='prime';}
else if(document.body&&document.body.id==='page_video_gallery'){playerType='gallery';}
else if(document.body&&document.body.id==='page_video_section_front'){playerType='section_front';}
else{playerType='inline';}}
playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig[playerType]);if(document.location.protocol=='https:'){playerConfig.config=$.extend(true,{},playerConfig.config,playerConfig.defaultHTTPSConfig);}
return playerConfig;})(),prod:(function(){var playerConfig={};var fmBaseURL='sc.cnbcfm.com';playerConfig.defaultConfig={embedURL:document.location.protocol+'//player.cnbc.com/p/gZWlPC/cnbc_global?playertype=synd',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal.xml?vn=15',mobilelayoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_mobile.xml',size:{width:530,height:300},playerURL:document.location.protocol+'//www.cnbc.com/video/{guid}',feedServiceURL:'//feed.theplatform.com/f/gZWlPC/CNBC_prod_global',endCard:false,dockable:false,carousel:{endCard:false,autoPlayNextVideo:true,endCardNextVideo:false},comScore:{persistentlabels:'c4=CNBC.com VOD',C2:1000004},omniture:{omniServer:'oimg.nbcuni.com',scodePath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s_code.js?v=1.6.4',sManageVarPath:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/scripts/omniture/s.managevars.js',desktop:{sAccount:'nbcucnbcbu,nbcucnbcglobal,nbcucnbcall'},mobile:{sAccount:'nbcucnbcmobileglobal,nbcucnbcglobal,nbcucnbcall'}},freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_embed_vod"},sectionId:'cnbc_inline_vod',flash:{profile:'169843:nbcu_cnbc_web_flash_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.swf'},html5:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'},mobile:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'},tablet:{profile:'169843:nbcu_mobileweb_js_cs_moat_https',adServer:'//29773.v.fwmrm.net/ad/p/1',adManager:'//mssl.fwmrm.net/p/nbcu_live/AdManager.js'}},neilsen:{clientId:'us-800148',vcId:'c14'},chartbeat:{accountId:48509,appId:'video@cnbc.com'}};playerConfig.defaultHTTPSConfig={omniture:{omniServer:"osimg.nbcuni.com"},freeWheel:{flash:{adManager:"//mssl.fwmrm.net/p/nbcu_live/AdManager.swf"},html5:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"},mobile:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"},tablet:{adManager:"//mssl.fwmrm.net/p/nbcu_live_jsam/AdManager.js"}}};playerConfig.globalConfig={inline:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},quote:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_quote.xml?vn=16',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_quote.xml?vn=16',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_quote.xml?vn=16',freeWheel:{sectionId:'cnbc_quote_vod'}},premium:{embedURL:document.location.protocol+'//player.cnbc.com/p/gZWlPC/cnbc_global?playertype=premium',layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml?vn=15',comScore:{persistentlabels:'c4=CNBC.com PRO'},freeWheel:{sectionId:"premium_no_ads_vod"}},synd:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml?vn=15',freeWheel:{sectionId:"cnbc_off_domain_embed_vod"},omniture:{desktop:{sAccount:'nbcucnbcsyndbu,nbcucnbcall'},mobile:{sAccount:'nbcucnbcmobileglobal,nbcucnbcglobal,nbcucnbcall'}}},seeking_alpha:{layoutURLFlash:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_flash_prime.xml?vn=15',layoutURLHTML5:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_html_prime.xml?vn=15',layoutURLUniversal:'//'+fmBaseURL+'/applications/cnbc.com/staticcontent/ThePlatform/data/cnbc_layout_universal_prime.xml?vn=15',freeWheel:{sectionId:"cnbc_seeking_alpha_ros_vod"},omniture:{desktop:{sAccount:'nbcucnbcsyndbu,nbcucnbcall'},mobile:{sAccount:'nbcucnbcmobileglobal,nbcucnbcglobal,nbcucnbcall'}}},gallery:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_permalink_vod"},sectionId:"cnbc_permalink_vod"}},home_page:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_cnbc_homepage_vod"},sectionId:"cnbc_inline_homepage_vod"}},home_page_video_section:{freeWheel:{xfinity:{sectionId:"cnbc_alldevice_allos_web_ondemand_homepage_xfinitycobrand"},sectionId:"cnbc_alldevice_allos_web_ondemand_homepage"}},section_front:{freeWheel:{xfinity:{sectionId:"cnbc_xfinitycobrand_archive_vod"},sectionId:"cnbc_archive_vod"}},makeit:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/nbcuniversal-cnbc-makeit/recommendations.get?app.type=web&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},show_detail:{endCard:true,dockable:true,timer:15,getFeed:{"taboola":"//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={maxRecCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement=end-card&rec.callback=taboola_jsonp_callback"}},video_lander_top_section_carousel:{}};playerConfig.replaceAttrValue=function(str,prop,value,separator){var indexStart=0,indexEnd=0,stringToReplace;indexStart=str.indexOf(prop);indexEnd=str.indexOf(separator,indexStart);if(indexEnd==-1){indexEnd=str.length;}
if(indexStart>=0){stringToReplace=str.substring(indexStart,indexEnd);if(value==null||value==''){return str.replace(stringToReplace,'');}
return str.replace(stringToReplace,prop+'='+value);}
else{return str+'|'+prop+'='+value;}};playerConfig.findAndReplacePlayerAttrVal=function($container,strToFind,propToChange,newValue,separator){var playerAttrs=[];$container.each(function(){$.each(this.attributes,function(){if(this.value.toLowerCase().indexOf(strToFind)>=0){playerAttrs.push({name:this.name,value:this.value});}});});if(playerAttrs.length){for(var i in playerAttrs){$container.attr(playerAttrs[i].name,this.replaceAttrValue(playerAttrs[i].value,propToChange,newValue,separator));}}
else{return false;}};playerConfig.removePlayerPlugin=function($container,pluginName){var playerAttrs=[];$container.each(function(){$.each(this.attributes,function(){if(this.value.toLowerCase().indexOf(pluginName)>=0){playerAttrs.push({name:this.name,value:this.value});}});});if(playerAttrs.length){for(var i in playerAttrs){$container.removeAttr(playerAttrs[i].name);}}};playerConfig.config={};var playerType=urlParam('playertype');if(!playerType){if(location.href.indexOf('prime_player')>=0){playerType='prime';}
else if(document.body&&document.body.id==='page_video_gallery'){playerType='gallery';}
else if(document.body&&document.body.id==='page_video_section_front'){playerType='section_front';}
else{playerType='inline';}}
playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig[playerType]);if(document.location.protocol=='https:'){playerConfig.config=$.extend(true,{},playerConfig.config,playerConfig.defaultHTTPSConfig);}
return playerConfig;})()}
var playerConfig={};(function(){var host=location.host;if(host.indexOf('qa')>=0){playerConfig=combinedPlayerConfig.qa;}
else if(host.indexOf('stg')>=0){playerConfig=combinedPlayerConfig.stg;}
else{playerConfig=combinedPlayerConfig.prod;}})();
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/Ellipsis/Ellipsis.1.js */

function CNBC_Ellipsis(){};(function($){CNBC_Ellipsis.prototype._container=null;CNBC_Ellipsis.prototype.defaults={'ellipsis':'... ','wrap':'word','fallbackToLetter':true,'lastCharacter':{'remove':[' ','\u3000',',',';','.','!','?'],'noEllipsis':[]},'tolerance':0,'callback':null,'after':null,'height':null,'watch':false,'windowResizeFix':true};CNBC_Ellipsis.prototype.init=function(args){var self=this;var args=args||{};if(args.container!=null){self.setOptionalOverrides(args);self.setContainer(args.container);if(self._container.length){self.updateDot();}}};CNBC_Ellipsis.prototype.setContainer=function(container){var self=this;var type=typeof container;var container;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
self._container=container;};CNBC_Ellipsis.prototype.setOptionalOverrides=function(args){var thisObj=this;if(args.ellipsis){thisObj.defaults.ellipsis=args.ellipsis;}
if(args.wrap){thisObj.defaults.wrap=args.wrap;}
if(args.fallbackToLetter){thisObj.defaults.fallbackToLetter=args.fallbackToLetter;}
if(args.lastCharacter){thisObj.defaults.lastCharacter=args.lastCharacter;}
if(args.tolerance){thisObj.defaults.tolerance=args.tolerance;}
if(args.callback){thisObj.defaults.callback=args.callback;}
if(args.after){thisObj.defaults.after=args.after;}
if(args.height){thisObj.defaults.height=args.height;}
if(args.watch){thisObj.defaults.watch=args.watch;}
if(args.windowResizeFix){thisObj.defaults.windowResizeFix=args.windowResizeFix;}
if(args.lastCharacter&&args.lastCharacter.remove instanceof Array){thisObj.defaults.lastCharacter.remove=args.lastCharacter.remove;}
if(args.lastCharacter&&args.lastCharacter.noEllipsis instanceof Array){thisObj.defaults.lastCharacter.noEllipsis=args.lastCharacter.noEllipsis;}};CNBC_Ellipsis.prototype.updateDot=function(){var self=this;var orgContent=self._container.contents(),conf={},watchOrg={},watchInt=null,$inr=null;conf.afterElement=self.getElement(self.defaults.after,self._container);conf.isTruncated=false;self.defaults.maxHeight=(typeof self.defaults.height=='number')?self.defaults.height:self._container.height();self.defaults.maxHeight+=self.defaults.tolerance;var $inr=self._container.wrapInner('<div class="dotdotdot" />').children();$inr.contents().detach().end().append(orgContent.clone(true)).find('br').replaceWith('  <br />  ').end().css({'height':'auto','width':'auto','border':'none','padding':0,'margin':0});var after=false,trunc=false;if(conf.afterElement){after=conf.afterElement.clone(true);after.show();conf.afterElement.detach();}
if(self.test($inr,self.defaults)){if(self.defaults.wrap=='children')
{trunc=children($inr,self.defaults,after);}
else
{trunc=self.ellipsis($inr,self._container,$inr,self.defaults,after);}}
$inr.replaceWith($inr.contents());$inr=null;};CNBC_Ellipsis.prototype.test=function($i,o){return $i.innerHeight()>o.maxHeight;};CNBC_Ellipsis.prototype.getElement=function(e,$i){if(!e)
{return false;}
if(typeof e==='string')
{e=$(e,$i);return(e.length)?e:false;}
return!e.jquery?false:e;};CNBC_Ellipsis.prototype.ellipsis=function($elem,$d,$i,o,after){var self=this;var isTruncated=false;var notx='table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style';var noty='script';$elem.contents().detach().each(function(){var e=this,$e=$(e);if(typeof e=='undefined'||(e.nodeType==3&&$.trim(e.data).length==0))
{return true;}
else if($e.is(noty))
{$elem.append($e);}
else if(isTruncated)
{return true;}
else
{$elem.append($e);if(after)
{$elem[$elem.is(notx)?'after':'append'](after);}
if(self.test($i,o))
{if(e.nodeType==3)
{isTruncated=self.ellipsisElement($e,$d,$i,o,after);}
else
{isTruncated=self.ellipsis($e,$d,$i,o,after);}
if(!isTruncated)
{$e.detach();isTruncated=true;}}
if(!isTruncated)
{if(after)
{after.detach();}}}});return isTruncated;};CNBC_Ellipsis.prototype.ellipsisElement=function($e,$d,$i,o,after){var self=this;var e=$e[0];if(!e)
{return false;}
var txt=self.getTextContent(e),space=(txt.indexOf(' ')!==-1)?' ':'\u3000',separator=(o.wrap=='letter')?'':space,textArr=txt.split(separator),position=-1,midPos=-1,startPos=0,endPos=textArr.length-1;if(o.fallbackToLetter&&startPos==0&&endPos==0)
{separator='';textArr=txt.split(separator);endPos=textArr.length-1;}
while(startPos<=endPos&&!(startPos==0&&endPos==0))
{var m=Math.floor((startPos+endPos)/2);if(m==midPos)
{break;}
midPos=m;self.setTextContent(e,textArr.slice(0,midPos+1).join(separator)+o.ellipsis);if(!self.test($i,o))
{position=midPos;startPos=midPos;}
else
{endPos=midPos;if(o.fallbackToLetter&&startPos==0&&endPos==0)
{separator='';textArr=textArr[0].split(separator);position=-1;midPos=-1;startPos=0;endPos=textArr.length-1;}}}
if(position!=-1&&!(textArr.length==1&&textArr[0].length==0))
{txt=self.addEllipsis(textArr.slice(0,position+1).join(separator),o);self.setTextContent(e,txt);}
else
{var $w=$e.parent();$e.detach();var afterLength=(after&&after.closest($w).length)?after.length:0;if($w.contents().length>afterLength)
{e=self.findLastTextNode($w.contents().eq(-1-afterLength),$d);}
else
{e=self.findLastTextNode($w,$d,true);if(!afterLength)
{$w.detach();}}
if(e)
{txt=self.addEllipsis(self.getTextContent(e),o);self.setTextContent(e,txt);if(afterLength&&after)
{$(e).parent().append(after);}}}
return true;};CNBC_Ellipsis.prototype.addEllipsis=function(txt,o){while($.inArray(txt.slice(-1),o.lastCharacter.remove)>-1)
{txt=txt.slice(0,-1);}
if($.inArray(txt.slice(-1),o.lastCharacter.noEllipsis)<0)
{txt+=o.ellipsis;}
return txt;};CNBC_Ellipsis.prototype.findLastTextNode=function($el,$top,excludeCurrent){var self=this;var e=$el&&$el[0],p;if(e)
{if(!excludeCurrent)
{if(e.nodeType===3)
{return e;}
if($.trim($el.text()))
{return self.findLastTextNode($el.contents().last(),$top);}}
p=self.getPrevNode(e);while(!p)
{$el=$el.parent();if($el.is($top)||!$el.length)
{return false;}
p=self.getPrevNode($el[0]);}
if(p)
{return self.findLastTextNode($(p),$top);}}
return false;};CNBC_Ellipsis.prototype.getPrevNode=function(n){do
{n=n.previousSibling;}
while(n&&n.nodeType!==1&&n.nodeType!==3);return n;};CNBC_Ellipsis.prototype.setTextContent=function(e,content)
{if(e.innerText){e.innerText=content;}
else if(e.nodeValue){e.nodeValue=content;}
else if(e.textContent){e.textContent=content;}};CNBC_Ellipsis.prototype.getTextContent=function(e){if(e.innerText){return e.innerText;}
else if(e.nodeValue){return e.nodeValue;}
else if(e.textContent){return e.textContent;}
else{return"";}};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/js/fw_Config.js */

function fw_config()
{var playerId=$pdk.controller._env._component_runtime;var profile="";var sectionId="";var adServer="";var adManager="";var ssid="";if(PDKUtils.isTablet()){playerId="tablet";}
else if(PDKUtils.isMobile()){playerId="mobile";}
ssid=playerConfig.config.freeWheel.sectionId;var paramExp=PDKUtils.urlParam('param')?PDKUtils.urlParam('param'):"";if(typeof CNBC_Utils!=='undefined'){var exp=CNBC_Utils.getExperience();if(exp=='premium'){ssid=playerConfig.globalConfig.premium.freeWheel.sectionId;}
else if(exp=='xfinity'){if(playerConfig.config.freeWheel.xfinity&&playerConfig.config.freeWheel.xfinity.sectionId!=undefined){ssid=playerConfig.config.freeWheel.xfinity.sectionId;}
else{ssid=playerConfig.defaultConfig.freeWheel.xfinity.sectionId;}}}
else if(paramExp=='premium'||(typeof CNBC_Utils!=='undefined'&&CNBC_Utils.isUserPremium())){ssid=playerConfig.globalConfig.premium.freeWheel.sectionId;}
else if(paramExp=='xfinity'||window.activePartnerExperience=='xfinity'){if(playerConfig.config.freeWheel.xfinity&&playerConfig.config.freeWheel.xfinity.sectionId!=undefined){ssid=playerConfig.config.freeWheel.xfinity.sectionId;}
else{ssid=playerConfig.defaultConfig.freeWheel.xfinity.sectionId;}}
ssid=PDKUtils.urlParam('ssid')?PDKUtils.urlParam('ssid'):ssid;if(ssid){if(playerId=='mobile'){sectionId=ssid+'_hh';}
else if(playerId=='tablet'){sectionId=ssid+'_tab';}
else{sectionId=ssid;}}
switch(playerId){case"flash":profile=playerConfig.config.freeWheel.flash.profile;adServer=playerConfig.config.freeWheel.flash.adServer;adManager=playerConfig.config.freeWheel.flash.adManager;break;case"html5":profile=playerConfig.config.freeWheel.html5.profile;adServer=playerConfig.config.freeWheel.html5.adServer;adManager=playerConfig.config.freeWheel.html5.adManager;break;case"mobile":profile=playerConfig.config.freeWheel.mobile.profile;adServer=playerConfig.config.freeWheel.mobile.adServer;adManager=playerConfig.config.freeWheel.mobile.adManager;break;case"tablet":profile=playerConfig.config.freeWheel.tablet.profile;adServer=playerConfig.config.freeWheel.tablet.adServer;adManager=playerConfig.config.freeWheel.tablet.adManager;break;}
if((typeof isUniversalPlayer!=='undefined'&&isUniversalPlayer==true)||(typeof CNBC_Platform_Video_Gallery!=='undefined'&&typeof CNBC_Utils!=='undefined'&&CNBC_Utils.isUniversalVODPlayer())){return{siteSectionId:sectionId};}
else{return{siteSectionId:sectionId,playerProfile:profile,adServerUrl:adServer,adManagerUrl:adManager};}}
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/onsite.js */

if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){CNBC_CurrentReleaseObj={};var timetoFirstFrame=0;function InitialContext(_factory,_dictionary)
{var factory=_factory;var dictionary=_dictionary;this.lookup=function(id)
{if(dictionary[id])
{return dictionary[id];}
var lookupObj;switch(id)
{case ServiceKeys.Omniture.id:lookupObj=factory.newOmniture();break;case ServiceKeys.AppStateMonitor.id:lookupObj=factory.newAppStateMonitor();break;case ServiceKeys.DynamicYield.id:lookupObj=factory.newDynamicYield();break;case ServiceKeys.Parsely.id:lookupObj=factory.newParsely();break;}
dictionary[id]=lookupObj;return dictionary[id];};}
function OnsiteFactory(_playerType)
{var playerType=_playerType;var pdk,serviceLocator,stateManager,params;this.initialize=function(_pdk,_serviceLocator,_stateManager,_params)
{pdk=_pdk;serviceLocator=_serviceLocator;stateManager=_stateManager;params=_params;};this.newAppStateMonitor=function()
{return new AppStateMonitor(stateManager,pdk.controller,pdk.controller,serviceLocator.getService(ServiceKeys.ContentMetadataLocator));};function newContentMetadataEventTranslator()
{return new EventTranslator();}
this.newContentMetadataLocator=function()
{return new ContentMetadataLocator(pdk,newContentMetadataEventTranslator());};this.newOmniture=function()
{return new Omniture(pdk,serviceLocator.getService(ServiceKeys.ContentMetadataLocator),playerType,stateManager);};this.newDynamicYield=function()
{return new DynamicYield(pdk,serviceLocator.getService(ServiceKeys.ContentMetadataLocator),playerType,stateManager);};this.newParsely=function()
{return new Parsely(pdk,serviceLocator.getService(ServiceKeys.ContentMetadataLocator),playerType,stateManager);};}
var ServiceKeys={ContentMetadataLocator:{id:"contentMetadataLocator"},Omniture:{id:"omniture"},AppStateMonitor:{id:"appStateMonitor"},DynamicYield:{id:"DynamicYield"},Parsely:{id:"Parsely"}};function ServiceLocator(factory)
{var context=factory;this.getService=function(key)
{var foundService=context.lookup(key.id);if(!foundService)
{throw new Error("Could not locate Service: "+key.id);}
return foundService;};}
function OnsiteApplication(_pdk,_params,_serviceLocator,_stateManager)
{var pdk=_pdk;var params=_params;var serviceLocator=_serviceLocator;this.init=function()
{initServices();initDynamicYield();initParsely();addListeners();};function initServices()
{serviceLocator.getService(ServiceKeys.Omniture).init();}
function initDynamicYield()
{serviceLocator.getService(ServiceKeys.DynamicYield).init();}
function initParsely()
{serviceLocator.getService(ServiceKeys.Parsely).init();}
function startMonitors()
{serviceLocator.getService(ServiceKeys.AppStateMonitor).start();}
function onPlayerLoaded(evt)
{startMonitors();$('div.player').prepend("<div id='closecaption'></div>");$("#closecaption").append(cnbc_html["cnbc-cc"]).hide();}
function addListeners()
{pdk.controller.addEventListener("OnPlayerLoaded",onPlayerLoaded);}}
function ContentMetadataUpdateEvent(type,contentMetadata)
{this.type=type;this.data=contentMetadata;}
ContentMetadataUpdateEvent.CONTENT_METADATA_UPDATE="contentMetadataUpdate";var AvailabilityState={AVAILABLE:"Available",NOT_YET_AVAILABLE:"NotYetAvailable",EXPIRED:"Expired",UNKNOWN:"Unknown"};function ContentMetadata()
{var _currentRelease=null;var _clipData=null;var _chapters=null;var _availabilityState=AvailabilityState.UNKNOWN;function findCustomValueByFieldName(fieldName)
{if(CNBC_CurrentReleaseObj)
{if(CNBC_CurrentReleaseObj["cnbc$"+fieldName])
{return CNBC_CurrentReleaseObj["cnbc$"+fieldName];}
else if(CNBC_CurrentReleaseObj["media$"+fieldName])
{return CNBC_CurrentReleaseObj["media$"+fieldName];}
else if(CNBC_CurrentReleaseObj["plmedia$"+fieldName])
{return CNBC_CurrentReleaseObj["plmedia$"+fieldName];}}
if(_currentRelease&&_currentRelease.customValues)
{var i=_currentRelease.customValues.length;while(i--)
{if(_currentRelease.customValues[i].fieldName===fieldName)
{return _currentRelease.customValues[i].value;}}}
if(_currentRelease&&_currentRelease.contentCustomData)
{if(_currentRelease.contentCustomData[fieldName])
{return _currentRelease.contentCustomData[fieldName];}}
if(_currentRelease)
{if(_currentRelease["cnbc$"+fieldName])
{return _currentRelease["cnbc$"+fieldName];}
else if(_currentRelease[fieldName])
{return _currentRelease[fieldName];}}
return null;}
this.getAvailabilityState=function()
{return _availabilityState;};this.hasException=function()
{return Boolean(findCustomValueByFieldName("isException"));};this.getProgram=function()
{return findCustomValueByFieldName("program");};this.getClipId=function()
{return findCustomValueByFieldName("clipId")||"";};this.getGuid=function()
{return _currentRelease.guid;};this.getTitle=function()
{return _currentRelease.title;};this.getValuesFromCategorties=function(type){var mediaCategories=findCustomValueByFieldName('categories');var mediaName,mediaSplit,subCatArr=[],subCat=null;if(mediaCategories&&mediaCategories.length){for(var i in mediaCategories){mediaName=mediaCategories[i].name;if(mediaName){mediaSplit=mediaName.split('/');if(mediaSplit.length&&mediaSplit[mediaSplit.length-2].toLowerCase()==type){subCatArr.push(mediaSplit[mediaSplit.length-1]);}}}}
if(subCatArr.length){subCat=subCatArr.join('|');}
return subCat;};this.getPlaybackInitiation=function(){var playbackInit="Auto";if(document.referrer&&document.referrer.indexOf('cnbc.com')){playbackInit="Manual";}
else{if(CNBC_Platform_Video_Gallery.videoObj.continuousPlay){playbackInit="Continuous";}
else{playbackInit="Auto";}}
if(releaseInitiatedByClick&&!CNBC_Platform_Video_Gallery.videoObj.continuousPlay){playbackInit="Manual";}
if(document.referrer&&document.referrer.indexOf('cnbc.com')&&!releaseInitiatedByClick&&CNBC_Platform_Video_Gallery.videoObj.continuousPlay){playbackInit="Continuous";}
if(document.referrer&&document.referrer.indexOf('cnbc.com')&&!releaseInitiatedByClick&&!CNBC_Platform_Video_Gallery.videoObj.continuousPlay){playbackInit="Auto";}
if((CNBC_Utils.isVideoGallery()||CNBC_Utils.isVideoGalleryNg())&&CNBC_Platform_Video_Common.pageLoad&&document.referrer&&document.referrer.indexOf('cnbc.com')&&!CNBC_Platform_Video_Gallery.videoObj.continuousPlay){playbackInit="Manual";}
return playbackInit;};this.getSecondaryCategory=function(){return findCustomValueByFieldName("secondaryCategory");};this.getProgrammingType=function(){return findCustomValueByFieldName("programmingType");};this.getSeasonNumber=function(){return findCustomValueByFieldName("seasonNumber");};this.getAirOrder=function(){return findCustomValueByFieldName("airOrder");};function toBoolean(val)
{if(!isNaN(val))
{return Boolean(Number(val));}
switch(String(val).toLowerCase())
{case"true":case"yes":return true;default:return false;}}
this.isFullEpisode=function()
{return toBoolean(findCustomValueByFieldName("fullEpisode"));};this.getDayPart=function()
{return findCustomValueByFieldName("dayPart")||"";};this.getSeasonNumber=function(){return findCustomValueByFieldName("seasonNumber");};this.getAirOrder=function(){return findCustomValueByFieldName("airOrder");};this.getShowName=function()
{return findCustomValueByFieldName("program");};this.getAssetStatus=function()
{if(CNBC_Platform_Video_Gallery.videoObj.videoPremium){return"Premium";}
return findCustomValueByFieldName("assetStatus");};this.getPermalink=function()
{return"http://www.cnbc.com";};this.getChapters=function()
{return _chapters;};this.setReleaseData=function(release)
{_currentRelease=release;};this.getDuration=function(){return Number(_currentRelease.length||_currentRelease.trueLength||_currentRelease.duration)/1e3};this.setClipData=function(clip)
{};this.setChapters=function(chapters)
{_chapters=chapters;};this.setAvailabilityState=function(value)
{_availabilityState=value;};}
function ReleaseVO(key,release,chapters)
{this.key=key;this.release=release;this.chapters=chapters;}
function EventTranslator()
{function getFirstNonAdClip(clips)
{for(var i=0;i<clips.length;i++)
{if(!clips[i].isAd)
{return clips[i];}}}
function getReleaseBaseClipWithTitle(e)
{var clip=getFirstNonAdClip(e.data.baseClips);if(!clip.title)
{clip.title=getFirstNonAdClip(e.data.clips).title;}
return clip;}
function getReleaseData(e)
{if(e.data.release&&e.data.release.guid)
{return e.data.release;}
else if(e.data.baseClips)
{return getReleaseBaseClipWithTitle(e);}
else
{return e.data;}}
function getContentKey(e)
{return getReleaseData(e).guid;}
function getChapters(e)
{if(e.data.chapters.chapters)
{return e.data.chapters.chapters;}
else
{return e.data.chapters;}}
function canKnowAvailabilityState(e)
{return(e.data&&e.data.baseClip&&e.data.baseClip.contentCustomData);}
function hasAvailabilityException(e)
{var isException=e.data.baseClip.contentCustomData.isException;if(typeof isException==="object")isException=isException.value;return(isException==="true");}
function isAvailable(e)
{return(canKnowAvailabilityState(e)&&!hasAvailabilityException(e));}
function isNotYetAvailable(e)
{return(canKnowAvailabilityState(e)&&hasAvailabilityException(e)&&(e.data.baseClip.contentCustomData.exception===AvailabilityState.NOT_YET_AVAILABLE));}
function isExpired(e)
{return(canKnowAvailabilityState(e)&&hasAvailabilityException(e)&&(e.data.baseClip.contentCustomData.exception===AvailabilityState.EXPIRED));}
this.translate=function(e)
{var key=getContentKey(e);var release=getReleaseData(e);var chapters=getChapters(e);return new ReleaseVO(key,release,chapters);};this.translateAvailabilityState=function(e)
{if(isAvailable(e))
{return AvailabilityState.AVAILABLE;}
else if(isNotYetAvailable(e))
{return AvailabilityState.NOT_YET_AVAILABLE;}
else if(isExpired(e))
{return AvailabilityState.EXPIRED;}
else
{return AvailabilityState.UNKNOWN;}};}
function ContentMetadataLocator(pdk,translator)
{var _this=this;var _pdk=pdk;var _translator=translator;var cache={};var currentContentMetadata;this.init=function()
{_pdk.controller.addEventListener("OnMediaLoadStart",updateAvailabilityState);_pdk.controller.addEventListener("OnLoadReleaseUrl",updateReleaseData);_pdk.controller.addEventListener("OnReleaseStart",updateReleaseData);_pdk.controller.addEventListener("OnSetReleaseUrl",onSetReleaseUrl);};this.getCurrentContentMetadata=function()
{return currentContentMetadata;};this.getContentMetadata=function(e)
{var vo=_translator.translate(e);if(!cache[vo.key])
{cache[vo.key]=newContentMetadata(vo.release,vo.chapters);}
return cache[vo.key];};function newContentMetadata(release,chapters)
{var contentMetadata=new ContentMetadata();contentMetadata.setReleaseData(release);contentMetadata.setChapters(chapters);return contentMetadata;}
function updateAvailabilityState(e)
{currentContentMetadata.setAvailabilityState(translator.translateAvailabilityState(e));_pdk.controller.dispatchEvent(ContentMetadataUpdateEvent.CONTENT_METADATA_UPDATE,currentContentMetadata);}
function updateReleaseData(e)
{_pdk.controller.removeEventListener("OnLoadReleaseUrl",updateReleaseData);_pdk.controller.removeEventListener("OnReleaseStart",updateReleaseData);currentContentMetadata=_this.getContentMetadata(e);_pdk.controller.dispatchEvent(ContentMetadataUpdateEvent.CONTENT_METADATA_UPDATE,currentContentMetadata);}
function onSetReleaseUrl(e)
{_pdk.controller.addEventListener("OnLoadReleaseUrl",updateReleaseData);_pdk.controller.addEventListener("OnReleaseStart",updateReleaseData);}}
function NewVideoSelectedEvent(type,guid,permalink,clipId,clicked)
{this.type=type;this.data={guid:guid,permalink:permalink,clipId:clipId,clicked:clicked};}
NewVideoSelectedEvent.VIDEO_SELECTED="RelatedVideoSelected";var FullEpisodeConfig={defaults:{contextData:{"tve.videoprogram":"[SHOW_NAME]","tve.videotitle":"[TITLE]","tve.videoguid":"[GUID]","tve.videodaypart":"[DAY_PART]","tve.videocontent":"VOD Clip","tve.minute":"[DATE_GET_HOURS]:[FORMATTED_MINUTES]","tve.hour":"[DATE_GET_HOURS]","tve.day":"[DAY_OF_WEEK]","tve.date":"[MONTH]/[DATE_GET_DATE]/[DATE_GET_FULL_YEAR]","tve.playertech":"[PLAYER_ID]","tve.videoplayertype":"[PLAYER_TYPE]","tve.videoid":"[CLIP_ID]","tve.platform":"[PLATFORM]","tve.network":"CNBC","tve.videoscreen":"[VIDEO_SCREEN]","tve.playerurl":"[PLAYER_URL]","tve.length":"[DURATION]","tve.playername":"[PLAYER_PID]","tve.initiate":"[INITIATE]","tve.videostatus":"[ASSET_STATUS]","tve.airdate":"[AIRDATE]","tve.subcat1":"[PRIMARY_CATEGORY]","tve.creator":"[CREATOR]"},pe:"lnk_o"},AD_START:{contextData:{"tve.videovodadstart":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Episode Ad Start"},AD_PAUSE:{contextData:{"tve.videovodadpause":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Episode Ad Pause"},AD_COMPLETE:{contextData:{"tve.videovodadend":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Episode Ad Complete"},VIDEO_START:{contextData:{"tve.videovodstart":"true","tve.videovodsegstart":"true"},pev2:"VOD Episode Start"},SEGMENT_START:{contextData:{"tve.videovodsegstart":"true"},pev2:"VOD Episode Segment Start"},CLIP_COMPLETE:{contextData:{"tve.videovodclipend":"true"},pev2:"VOD Clip Complete"},EPISODE_COMPLETE:{contextData:{"tve.videovodend":"true"},pev2:"VOD Episode Complete"},MILESTONE_25_PERCENT:{contextData:{"tve.videovod25":"true"},pev2:"VOD Episode 25"},MILESTONE_50_PERCENT:{contextData:{"tve.videovod50":"true"},pev2:"VOD Episode 50"},MILESTONE_75_PERCENT:{contextData:{"tve.videovod75":"true"},pev2:"VOD Episode 75"},SEEK:{contextData:{"tve.videovodscrub":"true"},pev2:"VOD Episode Rewind/Scrub"},PAUSE:{contextData:{"tve.videovodpause":"true"},pev2:"VOD Episode Pause"}};var ShortformConfig={defaults:{contextData:{"tve.videoprogram":"[SHOW_NAME]","tve.videotitle":"[TITLE]","tve.videoguid":"[GUID]","tve.videodaypart":"[DAY_PART]","tve.videocontent":"VOD Clip","tve.minute":"[DATE_GET_HOURS]:[FORMATTED_MINUTES]","tve.hour":"[DATE_GET_HOURS]","tve.day":"[DAY_OF_WEEK]","tve.date":"[MONTH]/[DATE_GET_DATE]/[DATE_GET_FULL_YEAR]","tve.playertech":"[PLAYER_ID]","tve.videoplayertype":"[PLAYER_TYPE]","tve.videoid":"[CLIP_ID]","tve.platform":"[PLATFORM]","tve.network":"CNBC","tve.videoscreen":"[VIDEO_SCREEN]","tve.playerurl":"[PLAYER_URL]","tve.length":"[DURATION]","tve.playername":"[PLAYER_PID]","tve.initiate":"[INITIATE]","tve.videostatus":"[ASSET_STATUS]","tve.airdate":"[AIRDATE]","tve.subcat1":"[PRIMARY_CATEGORY]","tve.creator":"[CREATOR]"},pe:"lnk_o"},AD_START:{contextData:{"tve.videovodclipadstart":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Clip Ad Start"},AD_PAUSE:{contextData:{"tve.videovodclipadpause":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Clip Ad Pause"},AD_COMPLETE:{contextData:{"tve.videovodclipadend":"true","tve.videoadid":"[VIDEO_AD_ID]"},pev2:"VOD Clip Ad Complete"},VIDEO_START:{contextData:{"tve.videovodclipstart":"true"},pev2:"VOD Clip Start"},CLIP_COMPLETE:{contextData:{"tve.videovodclipend":"true"},pev2:"VOD Clip Complete"},MILESTONE_25_PERCENT:{contextData:{"tve.videovodclip25":"true"},pev2:"VOD Clip 25"},MILESTONE_50_PERCENT:{contextData:{"tve.videovodclip50":"true"},pev2:"VOD Clip 50"},MILESTONE_75_PERCENT:{contextData:{"tve.videovodclip75":"true"},pev2:"VOD Clip 75"},SEEK:{contextData:{"tve.videovodclipscrub":"true"},pev2:"VOD Clip Rewind/Scrub"},PAUSE:{contextData:{"tve.videovodclippause":"true"},pev2:"VOD Clip Pause"}};function Omniture(pdk,cmdLocator,playerType,stateManager)
{var weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var _this=this;var _pdk=pdk;var _cmdLocator=cmdLocator;var _playerType=playerType;var _isFullScreen=false;var _stateManager=stateManager;var _clipData;var _segmentWatchTime;var _adWatchTime;var _playheadTime;var _adPlayheadTime;var _segmentNumber;var _fullEpisodeComplete;var _is25,_is50,_is75;var linkTrkVars=[];linkTrkVars.push("contextData.tve.airdate");linkTrkVars.push("contextData.tve.epnumber");linkTrkVars.push("contextData.tve.videoprogram");linkTrkVars.push("contextData.tve.videotitle");linkTrkVars.push("contextData.tve.videocontent");linkTrkVars.push("contextData.tve.minute");linkTrkVars.push("contextData.tve.hour");linkTrkVars.push("contextData.tve.day");linkTrkVars.push("contextData.tve.date");linkTrkVars.push("contextData.tve.videoid");linkTrkVars.push("contextData.tve.videoadid");linkTrkVars.push("contextData.tve.playertech");linkTrkVars.push("contextData.tve.platform");linkTrkVars.push("contextData.tve.network");linkTrkVars.push("contextData.tve.videomvpd");linkTrkVars.push("contextData.tve.videoplayertype");linkTrkVars.push("contextData.tve.videobitrate");linkTrkVars.push("contextData.tve.videoscreen");linkTrkVars.push("contextData.tve.videostatus");linkTrkVars.push("contextData.tve.playerurl");linkTrkVars.push("contextData.tve.videoguid");linkTrkVars.push("contextData.tve.videodaypart");linkTrkVars.push("contextData.tve.length");linkTrkVars.push("contextData.tve.playername");linkTrkVars.push("contextData.tve.initiate");linkTrkVars.push("contextData.tve.subcat1");linkTrkVars.push("contextData.tve.creator");linkTrkVars.push("contextData.tve.videovodclipadstart");linkTrkVars.push("contextData.tve.videovodclipadend");linkTrkVars.push("contextData.tve.videovodclipadpause");linkTrkVars.push("contextData.tve.videovodclipad");linkTrkVars.push("contextData.tve.videovodclipdisplayad");linkTrkVars.push("contextData.tve.videovodclipstart");linkTrkVars.push("contextData.tve.videovodclip25");linkTrkVars.push("contextData.tve.videovodclip50");linkTrkVars.push("contextData.tve.videovodclip75");linkTrkVars.push("contextData.tve.videovodclipend");linkTrkVars.push("contextData.tve.videovodclip");linkTrkVars.push("contextData.tve.videovodclipscrub");linkTrkVars.push("contextData.tve.videovodclippause");function getContentMetadata()
{return _cmdLocator.getCurrentContentMetadata();}
function getVideoAdId()
{if(_clipData){return _clipData.id;}
return"";}
function getSegmentNumber()
{return _segmentNumber;}
function getDayPart()
{return getContentMetadata().getDayPart();}
function getShowName()
{return getContentMetadata().getShowName();}
function getAssetStatus()
{return getContentMetadata().getAssetStatus();}
function getGuid()
{return getContentMetadata().getGuid();}
function getTitle()
{return getContentMetadata().getTitle();}
function isFullEpisode()
{return getContentMetadata().isFullEpisode();}
function isAd()
{return(_clipData&&_clipData.baseClip&&_clipData.baseClip.isAd);}
function getChapters()
{return getContentMetadata().getChapters();}
function getPlayerId()
{return(_pdk.jQuery("object").length>0)?"Flash Player":"HTML 5 Player";}
function getPlayerType()
{return _playerType;}
function isMobile()
{return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|android|webos|palm|googletv|silk|windows phone|trident.*wp[1-9]|blackberry|bb10/)?true:false;}
function getPlatform()
{return isMobile()?'Mobile':'PC';}
function getClipId()
{return getContentMetadata().getClipId();}
function getVideoScreen()
{if(typeof cnbc.vod!=='undefined'&&typeof cnbc.vod.dockable!=='undefined'&&cnbc.vod.dockable.isPlayerDocked()){return"Docked";}
return _isFullScreen?"Full":"Normal";}
function getSegmentWatchTime()
{return Math.round(_segmentWatchTime/1000);}
function getAdWatchTime()
{if(_clipData){return Math.round(_clipData.length/1000);}
return 0;}
function formatMinutes(n)
{return(n<10)?"0"+n:n;}
function getBitrate()
{if(_clipData){return _clipData.baseClip.bitrate;}
return null;}
function getDuration(){return getContentMetadata().getDuration();}
function getPlayerURL()
{var docUrl=document.location.href;var omniUrl=docUrl;var startIndex=docUrl.toLowerCase().indexOf("#playerurl=");if(startIndex>0){omniUrl=docUrl.slice(startIndex+11);}
return omniUrl;}
function getPlayerName(){return fw_config().siteSectionId;}
function formatDate(a){var b=new Date(a);return b.getMonth()+1+"/"+b.getDate()+"/"+b.getFullYear();}
function getAirDate(){if(CNBC_CurrentReleaseObj.pubDate){return formatDate(CNBC_CurrentReleaseObj.pubDate);}
else{return"";}}
function getPbInitiation(){return getContentMetadata().getPlaybackInitiation();}
function getCreator(){return getContentMetadata().getValuesFromCategorties('creator');}
function getPrimaryCategory(){return getContentMetadata().getValuesFromCategorties('franchise');}
function getSecondaryCategory(){return getContentMetadata().getSecondaryCategory();}
function getProgrammingType(){return getContentMetadata().getProgrammingType();}
function getAirOrder(){return getContentMetadata().getAirOrder();}
function getSeasonNumber(){return getContentMetadata().getSeasonNumber();}
function getConfig()
{return(isFullEpisode())?FullEpisodeConfig:ShortformConfig;}
function replaceKeys(str)
{var d=new Date();str=str.split("[VIDEO_AD_ID]").join(getVideoAdId());str=str.split("[SHOW_NAME]").join(getShowName());str=str.split("[TITLE]").join(getTitle());str=str.split("[GUID]").join(getGuid());str=str.split("[DAY_PART]").join(getDayPart());str=str.split("[DATE_GET_HOURS]").join(d.getHours());str=str.split("[FORMATTED_MINUTES]").join(formatMinutes(d.getMinutes()));str=str.split("[DAY_OF_WEEK]").join(weekdays[d.getDay()]);str=str.split("[MONTH]").join(d.getMonth()+1);str=str.split("[DATE_GET_DATE]").join(d.getDate());str=str.split("[DATE_GET_FULL_YEAR]").join(d.getFullYear());str=str.split("[PLAYER_ID]").join(getPlayerId());str=str.split("[PLAYER_TYPE]").join(getPlayerType());str=str.split("[CLIP_ID]").join(getClipId());str=str.split("[PLATFORM]").join(getPlatform());str=str.split("[VIDEO_SCREEN]").join(getVideoScreen());str=str.split("[PLAYER_URL]").join(getPlayerURL());str=str.split("[ASSET_STATUS]").join(getAssetStatus());str=str.split("[DURATION]").join(getDuration());str=str.split("[PLAYER_PID]").join(getPlayerName());str=str.split("[INITIATE]").join(getPbInitiation());str=str.split("[AIRDATE]").join(getAirDate());str=str.split("[PRIMARY_CATEGORY]").join(getPrimaryCategory());str=str.split("[CREATOR]").join(getCreator());return str;}
function populateContextDataFor(obj)
{for(var prop in obj.contextData)
{s.contextData[prop]=replaceKeys(obj.contextData[prop]);}}
function populateEventMetrics(obj)
{populateContextDataFor(obj);s.pev2=obj.pev2;}
function populateDefaultMetrics(obj)
{populateContextDataFor(obj);s.pe=obj.pe;}
function sendMetricsFor(key)
{try{s.manageVars("clearVars");s.contextData={};populateEventMetrics(getConfig()[key]);populateDefaultMetrics(getConfig().defaults);s.pe='lnk_o';s.linkTrackVars=linkTrkVars.join(',');s.tl(true,'o',s.pev2,null,'navigate');if(!s.manageVars){CNBC_Omniture.sManageVars();}
s.manageVars('clearVars');}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}}
function onShowFullScreen(e)
{_isFullScreen=e.data;}
function onAdStartEvent(e)
{_clipData=e.data;if(isAd())
{_pdk.controller.addEventListener('OnMediaEnd',onAdEndEvent);_adWatchTime=0;adStart();}}
function onAdEndEvent(e)
{_clipData=e.data;if(isAd())
{adEnd();_pdk.controller.removeEventListener('OnMediaEnd',onAdEndEvent);}}
function adStart()
{window.setTimeout(function(){sendMetricsFor("AD_START");},1000);}
function adEnd()
{sendMetricsFor("AD_COMPLETE");}
function handleClipStartEvent(e)
{_clipData=e.data;if(!isAd())
{_pdk.controller.removeEventListener('OnMediaStart',handleClipStartEvent);handleClipStart();}}
function handleClipStart()
{window.setTimeout(function(){if(isFullEpisode()&&_clipData)_segmentNumber=_clipData.chapter.index+1;sendMetricsFor("VIDEO_START");},1000);}
function onMediaSeek(e)
{_clipData=e.data.clip;sendMetricsFor("SEEK");}
function onMediaPause(e)
{if(e.data.userInitiated){_clipData=e.data.clip;if(isAd())
{sendMetricsFor("AD_PAUSE");}
else{sendMetricsFor("PAUSE");}}}
function updateSegmentWatchTime(e)
{if(!isAd())
{if(e.data.currentTime>_playheadTime&&e.data.currentTime-_playheadTime<1000)
{_segmentWatchTime+=e.data.currentTime-_playheadTime;}
_playheadTime=e.data.currentTime;}}
function updateAdWatchTime(e)
{if(isAd())
{if(e.data.currentTime>_adPlayheadTime&&e.data.currentTime-_adPlayheadTime<1000)
{_adWatchTime+=e.data.currentTime-_adPlayheadTime;}
_adPlayheadTime=e.data.currentTime;}}
function handleEpisodeCompleteEvent(e)
{if(!isAd())
{if(e.data.percentCompleteAggregate>=98)
{if(!_fullEpisodeComplete)
{_fullEpisodeComplete=true;sendMetricsFor("CLIP_COMPLETE");}}
else
{_fullEpisodeComplete=false;}}}
function isGreater(a,b){return a>=b&&b+2>=a;}
function percentComplete(a){isAd()||(isGreater(a.data.percentCompleteAggregate,25)?_is25||(_is25=!0,sendMetricsFor("MILESTONE_25_PERCENT")):_is25=!1,isGreater(a.data.percentCompleteAggregate,50)?_is50||(_is50=!0,sendMetricsFor("MILESTONE_50_PERCENT")):_is50=!1,isGreater(a.data.percentCompleteAggregate,75)?_is75||(_is75=!0,sendMetricsFor("MILESTONE_75_PERCENT")):_is75=!1)}
function onMediaComplete(e)
{if(isAd())
{_pdk.controller.removeEventListener('OnMediaEnd',onAdEndEvent);}}
function resetTrackers()
{_segmentWatchTime=0;_adWatchTime=0;_playheadTime=0;_adPlayheadTime=0;_is25=_is50=_is75=0;_segmentNumber=0;_fullEpisodeComplete=false;}
function addListeners()
{_pdk.controller.addEventListener('OnMediaStart',onAdStartEvent);_pdk.controller.addEventListener('OnMediaStart',handleClipStartEvent);_pdk.controller.addEventListener('OnMediaSeek',onMediaSeek);_pdk.controller.addEventListener('OnMediaPause',onMediaPause);_pdk.controller.addEventListener('OnMediaPlaying',handleEpisodeCompleteEvent);_pdk.controller.addEventListener('OnMediaPlaying',percentComplete);_pdk.controller.addEventListener('OnMediaComplete',onMediaComplete);}
function canAddListeners()
{return Boolean(getContentMetadata()&&!getContentMetadata().hasException());}
function onReleaseStart(e)
{resetTrackers();if(canAddListeners())
{addListeners();}}
this.init=function()
{_pdk.controller.addEventListener("OnReleaseStart",onReleaseStart);_pdk.controller.addEventListener("OnShowFullScreen",onShowFullScreen);};}
function DynamicYield(pdk,cmdLocator,playerType,stateManager)
{var _this=this;var _pdk=pdk;var _cmdLocator=cmdLocator;var _playerType=playerType;var _isFullScreen=false;var _stateManager=stateManager;var _clipData;var _is20,_is60,_is90;function getContentMetadata()
{return _cmdLocator.getCurrentContentMetadata();}
function getGuid()
{return getContentMetadata().getGuid();}
function isAd()
{return(_clipData&&_clipData.baseClip&&_clipData.baseClip.isAd);}
function isMobile()
{return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|android|webos|palm|googletv|silk|windows phone|trident.*wp[1-9]|blackberry|bb10/)?true:false;}
function getPlatform()
{return isMobile()?'Mobile':'PC';}
function getAutoPlay(){if(getContentMetadata().getPlaybackInitiation()=="Auto"){return true;}
else if(getContentMetadata().getPlaybackInitiation()=="Manual")
{return false;}
else{return null;}}
function onAdStartEvent(e)
{_clipData=e.data;if(isAd())
{_pdk.controller.addEventListener('OnMediaEnd',onAdEndEvent);adStart();}}
function onAdEndEvent(e)
{_clipData=e.data;if(isAd())
{adEnd();_pdk.controller.removeEventListener('OnMediaEnd',onAdEndEvent);}}
function getPrimeCat(){var str=getContentMetadata().getValuesFromCategorties('franchise');if(str){return str.split('|');}
return null;}
function adStart()
{if(typeof(DY)=="object"){DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'PRE_ROLL_STARTED',}});}}
function adEnd()
{if(typeof(DY)=="object"){DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'PRE_ROLL_FINISHED',}});}}
function handleClipStartEvent(e)
{if(++timetoFirstFrame==1){var _player_load_end_time=(new Date()).getTime();var timetoFirstFrameSecs=(_player_load_end_time-CNBC_Utils._player_load_start_time)/1000;console.log('Time to first frame since the player library loaded: '+timetoFirstFrameSecs+' seconds');}
_clipData=e.data;if(++timetoFirstFrame==1){var _player_load_end_time=(new Date()).getTime();var timetoFirstFrameSecs=(_player_load_end_time-CNBC_Utils._player_load_start_time)/1000;console.log('Time to first frame since the player library loaded: '+timetoFirstFrameSecs+' seconds');}
if(!isAd())
{_pdk.controller.removeEventListener('OnMediaStart',handleClipStartEvent);handleClipStart();}}
function handleClipStart()
{if(typeof(DY)=="object"){DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'VIDEO_STARTED',}});}}
function isGreater(a,b){return a>=b&&b+2>=a;}
function percentComplete(a){if(typeof(DY)=="object"){isAd()||(isGreater(a.data.percentCompleteAggregate,20)?_is20||(_is20=!0,DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'VIDEO_PROGRESS',progressPercent:20,}})):_is20=!1,isGreater(a.data.percentCompleteAggregate,60)?_is60||(_is60=!0,DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'VIDEO_PROGRESS',progressPercent:60,}})):_is60=!1,isGreater(a.data.percentCompleteAggregate,90)?_is90||(_is90=!0,DY.API('event',{name:'Video Watch',properties:{dyType:'video-watch-v1',itemId:getGuid(),categories:getPrimeCat(),autoplay:getAutoPlay(),progress:'VIDEO_PROGRESS',progressPercent:90,}})):_is90=!1);}}
function onMediaComplete(e)
{if(isAd())
{_pdk.controller.removeEventListener('OnMediaEnd',onAdEndEvent);}}
function resetTrackers()
{_is20=_is60=_is90=0;}
function addListeners()
{_pdk.controller.addEventListener('OnMediaStart',onAdStartEvent);_pdk.controller.addEventListener('OnMediaStart',handleClipStartEvent);_pdk.controller.addEventListener('OnMediaPlaying',percentComplete);_pdk.controller.addEventListener('OnMediaComplete',onMediaComplete);}
function canAddListeners()
{return Boolean(getContentMetadata()&&!getContentMetadata().hasException());}
function onReleaseStart(e)
{resetTrackers();if(canAddListeners())
{addListeners();}}
this.init=function()
{_pdk.controller.addEventListener("OnReleaseStart",onReleaseStart);};}
function Parsely(pdk,cmdLocator,playerType,stateManager)
{var _this=this;var _pdk=pdk;var _cmdLocator=cmdLocator;var _playerType=playerType;var _stateManager=stateManager;var _clipData;var nodeInfoMetadata=(function(){var metadata=null;function updateNodeMetadata(){if(CNBC_CurrentReleaseObj&&CNBC_CurrentReleaseObj.guid){if(metadata&&metadata.content_id==CNBC_CurrentReleaseObj.guid){return true;}else if(CNBC_Utils.nodeInfoMetadata&&CNBC_Utils.nodeInfoMetadata[CNBC_CurrentReleaseObj.guid]){metadata=CNBC_Utils.nodeInfoMetadata[CNBC_CurrentReleaseObj.guid];return true;}else{return false;}}}
function getProperty(name){if(updateNodeMetadata()){if(metadata[name]){return metadata[name];}}}
function isSet(property){var value=getProperty(property);if(value&&value=="1"){return true;}
return false;}
function isPremium(){return isSet('premium');}
function isNativeAd(){return isSet('native_ad');}
return{getClipId:function(){if(CNBC_CurrentReleaseObj&&CNBC_CurrentReleaseObj.guid){return CNBC_CurrentReleaseObj.guid;}},getTitle:function(){return CNBC_Utils.htmlDecode(getProperty('title'));},getSection:function(){var categories=getProperty('cat');if(categories){return categories.split('|')[0];}},getNodePubDate:function(){return 1000*parseInt(getProperty('pubdate'));},getTags:function(){var categories=getProperty('cat');if(categories){categories=categories.split('|');}
var related=getProperty('cag[related_primary]');if(related){related=related.split('|');categories=categories.concat(related);}
if(isPremium()){categories=categories.concat('Premium');}
if(isNativeAd()){categories=categories.concat('Sponsored');}
return categories;},getByline:function(){return getProperty('byline');},getDuration:function(){if(window.CNBC_CurrentReleaseObj&&CNBC_CurrentReleaseObj.content&&CNBC_CurrentReleaseObj.content[0]&&CNBC_CurrentReleaseObj.content[0].duration){return 1000*CNBC_CurrentReleaseObj.content[0].duration;}},getImageUrl:function(){var url=null;var widest=0;if(CNBC_CurrentReleaseObj&&CNBC_CurrentReleaseObj.thumbnails){var imageData=CNBC_CurrentReleaseObj.thumbnails;for(var i=0;i<imageData.length;i++){if(imageData[i].width>widest){widest=imageData[i].width;url=imageData[i].url;}}}
return url;}};}());function isAd()
{var baseClip;baseClip=(_clipData&&_clipData.baseClip)?_clipData.baseClip:(_clipData.clip&&_clipData.clip.baseClip)?_clipData.clip.baseClip:null;return(baseClip&&baseClip.isAd);}
function onAdStartEvent(e)
{_clipData=e.data;if(isAd())
{_pdk.controller.addEventListener('OnMediaEnd',onAdEndEvent);}}
function onAdEndEvent(e)
{_clipData=e.data;if(isAd())
{_pdk.controller.removeEventListener('OnMediaEnd',onAdEndEvent);}}
function handleClipStartEvent(e)
{try{if(window.PARSELY){_clipData=e.data;if(!isAd()){window.setTimeout(function(){var clipId;clipId=nodeInfoMetadata.getClipId();PARSELY.video.trackPlay(clipId,{title:nodeInfoMetadata.getTitle(),section:nodeInfoMetadata.getSection(),pub_date_tmsp:nodeInfoMetadata.getNodePubDate(),image_url:nodeInfoMetadata.getImageUrl(),duration:nodeInfoMetadata.getDuration(),tags:nodeInfoMetadata.getTags(),authors:nodeInfoMetadata.getByline()});},1000);}}}catch(error){console.log(error.name+': '+error.message);}}
function handleClipPauseEvent()
{try{if(window.PARSELY){if(!isAd()){PARSELY.video.trackPause(nodeInfoMetadata.getClipId());}}}catch(error){console.log(error.name+': '+error.message);}}
function handleReleaseEndEvent(e){try{if(window.PARSELY){if(e.data&&e.data.mediaPID){PARSELY.video.trackPause(e.data.mediaPID);}}}catch(error){console.log(error.name+': '+error.message);}}
function addListeners()
{_pdk.controller.addEventListener('OnMediaStart',onAdStartEvent);_pdk.controller.addEventListener('OnMediaStart',handleClipStartEvent);_pdk.controller.addEventListener('OnMediaStart',videoEngagementStart);_pdk.controller.addEventListener('OnMediaPause',handleClipPauseEvent);_pdk.controller.addEventListener('OnMediaPause',videoEngagementEnd);_pdk.controller.addEventListener('OnMediaUnpause',handleClipStartEvent);_pdk.controller.addEventListener('OnMediaUnpause',videoEngagementStart);_pdk.controller.addEventListener('OnReleaseEnd',handleReleaseEndEvent);_pdk.controller.addEventListener('OnReleaseEnd',videoEngagementEnd);}
function onReleaseStart(e)
{addListeners();_pdk.controller.removeEventListener('OnReleaseStart',onReleaseStart);}
function videoEngagementStart(){if(window.PARSELY){PARSELY.videoPlaying=true;}}
function videoEngagementEnd(){if(window.PARSELY){PARSELY.videoPlaying=false;}}
this.init=function()
{_pdk.controller.addEventListener('OnReleaseStart',onReleaseStart);};}
function URLTransport()
{this.send=function(message)
{var img=new Image();img.src=message;};}
function AppStateMonitor(_stateManager,_pdkEventDispatcher,_cmdEventDispatcher,_cmdLocator)
{var stateManager=_stateManager;var pdkEventDispatcher=_pdkEventDispatcher;var cmdEventDispatcher=_cmdEventDispatcher;var cmdLocator=_cmdLocator;this.start=function()
{stateManager.setAppState(getInitialAppState());pdkEventDispatcher.addEventListener("OnShowControls",onShowControls);cmdEventDispatcher.addEventListener(ContentMetadataUpdateEvent.CONTENT_METADATA_UPDATE,onContentMetadataUpdate);};function onShowControls(evt)
{pdkEventDispatcher.removeEventListener("OnShowControls",onShowControls);if(!isErroredState())
{stateManager.setAppState(AppState.READY);}}
function onContentMetadataUpdate(evt)
{if(isErroredState())
{stateManager.setAppState(getErroredState());}}
function getContentMetadata()
{return cmdLocator.getCurrentContentMetadata();}
function isFullEpisodeContent()
{return(getContentMetadata())?getContentMetadata().isFullEpisode():false;}
function isDesktopDevice()
{return(stateManager.state.getDeviceType()===DeviceType.DESKTOP);}
function isFlashFormat()
{return(stateManager.state.getFormat()===Format.FLASH);}
function contentRequiresFlashError()
{return(isDesktopDevice()&&!isFlashFormat());}
function isUnsupportedDeviceError()
{return(isFullEpisodeContent()&&!isDesktopDevice());}
function isContentExpiredError()
{return(getContentMetadata())?getContentMetadata().getAvailabilityState()===AvailabilityState.EXPIRED:false;}
function isErroredState()
{return(contentRequiresFlashError()||isUnsupportedDeviceError()||isContentExpiredError());}
function getErroredState()
{if(contentRequiresFlashError())
{return AppState.CONTENT_REQUIRES_FLASH;}
else if(isUnsupportedDeviceError())
{return AppState.UNSUPPORTED_DEVICE;}
else if(isContentExpiredError())
{return AppState.CONTENT_EXPIRED;}
else
{return null;}}
function getInitialAppState()
{return(isErroredState())?getErroredState():AppState.STARTUP;}}
var AppState={STARTUP:{id:"startup"},READY:{id:"ready"},CONTENT_EXPIRED:{id:"contentExpired"},CONTENT_NOT_YET_AVAILABLE:{id:"contentNotYetAvailable"},CONTENT_REQUIRES_FLASH:{id:"contentRequiresFlash"},UNSUPPORTED_DEVICE:{id:"unsupportedDevice"},AD:{id:"ad"},VIDEO:{id:"video"}};var DeviceType={HANDHELD:{id:"handheld"},TABLET:{id:"tablet"},DESKTOP:{id:"desktop"}};var Format={FLASH:{id:"flash"},HTML:{id:"html"}};function StateManager(_pdk)
{var pdk=_pdk;var properties={appState:null};function getAppState()
{return properties.appState;}
this.setAppState=function(value)
{updatePropertyIfChanged("appState",value);};function isMobile()
{return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|android|webos|palm|googletv|silk|windows phone|trident.*wp[1-9]|blackberry|bb10/)?true:false;}
function hasMinimumTabletDimensions()
{var mediaQ=(typeof window.matchMedia!=="undefined")?window.matchMedia("(min-device-width: 500px)"):{matches:false};return(mediaQ.matches)?true:false;}
function isTablet()
{return(isMobile()&&hasMinimumTabletDimensions());}
function isHandHeld()
{return(isMobile()&&!hasMinimumTabletDimensions());}
function isFlash()
{return(pdk.jQuery("object").length>0);}
function getFormat()
{return isFlash()?Format.FLASH:Format.HTML;}
function getDeviceType()
{return isHandHeld()?DeviceType.HANDHELD:isTablet()?DeviceType.TABLET:DeviceType.DESKTOP;}
function isiOSDevice(){if(navigator.platform&&(navigator.platform.toLowerCase()=='ipad'||navigator.platform.toLowerCase()=='ipod')||navigator.platform.toLowerCase().indexOf('arm')>=0){return!1;}
return navigator.userAgent.match(/(iPad|iPhone|iPod|android)/g)?!1:!0}
this.state={canAutoPlay:isiOSDevice,getDeviceType:getDeviceType,getFormat:getFormat,getAppState:getAppState};function updatePropertyIfChanged(readOnlyPropertyName,newValue)
{var oldValue=properties[readOnlyPropertyName];if(oldValue!==newValue)
{var eventType=readOnlyPropertyName+"Change";properties[readOnlyPropertyName]=newValue;pdk.controller.dispatchEvent(eventType,{name:readOnlyPropertyName,oldValue:oldValue,newValue:newValue});}}}
function getURLParameter(name){return decodeURIComponent((new RegExp('[?|&]'+name+'='+'([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g,'%20'))||null;}
function OnMediaStart(evt){var time=getURLParameter('sp');time=time*1000;var isAd=evt.data.baseClip.isAd;if(isAd===false&&time!==0){$pdk.controller.seekToPosition(time);$pdk.controller.removeEventListener('OnMediaStart',OnMediaStart);}}
$pdk.controller.addEventListener('OnMediaStart',OnMediaStart);function isNumber(val)
{return!isNaN(parseFloat(val)&&isFinite(val));}
function isValidCountdownSeconds(val)
{return(isNumber(val)&&val>0);}
function getEndCardCountdownSeconds()
{return isValidCountdownSeconds(getParameterByName("endCardSeconds"))?getParameterByName("endCardSeconds"):10;}
function onEndCardCountdownComplete(e)
{var evt=new NewVideoSelectedEvent(NewVideoSelectedEvent.VIDEO_SELECTED,e.data.nextItem.getGuid(),e.data.nextItem.getPermalink(),e.data.nextItem.getClipId(),false);$pdk.controller.dispatchEvent(evt.type,evt.data);}
function getParameterByName(name)
{var match=RegExp('[?&]'+name+'=([^&]*)').exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g,' '));}
function tpPdkEventDispatcher(eventObj)
{tpController.dispatchEvent(eventObj.type,{message:eventObj.content,holderId:eventObj.holderId,timestamp:(new Date().valueOf())});}
var cmdLocator=new ContentMetadataLocator($pdk,new EventTranslator());cmdLocator.init();function getParams()
{var obj={};var match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s.replace(pl," "));},query=window.location.search.substring(1);while((match=search.exec(query))!==null)
obj[decode(match[1])]=decode(match[2]);return obj;}
(function()
{var dictionary={};dictionary[ServiceKeys.ContentMetadataLocator.id]=cmdLocator;var factory=new OnsiteFactory("On-Domain");var serviceLocator=new ServiceLocator(new InitialContext(factory,dictionary));factory.initialize($pdk,serviceLocator,new StateManager($pdk),getParams());var app=new OnsiteApplication($pdk,getParams(),serviceLocator,null);app.init();})();}
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/ssid_settings.js */

var CNBC_SSID_Settings={};(function($){CNBC_SSID_Settings.isXfinityPage=false;CNBC_SSID_Settings.isXfinityPage=CNBC_Utils.isXfinityPage();CNBC_SSID_Settings.XfinitySSID='cnbc_xfinitycobrand_';CNBC_SSID_Settings.SSID=null;if(CNBC_SSID_Settings.isXfinityPage){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'xfinity_section_front_vod';}})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/PDKPreviewLoader.js */

if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){var PDKPreviewLoader=(function(pdk,doc){var _jquery,_feedUrl,_doc=doc;var _getFeedUrl=function(){if(!_feedUrl)
_feedUrl=CNBC_Platform_Video_Gallery.videoObj.feedURL;var hasFormat=new RegExp(/form=[\w]/);if(hasFormat.test(_feedUrl)){_feedUrl=_feedUrl.replace(/form=[\w]+/,"form=cjson")}else{_feedUrl+=(_feedUrl.indexOf("?")<0)?"?form=cjson":"&form=cjson";}
return _feedUrl;};var _getFeedUrlFromLink=function(){var links=_doc.getElementsByTagName('link'),url,l;for(var i=0;i<links.length;i++){l=links[i];if(l.getAttribute("type")=="application/rss+xml"){url=l.getAttribute("href");url=url.replace("form=rss","form=cjson");return url;}}};var _load=function(callback){var feed=_getFeedUrl();try{$.ajaxSetup({cache:true});_jquery.ajax({type:"GET",url:feed,dataType:"jsonp"}).done(function(data){if(data&&data.hasOwnProperty('entries')&&data.entries.length){CNBC_CurrentReleaseObj=CNBC_Utils.videoReleaseObjs[data.entries[0].guid]=data.entries[0];CNBC_Platform_Video_Gallery.videoObj.setShowName();_parse(data,callback);}
else{CNBC_Platform_Video_Gallery.videoObj.playerErrorMsg();$pdk.initialize();}}).fail(function(e){});}catch(error){CNBC_Common.ConsoleLog("error "+error.message);}};var _parse=function(data,callback){var initVars;if(data.hasOwnProperty('entries')){initVars=_parseFirstRelease(data.entries[0]);CNBCCarousel.setFeed(_parseEntries(data));}else{var firstRelease=_parseFirstRelease(data);initVars=firstRelease;CNBCCarousel.setFeed([firstRelease]);}
callback(initVars);};var _parseFirstRelease=function(firstRelease){if(!firstRelease){return;}
var initVars={guid:firstRelease.guid,title:firstRelease.title,defaultThumbnailUrl:_getOverlayImage(firstRelease.thumbnails),description:firstRelease.description,releaseURL:firstRelease.content[0].url,airDate:firstRelease.pubDate,releasePid:PDKUtils.getReleasePidFromUrl(firstRelease.content[0].url),duration:firstRelease.content[0].duration};pdk.controller.dispatchEvent("CNBCPlayerInit",initVars);return initVars;};var _parseEntries=function(data){var entry,e,feed=[];if(data.hasOwnProperty('entries')){var entries=data['entries'];for(var i=0;i<entries.length;i++){entry=entries[i];e={guid:entry.guid,title:entry.title,defaultThumbnailUrl:entry.defaultThumbnailUrl,duration:entry.content[0].duration,airDate:entry.pubDate,releaseUrl:entry.content[0].url,releasePid:PDKUtils.getReleasePidFromUrl(entry.content[0].url)};feed.push(e);}}
return feed;};var _getOverlayImage=function(thumbnails){var biggest;for(var i=0;i<thumbnails.length;i++){var t=thumbnails[i];if(!biggest){biggest=t;continue;}
if(biggest.width<t.width)
biggest=t}
return biggest.url;};return{load:function(callback){_load(callback);},setFeedUrl:function(url,byId){_feedUrl=url;},setJQuery:function(jq){_jquery=jq;}}})($pdk,document);}
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/CNBCCarouselUI.js */

CNBCCarousel=(function(pdk){var _jquery,ITEM_WIDTH,_isShowing=false,_isAnimating=false,_uiCreated=false,_playerType=null,_releaseSetByClick,_feed,_container;var _playRelease=function(url){CNBCReleaseURL.set(url);};var _playNextRelease=function(){var $nextItem=$('div.up-next a:first');CNBC_Platform_Video_Gallery.videoObj.playVideo($nextItem);};return{autoPlay:false,setReleasePlaying:function(releasePID){_setReleasePlaying(releasePID);CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick=false;},playerType:function(playerType){_playerType=playerType;},playNextRelease:function(){releaseInitiatedByClick=false;if(!CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick){_playNextRelease();CNBC_Platform_Video_Gallery.videoObj.continuousPlay=true;}else{CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick=false;}},setJQuery:function(jq,container){_jquery=jq;_container=container;},setFeed:function(feed){_feed=feed;}}})($pdk);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/samples/cnbc/CNBCCardsUI.js */

var cnbc_html=[];cnbc_html["cnbc-overlay"]="";cnbc_html["cnbc-overlay"]+="<div id=\"cnbc-overlay\" class=\"cnbc-card\">";cnbc_html["cnbc-overlay"]+="    <div class=\"content\">";cnbc_html["cnbc-overlay"]+="       <i class=\"fa fa-video1\"><\/i>";cnbc_html["cnbc-overlay"]+="        <div class=\"copy\">";cnbc_html["cnbc-overlay"]+="            <h3><div class=\"video-title\" data-text=\"${title}\">${title}<\/div><\/h3>";if(!PDKUtils.urlParam('titleOnly')=='1'){cnbc_html["cnbc-overlay"]+="            <p>${description}<\/p>";}
cnbc_html["cnbc-overlay"]+="        <\/div>";cnbc_html["cnbc-overlay"]+="        <p class=\"metadata\"><\/p>";cnbc_html["cnbc-overlay"]+="        <div style=\"clear: left\"><\/div>";cnbc_html["cnbc-overlay"]+="    <\/div>";cnbc_html["cnbc-overlay"]+="<\/div>";cnbc_html["cnbc-info"]="";cnbc_html["cnbc-info"]+="<div id=\"cnbc-info\" class=\"cnbc-card\">";cnbc_html["cnbc-info"]+="    <div class=\"content\">";cnbc_html["cnbc-info"]+="     <div class=\"card-header\">";cnbc_html["cnbc-info"]+="         <div class=\"close-button\">&times;<\/div>";cnbc_html["cnbc-info"]+="         <h3>${release.title}<\/h3>";cnbc_html["cnbc-info"]+="     <\/div>";cnbc_html["cnbc-info"]+="            <div class=\"metadata datetime\">${longdate} | ${time} | ${release.duration}<\/div>";cnbc_html["cnbc-info"]+="            <div class=\"desc\">${release.description}<\/div>";cnbc_html["cnbc-info"]+="        <\/div>";cnbc_html["cnbc-info"]+="    <\/div>";cnbc_html["cnbc-embed"]="";cnbc_html["cnbc-embed"]+="<div id=\"cnbc-embed\" class=\"cnbc-card\">";cnbc_html["cnbc-embed"]+="    <div class=\"content\">";cnbc_html["cnbc-embed"]+="     <div class=\"card-header\">";cnbc_html["cnbc-embed"]+="         <div class=\"close-button\">&times;<\/div>";cnbc_html["cnbc-embed"]+="         <h3>${release.title}<\/h3>";cnbc_html["cnbc-embed"]+="     <\/div>";cnbc_html["cnbc-embed"]+="        <img class=\"small_thumb\" src=\"${thumbnailURL}\" >";cnbc_html["cnbc-embed"]+="        <div class=\"copy\">";cnbc_html["cnbc-embed"]+="            <div class=\"cnbc-input\" id=\"cnbc-embed-text\"><\/div>";cnbc_html["cnbc-embed"]+="            <div class=\"cnbc-embed-size-options\">";cnbc_html["cnbc-embed"]+="                Video Embed Size:";cnbc_html["cnbc-embed"]+="                <label>";cnbc_html["cnbc-embed"]+="                    <input type=\"radio\" name=\"size\" id=\"cnbc-option-small-vid\" checked value=\"530_298\">";cnbc_html["cnbc-embed"]+="                    530 X 298";cnbc_html["cnbc-embed"]+="                <\/label>";cnbc_html["cnbc-embed"]+="                <label>";cnbc_html["cnbc-embed"]+="                    <input type=\"radio\" name=\"size\" id=\"cnbc-option-med-vid\" value=\"640_360\">";cnbc_html["cnbc-embed"]+="                    640 X 360";cnbc_html["cnbc-embed"]+="                <\/label>";cnbc_html["cnbc-embed"]+="            <\/div>";cnbc_html["cnbc-embed"]+="        <\/div>";cnbc_html["cnbc-embed"]+="        <div style=\"clear: both\"><\/div>";cnbc_html["cnbc-embed"]+="    <\/div>";cnbc_html["cnbc-embed"]+="<\/div>";cnbc_html["cnbc-share"]="";cnbc_html["cnbc-share"]+="<div id=\"cnbc-share\" class=\"cnbc-card\">";cnbc_html["cnbc-share"]+="    <div class=\"content\">";cnbc_html["cnbc-share"]+="     <div class=\"card-header\">";cnbc_html["cnbc-share"]+="         <div class=\"close-button\">&times;<\/div>";cnbc_html["cnbc-share"]+="         <h3>${release.title}<\/h3>";cnbc_html["cnbc-share"]+="     <\/div>";cnbc_html["cnbc-share"]+="        <div class=\"copy\" id=\"cnbc-share-contents\">";cnbc_html["cnbc-share"]+="            <h4>Share this video<\/h4>";cnbc_html["cnbc-share"]+="             <div id=\"social_tools_player\" class=\"share-icons\"><\/div>";cnbc_html["cnbc-share"]+="             <img id=\"embed-button\" src=\"//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-embed-2x.png\" />";cnbc_html["cnbc-share"]+="            <div style=\"clear: both;\"></div>";cnbc_html["cnbc-share"]+="            <div id=\"cnbc-share-url\" class=\"cnbc-input\"><\/div>";cnbc_html["cnbc-share"]+="         <div style=\"clear: both\"><\/div>";cnbc_html["cnbc-share"]+="     <\/div>";cnbc_html["cnbc-share"]+="     <div class=\"copy\" id=\"cnbc-embed-contents\">";cnbc_html["cnbc-share"]+="            <h4>Embed this video<\/h4>";cnbc_html["cnbc-share"]+="      <div class=\"cnbc-input\" id=\"cnbc-embed-text\"><\/div>";cnbc_html["cnbc-share"]+="      <div class=\"cnbc-embed-size-options\">";cnbc_html["cnbc-share"]+="      Video Embed Size:";cnbc_html["cnbc-share"]+="      <label>";cnbc_html["cnbc-share"]+="       <input type=\"radio\" name=\"size\" id=\"cnbc-option-small-vid\" checked value=\"530_298\">";cnbc_html["cnbc-share"]+="       530 X 298";cnbc_html["cnbc-share"]+="      <\/label>";cnbc_html["cnbc-share"]+="      <label>";cnbc_html["cnbc-share"]+="       <input type=\"radio\" name=\"size\" id=\"cnbc-option-med-vid\" value=\"640_360\">";cnbc_html["cnbc-share"]+="       640 X 360";cnbc_html["cnbc-share"]+="      <\/label>";cnbc_html["cnbc-share"]+="     <\/div>";cnbc_html["cnbc-share"]+="     <div id=\"share-button\"><img src=\"//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-share-2x.png\" /><\/div>";cnbc_html["cnbc-share"]+="    <\/div>";cnbc_html["cnbc-share"]+="<\/div>";cnbc_html["cnbc-share"]+="<div id=\"mailto-subject\" style=\"display:none;\">${release.title}</div>";cnbc_html["cnbc-share"]+="<div id=\"mailto-body\" style=\"display:none;\">${release.description}</div>";cnbc_html["cnbc-end"]="";cnbc_html["cnbc-end"]+="<div class=\"cnbc-end cnbc-card\">";cnbc_html["cnbc-end"]+="      <div class=\"content\">";cnbc_html["cnbc-end"]+="    <div class=\"card-header\">";cnbc_html["cnbc-end"]+="        <div class=\"toptext\">Just Watched...<\/div>";cnbc_html["cnbc-end"]+="        <div class=\"cnbc-end-replay\">${release.title}<\/div>";cnbc_html["cnbc-end"]+="    <\/div>";cnbc_html["cnbc-end"]+="                    <div class=\"partitiondivfirst\" >";cnbc_html["cnbc-end"]+="                    <div class=\"cnbc-end-share\">Share this video<\/div>";cnbc_html["cnbc-end"]+="        <div class=\"copy\" style=\"margin-top: 20px;\">";cnbc_html["cnbc-end"]+="            <div id=\"social_tools_player\" class=\"share-icons\">";cnbc_html["cnbc-end"]+="            <\/div>";cnbc_html["cnbc-end"]+="            <div style=\"clear: both\"><\/div>";cnbc_html["cnbc-end"]+="            <div class=\"cnbc-end-share-url cnbc-input cnbc-input-padding\"><\/div>";cnbc_html["cnbc-end"]+="       <\/div><\/div>";cnbc_html["cnbc-end"]+="                    <div class=\"partitiondivsecond\">";cnbc_html["cnbc-end"]+="                    <div class=\"watchnext\">Watch Next...<\/div>";cnbc_html["cnbc-end"]+=" <div class=\"overlay\"><\/div>";cnbc_html["cnbc-end"]+="       <div class=\"cnbc-end-thumb cnbc-end-carosel-img-holder\">";cnbc_html["cnbc-end"]+=" <div class=\"video-overlay\" ><\/div>";cnbc_html["cnbc-end"]+="   <div id=\"timer\" class=\"timer\">";cnbc_html["cnbc-end"]+="          <\/div>";cnbc_html["cnbc-end"]+="         <div class=\"cancel video-cancel\">Cancel<\/div>";cnbc_html["cnbc-end"]+="       <\/div> <div class=\"cnbc-end-next-video-title\"><\/div><\/div><\/div>";cnbc_html["cnbc-end"]+="               <\/div><\/div>";cnbc_html["cnbc-end-mobile"]="";cnbc_html["cnbc-end-mobile"]+="<div  class=\"cnbc-end-mobile cnbc-card\">";cnbc_html["cnbc-end-mobile"]+="      <div class=\"mobile-web-card-header\">";cnbc_html["cnbc-end-mobile"]+="        <div class=\"mobile-web-cnbc-end-replay\">Replay Video<\/div>";cnbc_html["cnbc-end-mobile"]+="    <\/div>";cnbc_html["cnbc-end-mobile"]+="<div class=\"mobile-web-wrap\">";cnbc_html["cnbc-end-mobile"]+="<div class=\"mobile-web-watchnext\">Watch Next...<\/div>";cnbc_html["cnbc-end-mobile"]+=" <div class=\"mobile-web-partleft\">  ";cnbc_html["cnbc-end-mobile"]+="    <div class=\"mobile-web-cnbc-end-carosel-img-holder\">";cnbc_html["cnbc-end-mobile"]+="    <div class=\"mobile-web-timer\"><\/div>";cnbc_html["cnbc-end-mobile"]+="           <\/div>";cnbc_html["cnbc-end-mobile"]+="       <\/div>";cnbc_html["cnbc-end-mobile"]+="   <div class=\"mobile-web-partright\">";cnbc_html["cnbc-end-mobile"]+=" <div class=\"mobile-web-cnbc-end-next-video-title\"><\/div>";cnbc_html["cnbc-end-mobile"]+=" <\/div><\/div> ";cnbc_html["cnbc-end-mobile"]+=" <div class=\"video-click-overlay\"><\/div> ";cnbc_html["cnbc-end-mobile"]+=" <\/div>";cnbc_html["cnbc-cc"]="";cnbc_html["cnbc-cc"]="<div id=\"cnbc_cc\">";cnbc_html["cnbc-cc"]+="<div class=\"wrap\">";cnbc_html["cnbc-cc"]+="      <div class=\"cross\"><span>&times;<\/span><\/div>";cnbc_html["cnbc-cc"]+="  <div class=\"captions\">Captions";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"radio1\" name=\"radios\" class=\"radio\" value=\"on\">";cnbc_html["cnbc-cc"]+="      <label for=\"radio1\" class=\"captionlabels\"><span><\/span>on<\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"radio2\" name=\"radios\" class=\"radio\" value=\"off\" checked>";cnbc_html["cnbc-cc"]+="      <label for=\"radio2\" class=\"captionlabels\">off<\/label>";cnbc_html["cnbc-cc"]+="  <\/div>";cnbc_html["cnbc-cc"]+="  <div id=\"closeCaptionContainer\">";cnbc_html["cnbc-cc"]+="   <div id=\"textcontainer\">";cnbc_html["cnbc-cc"]+="    <div class=\"ccsection\" style=\"padding-top:10px; border-top: 1px solid #808080;\">";cnbc_html["cnbc-cc"]+="      <div class=\"menulabels\">Font<\/div>";cnbc_html["cnbc-cc"]+="     <div class=\"ccsubsection\">";cnbc_html["cnbc-cc"]+="      <select name=\"fontstylespecifications\" class=\"customdropdown\">";cnbc_html["cnbc-cc"]+="         <option value=\"Monospaced Serif\" selected=\"selected\">Monospaced Serif<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Arial\">Arial<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Arial Black\">Arial Black<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Courier\">Courier<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Georgia\">Georgia<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Lucida Sans\">Lucida Sans<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Palatino\">Palatino<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Tahoma\">Tahoma<\/option>";cnbc_html["cnbc-cc"]+="         <option value=\"Times New Roman\">Times New Roman<\/option>";cnbc_html["cnbc-cc"]+="      <\/select>";cnbc_html["cnbc-cc"]+="      <\/div>";cnbc_html["cnbc-cc"]+="    <\/div>";cnbc_html["cnbc-cc"]+="     <div class=\"ccsection\">";cnbc_html["cnbc-cc"]+="      <div class=\"menulabels\" style=\"margin-right:12px;\">Color<\/div>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color1\" name=\"colors\" class=\"color1\" value=\"#000000\">";cnbc_html["cnbc-cc"]+="      <label for=\"color1\"   style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color2\" name=\"colors\" class=\"color2\" value=\"#0005FF\">";cnbc_html["cnbc-cc"]+="      <label for=\"color2\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color3\" name=\"colors\" class=\"color3\" value=\"#0CFFFF\">";cnbc_html["cnbc-cc"]+="      <label for=\"color3\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color4\" name=\"colors\" class=\"color4\" value=\"#FFFF00\">";cnbc_html["cnbc-cc"]+="      <label for=\"color4\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color5\" name=\"colors\" class=\"color5\" value=\"#11FF00\">";cnbc_html["cnbc-cc"]+="      <label for=\"color5\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color6\" name=\"colors\" class=\"color6\" value=\"#FE05FE\">";cnbc_html["cnbc-cc"]+="      <label for=\"color6\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color7\" name=\"colors\" class=\"color7\" value=\"#FE0000\">";cnbc_html["cnbc-cc"]+="      <label for=\"color7\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color8\" name=\"colors\" class=\"color8\" value=\"#FFFFFF\" checked >";cnbc_html["cnbc-cc"]+="      <label for=\"color8\" style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="     <\/div>";cnbc_html["cnbc-cc"]+="    <div class=\"ccsection\">";cnbc_html["cnbc-cc"]+="     <div class=\"menulabels\" style=\"margin-right:-3.5px;\">BgColor<\/div>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color9\" name=\"backgroundcolors\" class=\"color1\" value=\"#000000\" checked >";cnbc_html["cnbc-cc"]+="      <label for=\"color9\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color10\" name=\"backgroundcolors\" class=\"color2\" value=\"#0005FF\">";cnbc_html["cnbc-cc"]+="      <label for=\"color10\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color11\" name=\"backgroundcolors\" class=\"color3\" value=\"#0CFFFF\">";cnbc_html["cnbc-cc"]+="      <label for=\"color11\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color12\" name=\"backgroundcolors\" class=\"color4\" value=\"#FFFF00\">";cnbc_html["cnbc-cc"]+="      <label for=\"color12\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color13\" name=\"backgroundcolors\" class=\"color5\" value=\"#11FF00\">";cnbc_html["cnbc-cc"]+="      <label for=\"color13\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color14\" name=\"backgroundcolors\" class=\"color6\" value=\"#FE05FE\">";cnbc_html["cnbc-cc"]+="      <label for=\"color14\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="   <input type=\"radio\" id=\"color15\" name=\"backgroundcolors\" class=\"color7\" value=\"#FE0000\">";cnbc_html["cnbc-cc"]+="      <label for=\"color15\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="      <input type=\"radio\" id=\"color16\" name=\"backgroundcolors\" class=\"color8\" value=\"#FFFFFF\">";cnbc_html["cnbc-cc"]+="      <label for=\"color16\"  style=\"cursor: pointer;\"><\/label>";cnbc_html["cnbc-cc"]+="    <\/div>";cnbc_html["cnbc-cc"]+="     <div class=\"ccsection\">";cnbc_html["cnbc-cc"]+="      <div class=\"menulabels\" style=\"padding-right: 0px !important;margin-right: 23px;\">Edge<\/div>";cnbc_html["cnbc-cc"]+="      <div class=\"ccsubsection\" style=\"padding: 0px !important;\">";cnbc_html["cnbc-cc"]+="     <input type=\"radio\" id=\"edges1\" name=\"edges\" class=\"round-button7\" value=\"none\" checked><label for=\"edges1\" ><\/label> ";cnbc_html["cnbc-cc"]+="     <input type=\"radio\" id=\"edges2\" name=\"edges\" class=\"round-button8\" value=\"uniform\" ><label for=\"edges2\"><\/label> ";cnbc_html["cnbc-cc"]+="     <input type=\"radio\" id=\"edges3\" name=\"edges\" class=\"round-button9\" value=\"raised\" ><label for=\"edges3\"><\/label> ";cnbc_html["cnbc-cc"]+="     <input type=\"radio\" id=\"edges4\" name=\"edges\" class=\"round-button10\" value=\"depressed\" ><label for=\"edges4\"><\/label> ";cnbc_html["cnbc-cc"]+="     <input type=\"radio\" id=\"edges5\" name=\"edges\" class=\"round-button11\" value=\"dropshadow\" ><label for=\"edges5\"><\/label> ";cnbc_html["cnbc-cc"]+="      <\/div>";cnbc_html["cnbc-cc"]+="     <\/div>";cnbc_html["cnbc-cc"]+="   <\/div>";cnbc_html["cnbc-cc"]+="   <\/div>";cnbc_html["cnbc-cc"]+="  <\/div>";cnbc_html["cnbc-cc"]+="  <div class=\"tools\">";cnbc_html["cnbc-cc"]+="         <input class=\"apply\" type=\"button\" value=\"APPLY\" >";cnbc_html["cnbc-cc"]+="       <\/div>";cnbc_html["cnbc-cc"]+=" <\/div>";cnbc_html["cnbc-cc"]+=" <\/div>";
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/samples/cnbc/CNBCPresenters.js */

var ISIE9=navigator.appVersion.toLowerCase().indexOf("msie 9.")!=-1?true:false;var CNBCCardsPresenters=(function(){var _presenters={},_tempPresenter={show:function(initVars){},hide:function(){}};var _getPresenter=function(name){if(_presenters.hasOwnProperty(name))
return _presenters[name];return _tempPresenter;};return{getPresenter:function(name){return _getPresenter(name);},addPresenter:function(name,presenter){_presenters[name]=presenter;}}})();var cnbc=cnbc||{};cnbc.eventHandlers=cnbc.eventHandlers||{};CNBCCardsPresenters.addPresenter("cnbc-overlay",{show:function(initVars){$(initVars.card).css("background-image","url("+initVars.defaultThumbnailUrl+")");if(initVars.airDate&&initVars.player.cnbcplayertype=="article"){var metaData="";var airdate=new Date(parseInt(initVars.airDate));if(parseInt(initVars.duration)>0){metaData+=PDKUtils.msToTime(parseInt(initVars.duration)*1000);}
$(initVars.card).find('.metadata').html(metaData);}
else{$(initVars.card).find('.metadata').remove();}
$(initVars.card).click(function(){CNBCCards.startTime=(new Date()).getTime();releaseInitiatedByClick=true;CNBCReleaseURL.set(initVars.releaseURL);$pdk.controller.pause(false);});if($('.quote_video_overlay').length>0){setTimeout(function(){$('.quote_video_overlay').css('display','none');},500);}},hide:function(){}});CNBCCardsPresenters.addPresenter("cnbc-info",{show:function(initVars){if(initVars.clip&&initVars.player.cnbcplayertype=="article"){var metaData="";if(initVars.release&&initVars.release.airdate){var airdate=new Date(initVars.release.airdate);metaData+=PDKUtils.formatDate(airdate);metaData+=" | ";metaData+=PDKUtils.formatTime(airdate,true);metaData+=" | ";}
metaData+=PDKUtils.msToTime(initVars.clip.mediaLength);$(initVars.card).find('.metadata').html(metaData);}else{$(initVars.card).find('.metadata').remove();}
$(initVars.card).find(".close-button").click(function(){$pdk.controller.hidePlayerCard("forms","cnbc-info");});},hide:function(){}});CNBCCardsPresenters.addPresenter("cnbc-share",{show:function(initVars){var self=this;$('#cnbc-share-contents').show();$('#cnbc-embed-contents').hide();var guid=initVars.clip.baseClip.guid;var playerUrl=null;var trackingCode='?__source=cnbcembedplayer';if(CNBC_CurrentReleaseObj.cnbc$seourl!=null&&CNBC_CurrentReleaseObj.cnbc$seourl!=undefined){playerUrl=PDKUtils.prependDocumentProtocolForSeoURL(CNBC_CurrentReleaseObj.cnbc$seourl);}
else{playerUrl=playerConfig.config.playerURL.replace(/\{guid\}/gi,guid);playerUrl=PDKUtils.prependDocumentProtocol(playerUrl);}
$(initVars.card).find("#cnbc-share-url").text(playerUrl);gigyaShare('social_tools_player');var embedURL;if(typeof playerConfig.config!=='undefined'&&typeof playerConfig.config.embedURL==='string'){embedURL=playerConfig.config.embedURL;}
else{embedURL=location.origin+location.pathname;}
var embeddedplayerhtml="<iframe src=\"{playerURL}"+((embedURL.indexOf("?")<0)?"?":"&")+"byGuid={guid}&size={size}\" width=\"311\" height=\"252\" type=\"application/x-shockwave-flash\" allowFullScreen=\"true\" bgcolor=\"#131313\"></iframe>"+"<p><a href=\"{linkBackUrl}{trackingCode}\">{videoTitle}</a> from <a href=\"//www.cnbc.com/{trackingCode}\">CNBC</a>.</p>";var srcEmbedHTML=embeddedplayerhtml.replace(/\{guid\}/gi,guid);srcEmbedHTML=srcEmbedHTML.replace(/\{playerURL\}/gi,embedURL);srcEmbedHTML=srcEmbedHTML.replace(/\{linkBackUrl\}/gi,playerUrl);srcEmbedHTML=srcEmbedHTML.replace(/\{trackingCode\}/gi,trackingCode);srcEmbedHTML=srcEmbedHTML.replace(/\{videoTitle\}/gi,$('#cnbc-share .card-header h3').text());var size=$(initVars.card).find("#cnbc-option-small-vid").val();$(initVars.card).find("#cnbc-embed-text").text(this.getEmbedHTML(srcEmbedHTML,size));$(initVars.card).find("#cnbc-option-small-vid").change(function(e)
{$(initVars.card).find("#cnbc-embed-text").text(self.getEmbedHTML(srcEmbedHTML,this.value));var toCopy=$(initVars.card).find("#cnbc-embed-text")[0];selectTextToCopy(toCopy);});$(initVars.card).find("#cnbc-option-med-vid").change(function(e)
{$(initVars.card).find("#cnbc-embed-text").text(self.getEmbedHTML(srcEmbedHTML,this.value));var toCopy=$(initVars.card).find("#cnbc-embed-text")[0];selectTextToCopy(toCopy);});$(initVars.card).find("#embed-button").click(function(){$('#cnbc-share-contents').hide();$('#cnbc-embed-contents').show();});var emailLink=$(initVars.card).find(".email-link");if(typeof CNBC_Platform_Video_Gallery!=='function'){emailLink.prop("href","mailto:?subject="+encodeURIComponent($('#mailto-subject').text())+"&body="+encodeURIComponent($('#mailto-body').text()+"\n"+$('#cnbc-share-url').text()));}
else{emailLink.hide();}
emailLink.click(function(){try{s.manageVars("clearVars");s.linkTrackVars="eVar14,eVar15,prop57,prop55,events";s.linkTrackEvents="event52";s.events="event52";s.eVar14="email: Share Published";s.eVar15="Video:Share Card";if(typeof OmnitureSPageName==='undefined'){OmnitureSPageName="cnbcvideo|section|Video Gallery Page"+"|"+CNBC_CurrentReleaseObj.guid.toString()+"|"+CNBC_CurrentReleaseObj.title.substr(0,50);}
s.prop57=OmnitureSPageName;s.prop55=CNBC_CurrentReleaseObj.guid;s.tl(this,'o','Gigya Share');s.manageVars("clearVars");}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}});$(initVars.card).find("#share-button").click(function(){$('#cnbc-share-contents').show();$('#cnbc-embed-contents').hide();});$(initVars.card).find(".close-button").click(function(){$pdk.controller.hidePlayerCard("forms","cnbc-share");});$(initVars.card).find(".cnbc-input").click(function(){var toCopy=$(this)[0];selectTextToCopy(toCopy);});},getEmbedHTML:function(src,size){var sizes=size.split("_");src=src.replace(/width=\"[0-9]+\"/gi,"width=\""+sizes[0]+"\"");src=src.replace(/height=\"[0-9]+\"/gi,"height=\""+sizes[1]+"\"");src=src.replace(/\{size\}/gi,size);return src;},hide:function(){}});CNBCCardsPresenters.addPresenter("cnbc-embed",{show:function(initVars){var self=this;self.initVars=initVars;var releasePid=initVars.release.pid;if(!releasePid){releasePid=PDKUtils.getReleasePidFromUrl(initVars.release.url);}
var guid=initVars.clip.baseClip.guid;var embedURL;if(typeof playerConfig.config!=='undefined'&&typeof playerConfig.config.embedURL==='string'){embedURL=playerConfig.config.embedURL;}
else{embedURL=location.origin+location.pathname;}
var embeddedplayerhtml="<iframe src=\"{playerURL}"+((embedURL.indexOf("?")<0)?"?":"&")+"byGuid={guid}&size={size}\" width=\"311\" height=\"252\" type=\"application/x-shockwave-flash\" allowFullScreen=\"true\" bgcolor=\"#131313\"></iframe>";var srcEmbedHTML=embeddedplayerhtml.replace(/\{guid\}/gi,guid);srcEmbedHTML=srcEmbedHTML.replace(/\{playerURL\}/gi,embedURL);srcEmbedHTML=srcEmbedHTML.replace(/\{releasePid\}/gi,releasePid);var size=$(initVars.card).find("#cnbc-option-small-vid").val();$(initVars.card).find("#cnbc-embed-text").text(this.getEmbedHTML(srcEmbedHTML,size));$(initVars.card).find("#cnbc-option-small-vid").change(function(e)
{$(initVars.card).find("#cnbc-embed-text").text(self.getEmbedHTML(srcEmbedHTML,this.value));var toCopy=$(self.initVars.card).find(".cnbc-input")[0];selectTextToCopy(toCopy);});$(initVars.card).find("#cnbc-option-med-vid").change(function(e)
{$(initVars.card).find("#cnbc-embed-text").text(self.getEmbedHTML(srcEmbedHTML,this.value));var toCopy=$(self.initVars.card).find(".cnbc-input")[0];selectTextToCopy(toCopy);});$(initVars.card).find(".cnbc-input").click(function(){var toCopy=$(self.initVars.card).find(".cnbc-input")[0];selectTextToCopy(toCopy);});var toCopy=$(self.initVars.card).find(".cnbc-input")[0];selectTextToCopy(toCopy);$(initVars.card).find(".close-button").click(function(){$pdk.controller.hidePlayerCard("forms","cnbc-embed");});},getEmbedHTML:function(src,size){var sizes=size.split("_");src=src.replace(/width=\"[0-9]+\"/gi,"width=\""+sizes[0]+"\"");src=src.replace(/height=\"[0-9]+\"/gi,"height=\""+sizes[1]+"\"");src=src.replace(/\{size\}/gi,size);return src;},hide:function(){}});function htmlDecode(input){var e=document.createElement('div');e.innerHTML=input;return e.childNodes.length===0?"":e.childNodes[0].nodeValue;}
function gigyaShare(containerID){try{if(typeof gigya!=='undefined'){var currentObj=CNBC_CurrentReleaseObj;if($('#cnbc-end').length&&typeof CNBC_RelatedVideoReleaseObj!=='undefined'&&containerID=='dockable-social-tools'){currentObj=CNBC_RelatedVideoReleaseObj;}
var videoTitle=currentObj.title||null;var videoDesc=currentObj.description||null;var guid=currentObj.guid;var link=playerConfig.config.playerURL.replace(/\{guid\}/gi,guid);if(CNBC_CurrentReleaseObj.cnbc$seourl!=null&&CNBC_CurrentReleaseObj.cnbc$seourl!=undefined){link=PDKUtils.prependDocumentProtocolForSeoURL(CNBC_CurrentReleaseObj.cnbc$seourl);}
var imgSrc=currentObj.defaultThumbnailUrl;var bigImgSrc=null;for(i=0;i<currentObj.thumbnails.length;i++){if(currentObj.thumbnails[i].url.search("_mezz")>0){bigImgSrc=currentObj.thumbnails[i].url;}}
window.ua=new gigya.services.socialize.UserAction();if(typeof(window.ua)=='object'){if(typeof(window.ua.setTitle)=='function'&&videoTitle){window.ua.setTitle(videoTitle);}
if(typeof(window.ua.setDescription)=='function'&&videoDesc){window.ua.setDescription(videoDesc);}
if(typeof(window.ua.setLinkBack)=='function'&&link){window.ua.setLinkBack(link);}
if(typeof(window.ua.addMediaItem)=='function'&&link&&bigImgSrc){window.ua.addMediaItem({type:'image',src:bigImgSrc,href:link});}}
var moreEnabledProviders='tumblr, googleplus, pinterest, digg, stumbleupon, hyves, baidu';if($('#cnbc-end').length){moreEnabledProviders='tumblr, googleplus, pinterest, digg, stumbleupon';}
var shareButtons=[{provider:'twitter',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-twtr-2x.png'},{provider:'facebook',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-fb-2x.png'},{provider:'linkedin',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-linkedin-2x.png'},{provider:'reddit',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-reddit-2x.png'},{provider:'share',enableCount:false,iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-share-2x.png'}];if(containerID=='dockable-social-tools'){shareButtons=[{provider:'twitter',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-twtr-2x.png'},{provider:'facebook',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-fb-2x.png'},{provider:'linkedin',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-linkedin-2x.png'},{provider:'reddit',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-reddit-2x.png'},{provider:'email',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-mail-2x.png'}];}
else if(typeof CNBC_Platform_Video_Gallery==='function'){shareButtons=[{provider:'twitter',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-twtr-2x.png'},{provider:'facebook',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-fb-2x.png'},{provider:'linkedin',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-linkedin-2x.png'},{provider:'reddit',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-reddit-2x.png'},{provider:'email',iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-mail-2x.png'},{provider:'share',enableCount:false,iconImgUp:'//sc.cnbcfm.com/applications/cnbc.com/staticcontent/img/playerAssets/social-icon-share-2x.png'}];}
var params={userAction:window.ua,socialBarTitle:(videoTitle)?htmlDecode(videoTitle):"",shareButtons:shareButtons,containerID:containerID,showCounts:'none',iconsOnly:'true',deviceType:'auto',moreEnabledProviders:moreEnabledProviders,onSendDone:onSendDonePlayer,showEmailButton:false};gigya.services.socialize.showShareBarUI(params);}
else{}}
catch(e){}};var tbSession;var maxRecCount=1;var tbUserSession="init";var tbNotifyURL="";var appType='web';var getRelativeVideos=function(vid,callback){var tbFeed=null;var encodedURL=encodeURIComponent(playerConfig.config.playerURL.replace(/\{guid\}/gi,vid));for(var property in playerConfig.config.getFeed){if(property.match("taboola")){tbFeed=playerConfig.config.getFeed[property].replace('{vid}',vid);}}
tbFeed=tbFeed.replace('{maxRecCount}',maxRecCount);tbFeed=tbFeed.replace('{appType}',appType);if(tbSession){tbUserSession=tbSession;}
tbFeed=tbFeed.replace('{tbUserSession}',tbUserSession);tbFeed=tbFeed.replace('{encodedURL}',encodedURL);$.ajaxSetup({cache:false});try{if(!ISIE9){tbFeed=PDKUtils.removeUrlParam(tbFeed,'rec.callback');tbFeed=PDKUtils.removeUrlParam(tbFeed,'callback');$.getJSON(tbFeed).done(function(data){if(data&&data.list.length>0){tbSession=data.session;tbNotifyURL=data.list[0].url;var relVid=data.list[0].id;callback(relVid);}}).fail(function(){callback();}).error(function(){callback();});}
else{var jsonpCallback=PDKUtils.urlParam('rec.callback',tbFeed);$.ajax({type:"GET",url:tbFeed,jsonpCallback:jsonpCallback,dataType:"jsonp",success:function(data){if(data&&data.list.length>0){tbSession=data.session;tbNotifyURL=data.list[0].url;var videoURL=decodeURIComponent(PDKUtils.urlParam('redir',tbNotifyURL));var relVid=PDKUtils.urlParam('video',videoURL);callback(relVid);}}});}}catch(e){callback();}};CNBCCardsPresenters.addPresenter("cnbc-end",{show:function(initVars){var guid=initVars.clip.baseClip.guid;$("#cnbc-end-replay").click(function(){releaseInitiatedByClick=true;fireOmnitureCall('video end card','video:endcard:replay:'+guid);CNBCReleaseURL.set(CNBC_CurrentReleaseObj.content[0].url);});$(initVars.card).find(".cnbc-input").click(function(){var toCopy=$(this)[0];selectTextToCopy(toCopy);});var playerUrl=null;if(CNBC_CurrentReleaseObj.cnbc$seourl!=null&&CNBC_CurrentReleaseObj.cnbc$seourl!=undefined){playerUrl=PDKUtils.prependDocumentProtocolForSeoURL(CNBC_CurrentReleaseObj.cnbc$seourl);}
else{playerUrl=playerConfig.config.playerURL.replace(/\{guid\}/gi,guid);}
$(initVars.card).find(".cnbc-end-share-url").text(playerUrl);gigyaShare('social_tools_player');var _guids=decodeURIComponent(PDKUtils.urlParam('byGuid'));var _a=_guids.split("|");var _currGuidIndex=_a.indexOf(CNBC_CurrentReleaseObj.guid);var _nextGuid=_a[_currGuidIndex+1];if(CNBC_CarouselPlayer&&playerConfig.config.carousel&&playerConfig.config.carousel.endCardNextVideo&&_nextGuid){PDKRelatedItemsData.load(playerConfig.config.feedServiceURL,_nextGuid);}
else{getRelativeVideos(guid,function(relVideo){if(relVideo){PDKRelatedItemsData.load(playerConfig.config.feedServiceURL,relVideo);}
else{$('div.partitiondivsecond').remove();$('div.partitiondivfirst').width('99%').css({'border-right':0});}});}
PDKRelatedItemsData.setEntriesCallback(function(entries){var entry=entries[0];CNBC_RelatedVideoReleaseObj=entry;var $cnbc_end_thumb=$(".cnbc-end-thumb");var $timer=$("#timer");var $video_overlay=$("div.video-overlay");var $cancel=$(".cancel");var $overlay=$("div.overlay");$cnbc_end_thumb.addClass("cnbc-end-carosel-img-holder");var imgThumbnail=entry.defaultThumbnailUrl;if(!imgThumbnail&&entry.thumbnails.length){for(i=0;i<entry.thumbnails.length;i++){if(entry.thumbnails[i].url){imgThumbnail=entry.thumbnails[i].url;break;}}}
$cnbc_end_thumb.css("backgroundImage","url("+imgThumbnail+")");if(ISIE9){$("div.video-overlay").remove();$(".cancel").remove();$("#timer").css("border","none");$("#timer").html("<div class='playbutton'></div>");}
else{$overlay.css("opacity","0");$timer.pietimer({timerSeconds:playerConfig.config.timer,width:28,color:'#ccc',fill:'#ccc',showPercentage:false,callback:function(){if(!$cancel.data("clicked")&&$('#cnbc-end').length){fireNetworkCall(tbNotifyURL);$timer.pietimer('reset');$timer.hide();$timer.css("border","0px");releaseInitiatedByClick=false;CNBC_CurrentReleaseObj=entry;CNBCReleaseURL.set(CNBC_CurrentReleaseObj.content[0].url);}}});$cancel.click(function(event){var OmniProp48='video:endcard:cancel:'+guid;var OmniPev2='video end card';event.preventDefault();releaseInitiatedByClick=true;$timer.pietimer('reset');$cancel.data("clicked",true);$cancel.hide();fireOmnitureCall(OmniPev2,OmniProp48);event.stopPropagation();});}
$overlay.click(function(event){CNBC_CurrentReleaseObj=entry;event.preventDefault();$timer.pietimer('reset');releaseInitiatedByClick=true;fireNetworkCall(tbNotifyURL);releaseInitiatedByClick=true;CNBCReleaseURL.set(CNBC_CurrentReleaseObj.content[0].url);});$(initVars.card).find(".cnbc-end-next-video-title").text(entry.title);});var emailLink=$(initVars.card).find(".email-link");if(typeof CNBC_Platform_Video_Gallery!=='function'){emailLink.prop("href","mailto:?subject="+encodeURIComponent($('.mailto-subject').text())+"&body="+encodeURIComponent($('.mailto-body').text()+"\n"+$('.cnbc-end-share-url').text()));}
else{emailLink.hide();}
emailLink.click(function(){s.linkTrackVars="eVar14,eVar15,prop57,prop55,events";s.linkTrackEvents="event52";s.events="event52";s.eVar14="email: Share Published";s.eVar15="Video:End Card";OmnitureSPageName="cnbcvideo|section|Video Gallery Page"+"|"+CNBC_CurrentReleaseObj.guid.toString()+"|"+CNBC_CurrentReleaseObj.title.substr(0,50);s.prop57=OmnitureSPageName;s.prop55=CNBC_CurrentReleaseObj.guid;s.tl(this,'o','Gigya Share');});},hide:function(){}});CNBCCardsPresenters.addPresenter("cnbc-end-mobile",{show:function(initVars){var guid=initVars.clip.baseClip.guid;$(".mobile-web-cnbc-end-replay").click(function(){releaseInitiatedByClick=true;fireOmnitureCall('video end card','video:endcard:replay:'+guid);CNBCReleaseURL.set(CNBC_CurrentReleaseObj.content[0].url);});getRelativeVideos(guid,function(relVideo){if(relVideo){PDKRelatedItemsData.load(playerConfig.config.feedServiceURL,relVideo);}
else{$('div.mobile-web-watchnext').remove();$('div.mobile-web-wrap').remove();}});PDKRelatedItemsData.setEntriesCallback(function(entries){var entry=entries[0];var $cnbc_end_mob_thumb=$("div.mobile-web-cnbc-end-carosel-img-holder");var $timer=$("div.mobile-web-timer");var imgThumbnail=entry.defaultThumbnailUrl;if(!imgThumbnail&&entry.thumbnails.length){for(i=0;i<entry.thumbnails.length;i++){if(entry.thumbnails[i].url){imgThumbnail=entry.thumbnails[i].url;break;}}}
$cnbc_end_mob_thumb.css("backgroundImage","url("+imgThumbnail+")");$timer.css("left","60px");$timer.css("top","35px");$timer.css("border","none");$timer.html("<div class='mobile-web-playbutton'></div>");$('div.video-click-overlay').click(function(event){event.preventDefault();fireNetworkCall(tbNotifyURL);CNBCReleaseURL.set(entry.content[0].url);});$(initVars.card).find("div.mobile-web-cnbc-end-next-video-title").text(entry.title);});}});var fireNetworkCall=function(url){var img=new Image();img.src=url;};var selectTextToCopy=function(toCopy){if(typeof window.getSelection!=='undefined'){var sel=window.getSelection();var r=document.createRange();r.setStart(toCopy.firstChild,0);r.setEnd(toCopy.firstChild,$(toCopy).text().length);if(!$pdk.isIE)
sel.removeAllRanges();sel.addRange(r);setTimeout(function(){if(window.getSelection().focusOffset==0){$(toCopy).removeClass('highlightWhite');}
else{$(toCopy).addClass('highlightWhite');}},100);}};var fireOmnitureCall=function(pev2,trkVal){try{s.manageVars("clearVars");s.linkTrackVars='eVar48,prop48';s.eVar48=trkVal;s.prop48=trkVal;s.tl(true,'o',pev2,null,'navigate');s.manageVars("clearVars");}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}};var onSendDonePlayer=function(event){setTimeout(function(){var currentObj=CNBC_CurrentReleaseObj;if(event.providers){var providers=event.providers.split(",");for(i=0;i<providers.length;i++){var provider=providers[i];s.linkTrackVars="eVar14,eVar15,prop57,prop55,events";s.linkTrackEvents="event52";s.events="event52";s.eVar14=provider+": Share Published";if(typeof CNBC_Platform_Video_Gallery=='function'&&typeof CNBC_Platform_Video_Gallery.videoObj=='object'){if(cnbc.vod.dockable.isPlayerDocked()){s.eVar15="Video:docked";}
else if($(CNBC_Platform_Video_Gallery.videoObj.gigyaContainer).parents('.cnbc-end').length){s.eVar15="Video:End Card";currentObj=CNBC_Utils.videoReleaseObjs[$(CNBC_Platform_Video_Gallery.videoObj.gigyaContainer).parents('.cnbc-end').find('.cnbc-end-replay').attr('vid')];}
else if($(CNBC_Platform_Video_Gallery.videoObj.gigyaContainer).parents('#cnbc-share-contents').length){s.eVar15="Video:Share Card";currentObj=CNBC_CurrentReleaseObj;}
else if(typeof CNBC_Utils==='object'&&(CNBC_Utils.isVideoGallery()||CNBC_Utils.isVideoGalleryNg())&&$('#cnbc-share-contents').length){s.eVar15="Video:Share Card";currentObj=CNBC_CurrentReleaseObj;}
OmnitureSPageName=CNBC_Platform_Video_Gallery.videoObj.sPageName;}
else{if($('div.cnbc-end').length){s.eVar15="Video:End Card";}
else if($('#cnbc-share-contents').length){s.eVar15="Video:Share Card";}
OmnitureSPageName="cnbcvideo|section|Video Gallery Page"+"|"+currentObj.guid.toString()+"|"+currentObj.title.substr(0,50);}
s.prop57=OmnitureSPageName;s.prop55=currentObj.guid;s.tl(this,'o','Gigya Share');}}},500);};var PDKRelatedItemsData=(function(){var _entries=[],_callback;var _load=function(url,guids){if(!CNBC_ReleaseObj[guids]){if(url&&guids){try{$.ajaxSetup({cache:true});$.ajax({type:"GET",url:url+'?form=cjson&sort=added&byGuid='+guids,dataType:"jsonp"}).done(function(json){_entries=json.entries;if(_callback){_callback(_entries.slice(0,1));}}).fail(function(){});}
catch(error)
{}}else{}}
else{var _a=[];_a.push(CNBC_ReleaseObj[guids]);_callback(_a);}};var _getNextEntries=function(releasePID,count){var entryIndex=_getEntryIndex(releasePID),getNext=_getNextInLoop(count);if(_entries.length>0){return getNext(_entries,entryIndex);}
return null;};var _getNextInLoop=function(count){return function(ary,index){index++;var next=ary.slice(index,index+count);if(next.length<count){var more=ary.slice(0,(count-next.length));next=next.concat(more);}
return next;}};var _getEntryIndex=function(releasePID){for(var i=0;i<_entries.length;i++)
{var e=_entries[i];if(e.releasePid==releasePID)
return i;}
return 0;}
return{load:function(url,guids){_load(url,guids);},hasEntries:function(){return _entries.length>0;},setEntriesCallback:function(callback){_callback=callback;},getNext:function(releasePID,count){var c=count||1;_callback(_getNextEntries(releasePID,c));},showEntries:function(){if(_callback&&_entries){_callback(_entries.slice(0,1));}}}})();
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/CNBCCards.js */

var IS_IPHONE=(navigator.userAgent.match(/iPhone/i)!=null)||(navigator.userAgent.match(/iPod/i)!=null)||(navigator.platform&&navigator.platform.toLowerCase()=='iphone')||(navigator.platform&&navigator.platform.toLowerCase()=='ipod touch');var IS_IOS8=navigator.userAgent.match(/iPhone OS 8/);var hasCCFlag=null;var RadioButtonSelectedValueSet=function(name,SelectdValue){$('input[name="'+name+'"][value="'+SelectdValue+'"]').prop('checked',true);}
var isSafari=/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent);var ccobj={};var trknav=null;var pev2=null;var _isMuted=false;if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){var CNBCCards=(function(pdk,presenters,html){var updateCcButton=function(){var $ccButton=$('.cnbcCCskin').parents('.tpButton');if(CNBC_Platform_Video_Common.subtitlesAvailable){$ccButton.removeClass('cnbc_disabled');}else{$ccButton.addClass('cnbc_disabled');}};var _controller,_template_html=html,DISPLAY_AREA="urn:theplatform:pdk:area:player",_releaseURL,_onReleaseEndCalled=false,_previewData=null,_playerLoaded=false,cookieName='playerStatus',setCookieVal={};if(pdk){_controller=pdk.controller;_controller.addEventListener("OnPlayerLoaded",function(e){var _player_load_end_time=(new Date()).getTime();var timetoLoadPlayer=(_player_load_end_time-CNBC_Utils._player_load_start_time)/1000;console.log('Time to load the player: '+timetoLoadPlayer+' seconds');var playerCookieData=CNBC_Utils.readCookie(cookieName,1);var playerStatus=JSON.parse(playerCookieData);if($('.loaderOverlayHP').length){$('.loaderOverlayHP').remove();}
_addCards();if(_previewData){_addCard('cnbc-overlay',_previewData);_showCard('cnbc-overlay');}else{_playerLoaded=true;}});if(CNBC_Utils.isSafari11()){_controller.addEventListener('OnMute',function(e){console.log("*****onMute****",e.data);_isMuted=e.data;});}
_controller.addEventListener("OnMediaStart",function(e){var Ad=e.data.baseClip.isAd;if(Ad){isAd=true;}
else{isAd=false;if(PDKUtils.isTablet()||PDKUtils.isMobile()||isSafari){$("#closeCaptionContainer").remove();$(".captions").next(".menu").remove();$(".wrap").css({"height":"80px","opacity":"1"});}
if(!PDKUtils.isMobile()){hasCCFlag=$('input[name="radios"]:checked').val();}
CNBC_Platform_Video_Common.subtitlesAvailable=(e.data.baseClip.availableSubtitles&&e.data.baseClip.availableSubtitles.length>0)?true:false;updateCcButton();}});_controller.addEventListener("OnReleaseStart",function(e){if(CNBC_Utils.isSafari11()){if(_isMuted==true){_controller.mute(false);console.log("**********Safari 11 Detected***** Force unmute");}}
CNBC_Platform_Video_Gallery.videoObj.playerStatus='playing';$('#playerErrorMsg').remove();_onReleaseEndCalled=false;var firstContentClip,Ad=false;try{if(!s.manageVars){CNBC_Omniture.sManageVars();}}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}
if(e.data){if(e.data.releaseURL){_setReleaseURL(e.data.releaseURL);}
CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick=false;if(e.data.baseClips){for(var i=0;i<e.data.baseClips.length;i++){var bc=e.data.baseClips[i];if(bc.isAd){Ad=true;}
if(!bc.isAd){firstContentClip=bc;break;}}}}});_controller.addEventListener("OnMediaPause",function(e){CNBC_Platform_Video_Gallery.videoObj.playerStatus='paused';});_controller.addEventListener("OnMediaUnpause",function(e){CNBC_Platform_Video_Gallery.videoObj.playerStatus='playing';});_controller.addEventListener("OnMediaComplete",function(e){var _clipData=e.data;if(!_clipData.baseClip.isAd){releaseInitiatedByClick=false;}});_controller.addEventListener("OnReleaseEnd",function(e){CNBC_Platform_Video_Gallery.videoObj.playerStatus='end';if(IS_IPHONE&&$("video").length){$("video")[0].webkitExitFullScreen();}
if(CNBC_Platform_Video_Gallery.videoObj.carouselAutoPlay&&!CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick&&e.data&&!_onReleaseEndCalled){if(typeof CNBC_Utils==='object'&&(CNBC_Utils.isMobile()||CNBC_Utils.isVideoGallery()||CNBC_Utils.isVideoSectionFront()||$('body').attr('id')=='page_ng-video-gallery')){_onReleaseEndCalled=true;CNBC_Platform_Video_Common.pageLoad=false;CNBCCarousel.playNextRelease();}}
if(!CNBC_Platform_Video_Gallery.videoObj.carouselAutoPlay){_showCard("cnbc-overlay");}});_controller.addEventListener("OnGetSubtitleLanguage",function(e){CNBC_Platform_Video_Common.subtitleLanguage=(e.data.langCode=="none")?null:e.data.langCode;});_controller.addEventListener("OnGetSubtitleStyle",function(e){if(typeof(e.data)=="object"&&e.data&&$('#cnbc_cc').length){if(typeof CNBC_Platform_Video_Gallery.videoObj.$ccDefaults!=='undefined'){for(var prop in CNBC_Platform_Video_Gallery.videoObj.$ccDefaults){ccobj[prop]=CNBC_Platform_Video_Gallery.videoObj.$ccDefaults[prop];}}
for(var prop in e.data){if(e.data[prop]){ccobj[prop]=e.data[prop];}}}});_controller.addEventListener("OnShowControls",function(e){updateCcButton();});var counter=0;_controller.addEventListener("OnShowFullScreen",function(e){updateCcButton();if(typeof e.data!=='undefined'){if(e.data){setTimeout(function(){counter=counter+1;if(counter==1){pev2='Video Control Rack';trknav='video:fullscreen:'+CNBC_CurrentReleaseObj.guid;CNBCCards.CNBC_OmnitureForIcons(trknav,pev2);}},1000);}
else{counter=0;}}});};var _setReleaseURL=function(value){_releaseURL=value;}
var _addCards=function(){_addCard("cnbc-info");_addCard("cnbc-share");_addCard("cnbc-embed");};var _addCard=function(name,initVars){var presenter=presenters.getPresenter(name);initVars=initVars||null;if(presenter&&_template_html.hasOwnProperty(name))
_controller.addPlayerCard("forms",name,_template_html[name],DISPLAY_AREA,initVars,presenter,1);};var _showCard=function(name){var initVars;if(_releaseURL){initVars={thumbnailURL:_releaseURL.replace("format=SMIL","format=poster")}}
_controller.showPlayerCard("forms",name,DISPLAY_AREA,initVars);};var _isCcToggle=function(){var ccDialog=$('#closecaption');var fullScreenButton=$(".tpFullScreen");var player=$('#player');return(ccDialog.outerHeight()+fullScreenButton.outerHeight()>player.outerHeight());};var _toggleCc=function(){$pdk.controller.setSubtitleLanguage((CNBC_Platform_Video_Common.subtitleLanguage==null)?"en":null);};return{autoPlay:false,size:null,playerLoaded:function(){return _playerLoaded;},preview:function(previewData){if(previewData&&previewData.title){CNBC_Platform_Video_Gallery.videoObj.setVideoMetaData();if(CNBC_Utils.isMobile()||CNBC_Utils.isTablet()||CNBC_Utils.isSafari11()||CNBC_Utils.isCNBCReferrerWithChrome64()){CNBC_Platform_Video_Gallery.videoObj.autoPlay=false;_previewData=previewData;if(_playerLoaded){_addCard('cnbc-overlay',_previewData);_showCard('cnbc-overlay');}
return;}}
if(previewData&&previewData.releaseURL){if(CNBCCards.autoPlay){CNBCReleaseURL.set(previewData.releaseURL);$pdk.controller.pause(false);}else{_previewData=previewData;if(_playerLoaded){_addCard('cnbc-overlay',_previewData);_showCard('cnbc-overlay');}}}
else{CNBC_Platform_Video_Gallery.videoObj.playerErrorMsg();}},CNBC_OmnitureForIcons:function(trkNav,Pev2){s.manageVars("clearVars");s.linkTrackVars='contextData.cnbc.trknav';s.contextData['cnbc.trknav']=trkNav;s.tl(true,'o',Pev2,null,'navigate');s.manageVars("clearVars");},info:function(){_showCard("cnbc-info");pev2='Video Control Rack';trknav='video:info:'+CNBC_CurrentReleaseObj.guid;CNBCCards.CNBC_OmnitureForIcons(trknav,pev2);},share:function(){_showCard("cnbc-share");pev2='Video Control Rack';trknav='video:share:'+CNBC_CurrentReleaseObj.guid;CNBCCards.CNBC_OmnitureForIcons(trknav,pev2);},subtitles:function(){},goToNBC:function(){window.open("//www.cnbc.com","Post","width=1024,height=768,location=yes,status=yes,toolbar=no");},CC:function(){var self=this;pev2='Video Control Rack';trknav='video:cc:'+CNBC_CurrentReleaseObj.guid;CNBCCards.CNBC_OmnitureForIcons(trknav,pev2);if(_isCcToggle()){_toggleCc();}
else{if(CNBC_Platform_Video_Common.subtitleLanguage==null){$('input[name="radios"]')[1].checked=true;}else{$('input[name="radios"]')[0].checked=true;}
$('.customdropdown','#cnbc_cc').val(ccobj.fontFamily).attr("selected","selected");RadioButtonSelectedValueSet("colors",ccobj.fontColor);RadioButtonSelectedValueSet("backgroundcolors",ccobj.backgroundColor);RadioButtonSelectedValueSet("edges",ccobj.fontEdge);$("#closecaption").css('bottom',$(".tpFullScreen").height());$("#closecaption").css('right','0px');$("#closecaption").toggle();$("#textcontainer").show();$("#text .linkclass").addClass('addcolor');$("#background .linkclass").removeClass('addcolor');$("#advanced .linkclass").removeClass('addcolor');$("#backgroundcontainer").hide();$("#advancedcontainer").hide();$("div.cross").click(function(){$("#closecaption").css('display','none');});}}};})($pdk,CNBCCardsPresenters,cnbc_html);$pdk.controller.addEventListener("CNBCPreInitialize",function(e){CNBCCards.autoPlay=e.data.autoPlay;PDKPreviewLoader.setJQuery($);PDKPreviewLoader.setFeedUrl(e.data.feedUrl,e.data.byId);CNBC_Utils.getNodeInfo(urlParam('byGuid',e.data.feedUrl));PDKPreviewLoader.load(CNBCCards.preview);CNBCCarousel.setJQuery($,e.data.container);$pdk.controller.getSubtitleStyle();});}
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/samples/cnbc/CNBCReleaseURL.js */

var CNBCReleaseURL=(function(pdk){var urlParams={progressiveDownload:"&switch=download",hlsPlayback:"&auto=true",mbr:"&manifest=m3u",adobeHttpStreaming:"&manifest=f4m",passthrough:"&switch=passthrough"};var _setReleaseURL=function(url,param){var params={};var newUrl;var p=param||false;var formats=pdk.getConfiguration("player").formats;params.url=url;params.supportsHLS=(formats&&formats.indexOf("m3u")==-1)?false:true;params.haveMBR=(url.indexOf("mbr=true")==-1)?false:true;params.haveFlash=pdk.env.Detect.getInstance().hasFlash();params.isUniversalPlayer=(typeof isUniversalPlayer!=='undefined'&&isUniversalPlayer==true);params.isVideoGalleryDefined=(typeof CNBC_Platform_Video_Gallery!=='undefined');params.isUniversalVODPlayer=(typeof CNBC_Utils!=='undefined'&&CNBC_Utils.isUniversalVODPlayer());newUrl=getReleaseUrl(params);pdk.controller.setReleaseURL(newUrl,p);setTimeout(function(){pdk.controller.pause(false);},200);};var getReleaseUrl=function(args){var urlParameter=getUrlParameter(args);var releaseUrl=args.url+urlParameter;return releaseUrl;};var getUrlParameter=function(args){if(args.isUniversalPlayer||(args.isVideoGalleryDefined&&args.isUniversalVODPlayer)){if(args.haveMBR){return urlParams.hlsPlayback;}
return urlParams.progressiveDownload+urlParams.hlsPlayback;}
if(args.supportsHLS&&!args.haveFlash){if(args.haveMBR){return urlParams.mbr;}else{return urlParams.progressiveDownload;}}
if(args.haveFlash){if(args.haveMBR){return urlParams.adobeHttpStreaming;}else{return urlParams.passthrough;}}
return"";};var getUrlParameterOld=function(args){var newUrl="";if(args.isUniversalPlayer||(args.isVideoGalleryDefined&&args.isUniversalVODPlayer)){if(!args.haveMBR){newUrl+="&switch=download";}
newUrl+="&auto=true";}
else{(args.supportsHLS&&!args.haveFlash)?(newUrl+=(args.haveMBR)?"&manifest=m3u":"&switch=download"):(args.haveFlash)?(newUrl+=(args.haveMBR)?"&manifest=f4m":"&switch=passthrough"):newUrl+="";}
return newUrl;}
return{set:function(url,param){_setReleaseURL(url,param);},getReleaseUrl:getReleaseUrl}})($pdk);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/ThePlatform/samples/cnbc/jquery.loadByGuid.js */

var releaseInitiatedByClick=false;var CNBC_CurrentReleaseObj={},CNBC_ReleaseObj={};var CNBC_CarouselPlayer=false;(function($){$.loadByGuid=function(baseFeed,guids,callback){var initByGuid=function(){var sortedFeed=baseFeed+"?byContent=byIsDefault%3Dtrue&sort=added|desc&byGuid="+_guids;complete(sortedFeed);};var initById=function(mediaIds){var sortedFeed=baseFeed+"/"+mediaIds.join(',');sortedFeed+="?byContent=byIsDefault%3Dtrue";complete(sortedFeed,true);};var complete=function(sortedFeed,byId){var autoPlay=(PDKUtils.urlParam("autoPlay")=="true");if(typeof CNBC_Platform_Video_Gallery!=='undefined'){autoPlay=CNBC_Platform_Video_Gallery.videoObj.autoPlay;}
callback({feed:sortedFeed,byId:byId||false,autoPlay:autoPlay})};var sortMediaIds=function(data){var guids=_guids.split('|');var ids=[];var lookup={};$.each(data.entries,function(i,object){lookup[object.guid]=object.id;});$.each(guids,function(i,guid){var uri=lookup[guid];if(uri)ids.push(uri.substring(uri.lastIndexOf('/')+1));});return ids;};var _guids;if(!guids){_guids=decodeURIComponent(PDKUtils.urlParam('byGuid'));}else{_guids=($.isArray(guids))?guids.join("|"):guids;}
if(_guids=="null"){complete(baseFeed);return;}
if(_guids.indexOf("|")<0){initByGuid();}else{$.ajaxSetup({cache:true});var jqxhr=$.getJSON(baseFeed+"?callback=?",{"byContent":"byIsDefault=true","form":"cjson","sort":"added|desc","byGuid":_guids}).done(function(data){CNBC_CarouselPlayer=true;var mediaIds=sortMediaIds(data);initById(mediaIds);for(var i in data.entries){var guid=data.entries[i].guid;CNBC_ReleaseObj[guid]=data.entries[i];}
setCNBC_CurrentReleaseObj(_guids.split('|')[0]);}).fail(function(){initByGuid();});}};setCNBC_CurrentReleaseObj=function(currGuid){var foundGuid=false;if(CNBC_ReleaseObj[currGuid]){CNBC_CurrentReleaseObj=CNBC_ReleaseObj[currGuid];}
else{var basefeedurl=playerConfig.config.feedServiceURL+"?byContent=byIsDefault%3Dtrue&form=cjson&sort=added|desc&byGuid="+currGuid;$.ajaxSetup({cache:true});var jqxhr=$.getJSON(basefeedurl).done(function(data){for(var i in data.entries){var guid=data.entries[i].guid;CNBC_ReleaseObj[guid]=data.entries[i];}
CNBC_CurrentReleaseObj=CNBC_ReleaseObj[currGuid];});}}}(jQuery));
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/Common/taboola_video.js */

CNBC_Taboola_Videos={};CNBC_Taboola_Videos.tbSession=null;CNBC_Taboola_Videos.tbBaseFeed="//api.taboola.com/1.1/json/cnbc/recommendations.get?app.type={appType}&app.apikey=b4af8993d6e91f81c110be1b92aaa8a63b6d0a8f&rec.count={recCount}&rec.type=video&user.session={tbUserSession}&source.type=video&source.id={vid}&source.url={encodedURL}&source.placement={sourcePlacement}";CNBC_Taboola_Videos.tbID=null;CNBC_Taboola_Videos.assetHTMLTemplate=[];CNBC_Taboola_Videos.searchParam=function(name,url){var url=new URL(url);return url.searchParams.get(name);};CNBC_Taboola_Videos.setAssetHTML=function(){var self=this;if(CNBC_Utils.isVideoGallery()){self.assetHTMLTemplate.push('<li><div class="asset cnbcvideo imgasset desc_size160_105" tb-notify-url="{tbNotifyURL}">');self.assetHTMLTemplate.push('<a href="{videoHREF}" data-VideoID="{vid}">');self.assetHTMLTemplate.push('<img data-img-src="{imgSrc}" title="{videoHeadLine}" width="160" height="105" />');self.assetHTMLTemplate.push('</a>');self.assetHTMLTemplate.push('<div class="headlines">');self.assetHTMLTemplate.push('<span class="icon"></span>');self.assetHTMLTemplate.push('<div class="vid-info">');self.assetHTMLTemplate.push('<span>{videoDuration} | </span><span>{videoAirDate}</span>');self.assetHTMLTemplate.push('</div>');self.assetHTMLTemplate.push('</div>');self.assetHTMLTemplate.push('<div class="headline">');self.assetHTMLTemplate.push('<a href="{videoHREF}" data-VideoID="{vid}" data-videotype>{videoHeadLine}</a>');self.assetHTMLTemplate.push('</div>');self.assetHTMLTemplate.push('</div></li>');}
else{if(CNBC_Utils.isMobile())
{self.assetHTMLTemplate.push('<li><div class="asset cnbcvideo imgasset desc_size160_160 card"" tb-notify-url="{tbNotifyURL}">');self.assetHTMLTemplate.push('<span class="video-icon"><a href="javascript:void(0)" data-VideoID="{vid}">');self.assetHTMLTemplate.push('<i class="fa fa-video"></i>');self.assetHTMLTemplate.push('<img data-img-src="{imgSrc}" title="{videoHeadLine}" width="80" height="80" />');self.assetHTMLTemplate.push('</a></span>');self.assetHTMLTemplate.push('<div class="headline">');self.assetHTMLTemplate.push('<a href="javascript:void(0)" data-VideoID="{vid}" data-videotype>{videoHeadLine}</a>');self.assetHTMLTemplate.push('</div>');self.assetHTMLTemplate.push('<time>{videoAirDate}</time>');self.assetHTMLTemplate.push('</div></li>');}
else{self.assetHTMLTemplate.push('<li><div class="asset cnbcvideo imgasset desc_size320_180" tb-notify-url="{tbNotifyURL}">');self.assetHTMLTemplate.push('<a href="{videoHREF}" data-VideoID="{vid}">');self.assetHTMLTemplate.push('<i class="fa fa-video"></i>');self.assetHTMLTemplate.push('<div class="video-length">{videoDuration}</div>');self.assetHTMLTemplate.push('<img data-img-src="{imgSrc}" title="{videoHeadLine}" width="160" height="105" />');self.assetHTMLTemplate.push('</a>');self.assetHTMLTemplate.push('<div class="headline">');self.assetHTMLTemplate.push('<a href="{videoHREF}" data-VideoID="{vid}" data-videotype>{videoHeadLine}</a>');self.assetHTMLTemplate.push('<time>{videoAirDate}</time>');self.assetHTMLTemplate.push('</div>');self.assetHTMLTemplate.push('</div></li>');}}
self.assetHTMLTemplate=self.assetHTMLTemplate.join('');};CNBC_Taboola_Videos.init=function(args){var self=this;self.$playListContainer=args.container;self.tbBaseFeed=args.tbBaseFeed||self.tbBaseFeed;self.callback=args.callback||null;self.dateFormat=args.dateFormat||'long_v2';self.sortDataConfig=args.sortDataConfig||null;self.lazyLoadImgCount=args.lazyLoadImgCount||null;self.setTaboolaServiceFeed(args);self.setAssetHTML();var videoId=args.vid||$('a[data-videoID]:first').attr('data-videoID');self.getRelatedItems(videoId);self.initEvents();};CNBC_Taboola_Videos.initEvents=function(){var self=this;self.$playListContainer.on('click','ul li .asset',function(e){CNBC_Utils.fireNetworkCall($(this).attr('tb-notify-url'));});};CNBC_Taboola_Videos.setTaboolaServiceFeed=function(args){var self=this;var recCount=args.recCount||30;var appType='web';if(CNBC_Utils.isMobile()){appType='mobile';}
var sourcePlacement=args.sourcePlacement||'video-player';self.tbBaseFeed=self.tbBaseFeed.replace('{recCount}',recCount);self.tbBaseFeed=self.tbBaseFeed.replace('{appType}',appType);self.tbBaseFeed=self.tbBaseFeed.replace('{sourcePlacement}',sourcePlacement);};CNBC_Taboola_Videos.getRelatedItems=function(videoId){var encodedURL=document.location.protocol+encodeURIComponent(CNBC_Settings.baseurls.cnbcvideo_url_base);var liContanier='';var self=this;var tbFeed=self.tbBaseFeed.replace('{vid}',videoId);var tbUserSession='init';if(self.tbSession){tbUserSession=self.tbSession;}
tbFeed=tbFeed.replace('{tbUserSession}',tbUserSession);tbFeed=tbFeed.replace('{encodedURL}',encodedURL+'?video='+videoId);$.ajaxSetup({cache:false});var jqxhr=$.getJSON(tbFeed).done(function(data){if(data&&data.list.length>0){self.tbSession=data.session;self.tbID=data.id;if(self.sortDataConfig){data.list=CNBC_Utils.sortByKey(data.list,self.sortDataConfig.orderBy,self.sortDataConfig.inOrder);}
for(var i in data.list){var videoThumbailUrl=null;if(data.list[i].thumbnail.length){videoThumbailUrl=data.list[i].thumbnail[0].url;}
var vid=data.list[i].id;var videoHeadline=data.list[i].name;var videoDesc=data.list[i].description;var videoDuration=CNBC_Utils.msToTime(parseInt(data.list[i].duration)*1000);var arDate=new Date(data.list[i].created).getTime();var videoAirDate=CNBC_Utils.getRelativeTime(arDate,24,self.dateFormat);var assetHTML=self.assetHTMLTemplate.replace(/{vid}/g,vid);assetHTML=assetHTML.replace(/{index}/g,parseInt(i)+1);assetHTML=assetHTML.replace('{imgSrc}',videoThumbailUrl);assetHTML=assetHTML.replace(/{videoHeadLine}/g,videoHeadline);assetHTML=assetHTML.replace('{videoDesc}',videoDesc);assetHTML=assetHTML.replace('{videoDuration}',videoDuration);assetHTML=assetHTML.replace('{videoAirDate}',videoAirDate);assetHTML=assetHTML.replace('{tbNotifyURL}',data.list[i].url);var videoURL=decodeURIComponent(CNBC_Utils.urlParam("redir",data.list[i].url));if(videoURL.indexOf('http:')!=-1){videoURL=videoURL.replace('http://www.cnbc.com','');}
if(videoURL.indexOf('https:')!=-1){videoURL=videoURL.replace('https://www.cnbc.com','');}
if(videoURL.indexOf('www.cnbc.com')!=-1){videoURL=videoURL.replace('www.cnbc.com','');if(videoURL.indexOf('//')!=-1){videoURL=videoURL.replace('//','');}}
assetHTML=assetHTML.replace(/{videoHREF}/g,videoURL);liContanier=liContanier+assetHTML;}
$('ul',self.$playListContainer).html(liContanier);var $images=$('ul img',self.$playListContainer);if(self.lazyLoadImgCount){$images=$('ul img:lt('+self.lazyLoadImgCount+')',self.$playListContainer);}
$images.prop('src',function(){if($(this).attr('data-img-src')){return $(this).attr('data-img-src');};}).removeAttr('data-img-src');self.$playListContainer.removeClass('loader');if(self.callback){self.callback();}}
else{self.$playListContainer.remove();}}).fail(function(){self.$playListContainer.remove();}).error(function(){self.$playListContainer.remove();});};
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/videoGallery.js */

function CNBC_Platform_Video_Gallery(){};(function($){CNBC_Platform_Video_Gallery.prototype.init=function(args){if(CNBC_Utils.isVideoSectionFront()){CNBC_Platform_Video_Gallery.videoObj=new CNBC_Platform_Video_Section_Front();}
else{if(CNBC_Utils.isUserPremium()){CNBC_Platform_Video_Gallery.videoObj=new CNBC_Platform_Video_Pro();}
else{CNBC_Platform_Video_Gallery.videoObj=new CNBC_Platform_Video();$('#pro_video_overlay').remove();$('#premium_video_tab_data').hide();}}
CNBC_Platform_Video_Gallery.videoObj.init(args);};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/videoGallery_common.js */

var releaseInitiatedByClick=false;function CNBC_Platform_Video_Common(){};(function($){CNBC_Platform_Video_Common.prototype.playerId='player';CNBC_Platform_Video_Common.prototype.baseFeed='//feed.theplatform.com/f/gZWlPC/CNBC_prod_global';CNBC_Platform_Video_Common.prototype.carouselAutoPlay=true;CNBC_Platform_Video_Common.prototype.autoPlay=true;CNBC_Platform_Video_Common.prototype.releaseSetByClick=false;CNBC_Platform_Video_Common.prototype.omnitureTrkClick=false;CNBC_Platform_Video_Common.prototype.fromPopStateEvent=0;CNBC_Platform_Video_Common.prototype.windowHistory=false;CNBC_Platform_Video_Common.prototype.defaultVideoId=3000291876;CNBC_Platform_Video_Common.prototype.releaseURL=null;CNBC_Platform_Video_Common.prototype.$playListContainer=$('#tabs_carousel_wrapper');CNBC_Platform_Video_Common.prototype.count=0;CNBC_Platform_Video_Common.prototype.relativeVideos=false;CNBC_Platform_Video_Common.prototype.feedURL='';CNBC_Platform_Video_Common.prototype.pageName=null;CNBC_Platform_Video_Common.prototype.videoAirDate=null;CNBC_Platform_Video_Common.prototype.cnbcPlayerType=$("#player").attr("tp:cnbcPlayerType")=="show"?"show":"article";CNBC_Platform_Video_Common.prototype.playerUrl=$("#player").attr("tp:playerUrl");CNBC_Platform_Video_Common.prototype.videoId=null;CNBC_Platform_Video_Common.prototype.videoFirst=null;CNBC_Platform_Video_Common.prototype.upNext=null;CNBC_Platform_Video_Common.prototype.marketingPageURL='https://www.cnbc.com/application/pro';CNBC_Platform_Video_Common.prototype.isVideoPro=false;CNBC_Platform_Video_Common.prototype.mobileView=false;CNBC_Platform_Video_Common.prototype.playerStatus=null;CNBC_Platform_Video_Common.prototype.sPageName="";CNBC_Platform_Video_Common.prototype.hasCCFlag=null;CNBC_Platform_Video_Common.prototype.$ccDefaults=null;CNBC_Platform_Video_Common.pageLoad=true;CNBC_Platform_Video_Common.relatedVideoContanierName='tab_relative_video';CNBC_Platform_Video_Common.relatedVideoContanier=$('#'+CNBC_Platform_Video_Common.relatedVideoContanierName);CNBC_Platform_Video_Common.premiumTabDataContainerName='premium_video_tab_data';CNBC_Platform_Video_Common.premiumTabDataContainer=$('#'+CNBC_Platform_Video_Common.premiumTabDataContainerName);CNBC_Platform_Video_Common.errorMsgContainerHTML='<div class="player-error-placeholder"><div class="error-msg"><p>YOUR BROWSER IS NOT SUPPORTED.</p><p><a href="//cnbcllca.custhelp.com/app/answers/detail/a_id/335/" target="_blank">Please upgrade to watch video.</a></p></div></div>';CNBC_Platform_Video_Common.videoErrorMsgContainerHTML='<div class="player-error-placeholder"><div class="error-msg"><p>The requested video is unable to play.</p><p>The video does not exist in the system.</p></div></div>';CNBC_Platform_Video_Common.maxFeedVideoLimit=100;CNBC_Platform_Video_Common.metaDataContainer=$('#video-meta-data');CNBC_Platform_Video_Common.videoTitleContainer=$('#video-title');CNBC_Platform_Video_Common.videoDescContainer=$('#video-desc');CNBC_Platform_Video_Common.subtitleLanguage=null;CNBC_Platform_Video_Common.subtitlesAvailable=false;CNBC_Platform_Video_Common.stateObj=[];CNBC_Platform_Video_Common.prototype.getNodeId=function(element){var nid=$("[data-VideoID]",element).attr('data-VideoID');return nid;}
CNBC_Platform_Video_Common.prototype.isAdblockMessageNeeded=function(){if(!(cnbc&&cnbc.canShowAds)){if($pdk.controller._env._component_runtime=="html5"||CNBC_Utils.isUniversalVODPlayer()){if(!CNBC_Utils.isMobile()){return true;}}}
return false;};CNBC_Platform_Video_Common.prototype.managePlayerAttributesProtocol=function(player){if(document.location.protocol=='http:'){var playerAttrs=[];var strToFind='https:';player.each(function(){$.each(this.attributes,function(){if(this.value.toLowerCase().indexOf(strToFind)>=0){playerAttrs.push({name:this.name,value:this.value});}});});if(playerAttrs.length){for(var i in playerAttrs){player.attr(playerAttrs[i].name,playerAttrs[i].value.replace(strToFind,document.location.protocol));}}}};CNBC_Platform_Video_Common.prototype.loadPlayer=function(){CNBC_Utils._player_load_start_time=(new Date()).getTime();CNBC_Platform_Video_Common.prototype.delayedPageLevelOmniture=CNBC_Platform_Video_Common.prototype.delayedPageLevelOmniture.bind(this);var self=this;var $player=$('#'+self.playerId);self.$ccDefaults=JSON.parse($player.attr('tp:ccdefaults'));if(typeof window.MediaSource!=='function'&&!CNBC_Utils.isBrowserSupportsHLS()){CNBC_Utils.isUniversalVODPlayer=function(){return false;}
$player.attr("tp:plugin6","type=content|url=https://pdk.theplatform.com/current/pdk/swf/akamaiHD.swf|fallback=switch%3Ddownload|bufferProfile=livestable|enableDVR=true|priority=1|manifest=false|analyticsBeacon=https%3A%2F%2Fma99-c.analytics.edgesuite.net%2Fconfig%2Fbeacon-1220.xml%3Fd%3D1702014");$player.attr("tp:plugin7","type=content|url=https://pdk.theplatform.com/current/pdk/js/plugins/akamaiHD.js|fallback=switch%3Ddownload|bufferProfile=livestable|enableDVR=true|priority=1|manifest=false|analyticsBeacon=https%3A%2F%2Fma99-c.analytics.edgesuite.net%2Fconfig%2Fbeacon-1220.xml%3Fd%3D1702014");$player.attr("tp:plugin8","type=analyticscomponent|url=https://79423.analytics.edgesuite.net/csma/pdk/PDKCSMALoader.swf|pluginPath=https%3A%2F%2F79423.analytics.edgesuite.net%2Fcsma%2Fplugin%2Fcsma.swf|configPath=https%3A%2F%2Fma99-c.analytics.edgesuite.net%2Fconfig%2Fbeacon-1220.xml%3Fd%3D1702014");this.managePlayerAttributesProtocol($player);}
if(PDKUtils.isAndroidHLSSupported()){PDKUtils.findAndReplacePlayerAttrVal($player,'akamaihd','androidhls','true','|');}
if(PDKUtils.urlParam('cnbcSkipAd')=='true'){PDKUtils.removePlayerPlugin($player,'freewheel');}
if(CNBC_Utils.isUserPremium()){PDKUtils.findAndReplacePlayerAttrVal($player,'streamsense_plugin_theplatform.swf|c2=1000004','persistentlabels',playerConfig.globalConfig.premium.comScore.persistentlabels,'|');PDKUtils.findAndReplacePlayerAttrVal($player,'streamsense_plugin_theplatform.js|c2=1000004','persistentlabels',playerConfig.globalConfig.premium.comScore.persistentlabels,'|');}
else{PDKUtils.findAndReplacePlayerAttrVal($player,'streamsense_plugin_theplatform.swf|c2=1000004','persistentlabels',playerConfig.defaultConfig.comScore.persistentlabels,'|');PDKUtils.findAndReplacePlayerAttrVal($player,'streamsense_plugin_theplatform.js|c2=1000004','persistentlabels',playerConfig.defaultConfig.comScore.persistentlabels,'|');}
if(typeof window.history==='object'&&window.history.length&&typeof window.history.pushState==='function'){self.windowHistory=true;}
window.history.pushState({windowstate:'windowPushState',videoid:""+self.defaultVideoId+"",url:""+window.location.href+""},null,window.location.href)
if(self.windowHistory){window.onpopstate=function(event){var state=event.state;if(state.windowstate=='windowPushState'){self.fromPopStateEvent=1;var currentVideoId=state.videoid;}
var $selectedVideoFromPlaylist=$('div.cnbcvideo a[data-VideoID][data-VideoID='+currentVideoId+']:first',self.$playListContainer);$selectedVideoFromPlaylist.click();};}
self.videoFirst=$('div.cnbcvideo a[data-VideoID='+self.defaultVideoId+']:first',self.$playListContainer);var $playListVideoContainer;if(self.videoFirst.length){self.$firstVideoAsset=self.videoFirst.parents('div.cnbcvideo');$('div.cnbcvideo').parent().removeClass('currentNode');$('div.cnbcvideo').removeClass('up-next');$playListVideoContainer=self.$firstVideoAsset.parent();$playListVideoContainer.addClass('currentNode');$('div.asset.cnbcvideo',$playListVideoContainer).addClass('playing');self.upNext=$playListVideoContainer.next().find('div.cnbcvideo').addClass('up-next');;if(!self.upNext.length){self.upNext=$('div.asset.cnbcvideo',$playListVideoContainer).addClass('up-next');}}
else{if(self.relativeVideos){$playListVideoContainer=$('ul.tray > li:nth-child(2) ul > li:first',self.$playListContainer);}else{$playListVideoContainer=$('ul.tray > li:first ul > li:first',self.$playListContainer);if(!$playListVideoContainer.length){$playListVideoContainer=$('#pipeline_assetlist_0 > li:first',self.$playListContainer);}}
self.upNext=$('div.asset.cnbcvideo',$playListVideoContainer).addClass('up-next');}
self.videoId=self.defaultVideoId;if(self.isAdblockMessageNeeded()){self.onError(self.adblockErrorMsgContainerHTML);}else{$.loadByGuid(self.baseFeed,self.defaultVideoId,function(d){if(self.videoFirst.length){$('div.cnbcvideo',self.$playListContainer).removeClass('currentNode');}
$('#'+self.playerId).attr('tp:cnbcAutoPlay',d.autoPlay);$pdk.controller.dispatchEvent("CNBCPreInitialize",{autoPlay:d.autoPlay,feedUrl:d.feed,byId:d.byId,container:self.upNext,cnbcPlayerType:self.cnbcPlayerType,playerUrl:self.playerUrl});$pdk.initialize();});}
self.initEvents();};CNBC_Platform_Video_Common.prototype.initEvents=function(){var self=this;self.$playListContainer.on('click','ul.tray > li ul li .asset',function(e){if(self.isAdblockMessageNeeded()){self.onError(self.adblockErrorMsgContainerHTML);return false;}
var $videoAchorTg=$(this).find('a:first');if($videoAchorTg.parents('#prtnr_mod_videos').length){$pdk.controller.pause(true);return true;}
if(!self.windowHistory){return true;}
self.releaseSetByClick=true;releaseInitiatedByClick=true;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=false;CNBC_Platform_Video_Common.pageLoad=false;self.omnitureTrkClick=true;self.playVideo($videoAchorTg);return false;});$('#watch-full-episodes a').click(function(){$pdk.controller.pause(true);var trkNav=$(this).attr('data-trknav');var pev2='Video Gallery';try{s.linkTrackVars='contextData.cnbc.trknav';s.contextData['cnbc.trknav']=trkNav;if(CNBC_Utils.isVideoSectionFront()){pev2='Video Section Front';}
s.tl(true,'o',pev2,null,'navigate');s.manageVars("clearVars");}
catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}});var ccobj={};$('body').on('click','.tpContainer .apply',function(){self.hasCCFlag=$('input[name="radios"]:checked').val();ccobj.globalDataType="com.theplatform.pdk.data::SubtitleStyle";ccobj.fontFamily=$('.customdropdown option:selected').val();ccobj.fontColor=$('input[name="colors"]:checked').val();ccobj.backgroundColor=$('input[name="backgroundcolors"]:checked').val();ccobj.fontEdge=$('input[name="edges"]:checked').val();ccobj.fontSize=1;ccobj.bold=false;ccobj.italic=false;ccobj.underline=false;console.log(ccobj);$("#closecaption").css('display','none');CNBC_Platform_Video_Common.subtitleLanguage=(self.hasCCFlag=="on")?"en":null;$pdk.controller.setSubtitleLanguage(CNBC_Platform_Video_Common.subtitleLanguage);if(CNBC_Platform_Video_Common.subtitleLanguage&&(!PDKUtils.isTablet()||!PDKUtils.isMobile()||!isSafari)){$pdk.controller.setSubtitleStyle(ccobj);}});};CNBC_Platform_Video_Common.prototype.playVideo=function($videoAnchorTag){var self=this;var urlref;var nid=$videoAnchorTag.attr('data-VideoID').toString();CNBC_Utils.getNodeInfo(nid);urlref=location.href;if(CNBC_Utils.isUserPremium()){self.playVideoPro($videoAnchorTag);}else{self.playVideoReg($videoAnchorTag);}
self.pageLevelParsely(location.href,urlref);};CNBC_Platform_Video_Common.prototype.playVideoReg=function($videoAnchorTag){var self=this;if(self.isAdblockMessageNeeded()){self.onError(self.adblockErrorMsgContainerHTML);return false;}
self.resetVars();var previousBrand="";var $playListVideoContainer=$videoAnchorTag.parents('li:first');var $currentAsset=$videoAnchorTag.parents('div.asset');var $currentPlayList=$playListVideoContainer.parents('li.carousel_asset');if(self.mobileView){$currentPlayList=self.$playListContainer;}
var $playingAsset=$('div.asset.playing');if($playingAsset.length){previousBrand=$playingAsset.attr('data-brand');}
var currentvideoBrand=$currentAsset.attr('data-brand')||"";var url=$videoAnchorTag.attr('href').toString();$('div.cnbcvideo').removeClass('up-next');$('div.asset.cnbcvideo').removeClass('playing');var videoId=$videoAnchorTag.attr('data-VideoID').toString();if(videoId){if(self.windowHistory){if(!self.fromPopStateEvent){self.fromPopStateEvent=0;var href=$videoAnchorTag.attr('href');window.history.pushState({windowstate:"windowPushState",videoid:""+videoId+"",url:""+href+""},null,href);}}
else{window.location.assign($videoAnchorTag.attr('href'));}
$playListVideoContainer.addClass('currentNode');$currentAsset.addClass('playing');var currentIndex=$('div.asset.cnbcvideo',$currentPlayList).index($('.asset.playing'));self.upNext=$('div.asset.cnbcvideo',$currentPlayList).eq(currentIndex+1).addClass('up-next');if(!self.upNext.length){if(self.mobileView){self.upNext=$currentPlayList.find('div.asset:first').addClass('up-next');}else{self.upNext=$currentPlayList.next().find('div.asset:first').addClass('up-next');if(!self.upNext.length){self.upNext=$('li.carousel_asset:first').find('div.asset:first').addClass('up-next');}}}
self.playVideoReleaseURL(videoId,$playListVideoContainer,false);}};CNBC_Platform_Video_Common.prototype.afterVideoMetaData=function($container,isPageLoadPro){var self=this;self.releaseURL=CNBC_CurrentReleaseObj.content[0].url;self.setVideoMetaData();self.setShowName();self.refreshGigyaData($container);if($('body#page_video_gallery').length){if(typeof dotObjTitle=='undefined'){var dotObjTitle=new CNBC_Ellipsis();}
if(typeof dotObjDesc=='undefined'){var dotObjDesc=new CNBC_Ellipsis();}
var vidoeMetaDataheight=$('#video-meta-data').height();var videoTitleLineHeight=parseInt($('#video-title').css('line-height'));var videoTitleMaxHeight=videoTitleLineHeight*3;var videoTitleHeight=$('#video-title').height();if(videoTitleHeight>videoTitleMaxHeight){var dotObjTitle=new CNBC_Ellipsis();dotObjTitle.init({container:'video-title',height:videoTitleMaxHeight+10});}
var videoDescHeight=vidoeMetaDataheight-$('#video-desc').position().top;var dotObjDesc=new CNBC_Ellipsis();dotObjDesc.init({container:'video-desc',height:videoDescHeight});}
CNBCCarousel.setJQuery($,$container);if(!isPageLoadPro){CNBCReleaseURL.set(self.releaseURL);setTimeout(function(){self.pageLevelOmniture();},500);}};CNBC_Platform_Video_Common.prototype.playVideoReleaseURL=function(currGuid,$container,isPageLoadPro){var self=this;$pdk.controller.endCurrentRelease();CNBC_CurrentReleaseObj=CNBC_Utils.videoReleaseObjs[currGuid];if(CNBC_CurrentReleaseObj){self.afterVideoMetaData($container,isPageLoadPro);}
else{$.ajaxSetup({cache:true});var jqxhr=$.getJSON(self.feedURL+currGuid).done(function(data){if(data&&data.entries&&data.entries.length&&data.entries[0].content.length&&data.entries[0].content[0].url){CNBC_CurrentReleaseObj=data.entries[0];self.afterVideoMetaData($container,isPageLoadPro);}
else{self.playerErrorMsg();}
self.getVideoMetaData();}).fail(function(){self.playerErrorMsg();});}};CNBC_Platform_Video_Common.prototype.setVideoMetaData=function(){var videoTitle=CNBC_CurrentReleaseObj.title||null;var videoDesc=CNBC_CurrentReleaseObj.description||null;var videoAirDate=CNBC_CurrentReleaseObj.pubDate||null;var premiumVideo="0";if(CNBC_CurrentReleaseObj&&videoTitle&&videoAirDate){this.videoId=CNBC_CurrentReleaseObj.guid;this.videoAirDate=videoAirDate;if(CNBC_CurrentReleaseObj&&videoTitle&&!$('#video-title').html()){$('#video-title').html(videoTitle);if($('div.asset.playing .headline a').attr('data-videotype')!=undefined){premiumVideo=$('div.asset.playing .headline a').attr('data-videotype').toString();}
if(premiumVideo=="2"){$('#video-title').html($('#video-title').html()+'&nbsp;');$('<span class="cnbc-nobr">&nbsp;<span class="icon cnbc-font-icon icon-cnbc-pro">&nbsp;</span></span>').appendTo($('#video-title'));}
document.title=videoTitle;}
if(CNBC_CurrentReleaseObj&&videoDesc&&!$('#video-desc').html()){$('#video-desc').html(videoDesc);}
if(!$('#relative-time').html()){var relativeTime="";var airDate=new Date(parseInt(videoAirDate));if(this.pageName=='video_section_front'||this.mobileView||$('body').prop('id')=='page_ng-video-gallery'){relativeTime=$('div.asset.playing').find('time').html();}else{relativeTime=$('div.asset.playing').find('div.vid-info span:last').html();}
if(relativeTime){if(relativeTime.toLowerCase().indexOf('now')>0){relativeTime='Updated Moments Ago';}
else if(relativeTime.toLowerCase().indexOf('hr')>0){relativeTime=relativeTime.replace(/hr/gi,'Hour');}
else if(relativeTime.toLowerCase().indexOf('min')>0){relativeTime=relativeTime.replace(/min/gi,'Minute');}
else if(relativeTime.toLowerCase().indexOf('day')>0){relativeTime=relativeTime.replace(/day/gi,'Day');}
else{relativeTime=PDKUtils.formatDate(airDate)+" | "+PDKUtils.formatTime(airDate,true);}
$('#relative-time').html(relativeTime);}}}};CNBC_Platform_Video_Common.prototype.refreshGigyaData=function($container){var videoTitle=CNBC_CurrentReleaseObj.title||null;var videoDesc=CNBC_CurrentReleaseObj.description||null;var link=$container.find('a:first').attr('href');link=CNBC_Utils.prependDocumentProtocol(link);var imgSrc=$container.find('img').attr('src')||null;var bigImgSrc=null;if(imgSrc){bigImgSrc=(imgSrc.replace('160x105','600x400')).split('?');}
window.ua=new gigya.services.socialize.UserAction();if(typeof(window.ua)=='object'){if(typeof(window.ua.setTitle)=='function'&&videoTitle){window.ua.setTitle(videoTitle);}
if(typeof(window.ua.setDescription)=='function'&&videoDesc){window.ua.setDescription(videoDesc);}
if(typeof(window.ua.setLinkBack)=='function'&&link){window.ua.setLinkBack(link);}
if(typeof(window.ua.addMediaItem)=='function'&&link&&bigImgSrc&&bigImgSrc[0]){window.ua.addMediaItem({type:'image',src:bigImgSrc[0],href:link});}}
var params={userAction:window.ua,shareButtons:[{provider:'twitter'},{provider:'facebook'},{provider:'reddit'},{provider:'linkedin'},{provider:'email'},{provider:'share',enableCount:false}],containerID:'social_tools_video',showCounts:'none',iconsOnly:'true',deviceType:'auto',onSendDone:CNBC_Gigya_Omniture.onSendDoneVideoGall,onLoad:function(e){var targetID=e.containerID;var options={callback:fnResponse,URL:location.href,disabledProviders:'delicious'};function fnResponse(response){var shareCount=formatTotal(getTotal(response));};function getTotal(r){var total=0;for(var item in r.shareCounts){if(r.shareCounts.hasOwnProperty(item)&&typeof r.shareCounts[item]=='number'){total+=r.shareCounts[item];};};return total;};function formatTotal(t){if(!t||typeof t!='number'||t<2){return false;};if(t<1000){return t;}
else if(t>=1000&&t<10000){return(Number(t.toString().slice(0,-2))/10).toFixed(1)+'K';}
else if(t>=10000){return Math.floor(t/1000)+'K';};};gigya.socialize.getProviderShareCounts(options);},onConnectionAdded:CNBC_Gigya_Omniture.onConnectionAdded,onConnectionRemoved:CNBC_Gigya_Omniture.onConnectionRemoved,onLogin:CNBC_Gigya_Omniture.trackLoginEvent,onLogout:CNBC_Gigya_Omniture.onLogout,moreEnabledProviders:'facebook, reddit, twitter, linkedin, tumblr, googleplus, pinterest, digg, stumbleupon',showEmailButton:false};gigya.services.socialize.showShareBarUI(params);};CNBC_Platform_Video_Common.prototype.pageLevelParsely=function(url,urlref){if(window.PARSELY){PARSELY.beacon.trackPageView({url:url,urlref:urlref,js:1});}}
CNBC_Platform_Video_Common.prototype.getCurrentTrayName=function(){if($('li.currentNode').length){return $('li.currentNode').parents('li').find('.tabTitle').text();}
return null;};CNBC_Platform_Video_Common.prototype.pageLevelOmniture=function(){var self=this;window.setTimeout(self.delayedPageLevelOmniture,1000);};CNBC_Platform_Video_Common.prototype.delayedPageLevelOmniture=function(){var self=this;var $currentNode=$('div.asset.playing');var $currentPlayList=null,tabTitle=null;var videoId=CNBC_CurrentReleaseObj.guid.toString()||null;if(this.mobileView){$currentPlayList=this.$playListContainer;tabTitle=$currentPlayList.find('h2').text().replace(/\s+/g,'').toLowerCase();}else{$currentPlayList=$currentNode.parents('li.carousel_asset');tabTitle=$currentPlayList.find('.tabTitle').text().replace(/\s+/g,'').toLowerCase();}
if($currentPlayList.attr('id')=='premium_video_tab_data'){tabTitle='pro'+tabTitle;}
var trkNav='videogallerycarousel:'+tabTitle+':'+($('div.asset',$currentPlayList).index($currentNode)+1)+':'+videoId;var nid=self.getNodeId($currentNode);var data=CNBC_Utils.nodeInfoMetadata;var videoTitle=CNBC_CurrentReleaseObj.title||null;var weekday=new Array(7);var weekStatus="WeekDay";weekday[0]="Sunday";weekday[1]="Monday";weekday[2]="Tuesday";weekday[3]="Wednesday";weekday[4]="Thursday";weekday[5]="Friday";weekday[6]="Saturday";if(!s.manageVars){CNBC_Omniture.sManageVars();}
s.manageVars('clearVars');CNBC_Utils.clearTrkNav();s.prop1="content";s.prop5="Unrestricted";s.prop23=s.prop28="";s.prop36=videoId;s.prop37="cnbcvideo";s.eVar49="PC"
if(CNBC_Utils.isMobile()){s.eVar49="Mobile"}
if(self.omnitureTrkClick){self.omnitureTrkClick=false;linkTrkCookie(trkNav);}
var propStartIndex=31;if(data&&data[nid]){var airDate=new Date(parseInt(data[nid]["pubdate"])*1000);if(airDate.getDay()==0||airDate.getDay()==6){weekStatus="WeekEnd";}
var videoMonth=parseInt(airDate.getMonth())+1;var videoDate=airDate.getDate();s.prop10=data[nid]["cag[configuration_franchise]"];s.prop16=data[nid]["subtype"].replace(/[^a-zA-Z ]/g,'');s.contextData['cnbc.brand']=data[nid]["cag[brand]"];var primaryData=data[nid]["cag[related_primary]"];var newPrimaryData=[];if(primaryData){var primaryDataArr=primaryData.split('|');if(primaryDataArr.length){for(var i in primaryDataArr){newPrimaryData[i]=primaryDataArr[i].substr(0,15);}}}
s.contextData['cnbc.cleanurl']=location.host+location.pathname;s.contextData['cnbc.primary']=newPrimaryData.join('|').replace(/[^a-zA-Z|]/g,'').toLowerCase();s.prop25=PDKUtils.formatTime(airDate,true);s.prop29=weekday[airDate.getDay()];s.prop30=weekStatus;s.prop39=data[nid]["cag[attribution_source]"].replace(/[^a-zA-Z ]/g,'').toLowerCase();s.prop52=(videoMonth<10?'0':'')+videoMonth+'-'+(videoDate<10?'0':'')+videoDate+'-'+airDate.getFullYear();if(self.pageName==='video_section_front'){s.pageName=CNBC_Settings.pageNodeId+'|'+location.pathname.substr('1').replace('/','');}
else{s.pageName=s.prop36+'|'+location.pathname.substr('1').replace('.html','');}
s.contextData['cnbc.template']=$('body').attr('id').substr('5');var dataLength=data[nid].length;var franchiseHierarchy=data[nid]["cat"];if(franchiseHierarchy){var franchiseHierarchyArr=franchiseHierarchy.split("|");if(franchiseHierarchyArr.length){for(var i in franchiseHierarchyArr){propStartIndex=31+parseInt(i);if(franchiseHierarchyArr[i]&&i<=5){eval("s.prop"+propStartIndex+"=franchiseHierarchyArr[i].replace(/[^a-zA-Z ]/g, '').toLowerCase()");}}}}}
s.t();s.manageVars("clearVars");};CNBC_Platform_Video_Common.prototype.playerErrorMsg=function(customMessageMarkup){var messageMarkup=customMessageMarkup||CNBC_Platform_Video_Common.videoErrorMsgContainerHTML;$pdk.controller.endCurrentRelease();if(!$('#playerErrorMsg').length){$('<div id="playerErrorMsg">'+messageMarkup+'</div>').prependTo('.tpContainer');}
var wdErr=$('div.tpContainer').width();var htErr=$('div.tpContainer').height();if(IS_IPHONE&&IS_IOS8&&$("video").length){if($("video")[0].webkitDisplayingFullscreen){$("video")[0].webkitExitFullScreen();}}};CNBC_Platform_Video_Common.prototype.resetVars=function(){this.videoAirDate=null;$('div.tpContainer').show();$('#video-title').html('');$('#video-desc').html('');$('#relative-time').html('');};CNBC_Platform_Video_Common.prototype.isCurrentVideoPremium=function(){var isVideoPremium=false;if(CNBC_CurrentReleaseObj){var mediaCategories=CNBC_CurrentReleaseObj['categories'];var mediaName;if(mediaCategories&&mediaCategories.length){for(var i in mediaCategories){mediaName=mediaCategories[i].name;if(mediaName&&mediaName.toLowerCase().indexOf('cnbc/packages/premium')>0){isVideoPremium=true;break;}}}}
return isVideoPremium;};CNBC_Platform_Video_Common.prototype.getValuesFromCategorties=function(type){var subCat="";if(CNBC_CurrentReleaseObj){var mediaCategories=CNBC_CurrentReleaseObj['categories'];var mediaName,mediaSplit,subCatArr=[];if(mediaCategories&&mediaCategories.length){for(var i in mediaCategories){mediaName=mediaCategories[i].name;if(mediaName){mediaSplit=mediaName.split('/');if(mediaSplit.length&&mediaSplit[mediaSplit.length-2].toLowerCase()==type){subCatArr.push(mediaSplit[mediaSplit.length-1]);}}}}
if(subCatArr.length){subCat=subCatArr.join('|');}}
return subCat;};CNBC_Platform_Video_Common.prototype.getVideoMetaData=function(startIndex,endIndex){var self=this;if(!self.windowHistory){return;}
CNBC_Utils.getVideoMetaData(null,startIndex,endIndex);};CNBC_Platform_Video_Common.prototype.setShowName=function(){var self=this;var $watchFullEpisodes=$('#watch-full-episodes');var $watchFullEpisodesLink=$('a',$watchFullEpisodes);var $showIcon=$('span:first',$watchFullEpisodes);var showName=CNBC_CurrentReleaseObj['cnbc$program'];var show=null;if(showName){show=showName.replace(/\s+/g,"").replace(/:+/g,"").toLowerCase();}
var obj=eval(CNBC_Settings.video_gallery_config.full_episodes_links);var iconMarginTop=0;for(var key in obj[0]){if(show&&show==key){$showIcon.removeClass();$watchFullEpisodes.removeClass();$watchFullEpisodes.addClass('gradient');if(key=='fastmoney'||key=='madmoney'){$watchFullEpisodes.removeClass('gradient');}
$showIcon.addClass('icon '+obj[0][key].icon);$watchFullEpisodesLink.attr('data-trknav','videogallery:watchtve:'+key+':'+CNBC_Settings.pageNodeId);$watchFullEpisodesLink.find('#text').text('Watch Full '+showName+' Episodes');iconMarginTop=($watchFullEpisodes.height()-$showIcon.height())/2;$showIcon.css({'margin-top':iconMarginTop});$watchFullEpisodesLink.attr('href',obj[0][key].url);return;}}
$showIcon.removeClass();$watchFullEpisodes.addClass('gradient');self.setDefaultShowName();$showIcon.css({'margin-top':iconMarginTop});};CNBC_Platform_Video_Common.prototype.onError=function(customMessageMarkup){var self=this;$('.tpLayout').css({"display":"none"});self.playerErrorMsg(customMessageMarkup);};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/videoSectionFront.js */

function CNBC_Platform_Video_Section_Front(){};(function($){CNBC_Platform_Video_Section_Front.prototype=new CNBC_Platform_Video_Common();CNBC_Platform_Video_Section_Front.prototype.init=function(args){var self=this;if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){self.$playListContainer=$('#pipeline_assetlist_0');self.relativeVideos=false;self.playerId=args.playerId;self.baseFeed=args.baseFeed;self.tbBaseFeed=args.tbBaseFeed||self.tbBaseFeed;self.feedURL=self.baseFeed+"?byContent=byIsDefault%3Dtrue&sort=added|desc&form=cjson&byGuid=";self.carouselAutoPlay=args.carouselAutoPlay;self.autoPlay=false;self.pageName='video_section_front';self.errorMsgContainerHTML=args.errorMsgContainerHTML||self.errorMsgContainerHTML;self.videoErrorMsgContainerHTML=args.videoErrorMsgContainerHTML||self.videoErrorMsgContainerHTML;self.primeLogInHTML=args.PrimeLogInHTML||self.PrimeLogInHTML;self.defaultVideoId=args.defaultVideoId.toString();self.$playListContainer=args.playListContainer||self.$playListContainer;self.adblockErrorMsgContainerHTML=args.adblockErrorMsgContainerHTML||'<div class="player-error-placeholder"><div class="error-msg"><p>We’re not able to play this video if an ad blocker is enabled.</p><p>We’re working on resolving this, but in the meantime, please disable your ad blocker on CNBC and reload the page to start the video.</p></div></div>';$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.config.layoutURLFlash:playerConfig.config.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.layoutURLUniversal);}
self.loadPlayer();}
else{$('#'+self.playerId).replaceWith(self.errorMsgContainerHTML);}};CNBC_Platform_Video_Section_Front.prototype.playVideo=function($videoAnchorTag){var self=this;var nid=$videoAnchorTag.attr('data-VideoID').toString();CNBC_Utils.getNodeInfo(nid);self.playVideoReg($videoAnchorTag);};CNBC_Platform_Video_Section_Front.prototype.playVideoReg=function($videoAnchorTag){var self=this;self.resetVars();var $playListVideoContainer=$videoAnchorTag.parents('div.cnbcvideo');var $currentAsset=$videoAnchorTag.parents('div.asset');$('div.cnbcvideo').removeClass('up-next');$('div.asset.cnbcvideo').removeClass('playing');var videoId=$currentAsset.find('a[data-videoid]').attr('data-videoid').toString();var url=$videoAnchorTag.attr('href').toString();if(videoId){$currentAsset.addClass('playing');var currentIndex=$('div.asset.cnbcvideo').index($('div.asset.playing'));self.upNext=$('div.asset.cnbcvideo').eq(currentIndex+1).addClass('up-next');if(!self.upNext.length){self.upNext=$('div.asset.cnbcvideo:first').addClass('up-next');}
self.playVideoReleaseURL(videoId,$playListVideoContainer,false);}};CNBC_Platform_Video_Section_Front.prototype.setDefaultShowName=function(){var self=this;var $watchFullEpisodes=$('#watch-full-episodes');var $watchFullEpisodesLink=$('a',$watchFullEpisodes);var $showIcon=$('span:first',$watchFullEpisodes);if(CNBC_Utils.isUserPremium()){$watchFullEpisodesLink.attr('data-trknav','videogallery:watchtve:watchlive:pro:'+CNBC_Settings.pageNodeId);$showIcon.addClass('icon icon-watch-live-pro');$watchFullEpisodesLink.find('#text').text('Watch CNBC Pro Live TV');$watchFullEpisodesLink.attr('href',CNBC_Settings.baseurls.pub_base_protocol_agnostic);}
else{$watchFullEpisodesLink.attr('data-trknav','videogallery:watchtve:watchlive:'+CNBC_Settings.pageNodeId);$showIcon.addClass('icon icon-watch-live');$watchFullEpisodesLink.find('#text').text('Watch CNBC Live TV');$watchFullEpisodesLink.attr('href',CNBC_Settings.video_gallery_config.watch_live_tv);}};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/videoGallery_pro.js */

function CNBC_Platform_Video_Pro(){};(function($){CNBC_Platform_Video_Pro.prototype=new CNBC_Platform_Video_Common();CNBC_Platform_Video_Pro.prototype.proServiceFeed='';CNBC_Platform_Video_Pro.prototype.isPremiumUser=false;CNBC_Platform_Video_Pro.prototype.isPremiumLogInMsg=false;CNBC_Platform_Video_Pro.prototype.init=function(args){var interValLimitCount=0;var interValLimit=120;var carouselReadyInterval=setInterval(function(){if(++interValLimitCount>=interValLimit){clearInterval(carouselReadyInterval);}
if(CNBC_Platform_Video_Common.relatedVideoContanier.find('.mask').length&&CNBC_Platform_Video_Common.premiumTabDataContainer.length&&CNBC_Platform_Video_Common.premiumTabDataContainer.find('.mask').length&&!$('#pro_video_overlay').length){CNBC_Platform_Video_Gallery.videoObj.getVideoMetaData();clearInterval(carouselReadyInterval);}},500);var self=this;if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){self.relativeVideos=args.relativeVideos;self.playerId=args.playerId;self.baseFeed=args.baseFeed;self.tbBaseFeed=args.tbBaseFeed||self.tbBaseFeed;self.feedURL=self.baseFeed+"?byContent=byIsDefault%3Dtrue&sort=added|desc&form=cjson&byGuid=";self.carouselAutoPlay=args.carouselAutoPlay;self.errorMsgContainerHTML=args.errorMsgContainerHTML||self.errorMsgContainerHTML;self.videoErrorMsgContainerHTML=args.videoErrorMsgContainerHTML||self.videoErrorMsgContainerHTML;self.defaultVideoId=args.defaultVideoId.toString();self.$playListContainer=args.playListContainer||self.$playListContainer;self.proServiceFeed=args.premiumFeedUrl;self.videoPremium=args.premiumContent;self.marketingPageURL=args.marketingPageURL;self.adblockErrorMsgContainerHTML=args.adblockErrorMsgContainerHTML||'<div class="player-error-placeholder"><div class="error-msg"><p>We’re not able to play this video if an ad blocker is enabled.</p><p>We’re working on resolving this, but in the meantime, please disable your ad blocker on CNBC and reload the page to start the video.</p></div></div>';var proTabData=args.proTabData||false;if(parseInt(proTabData)){if((location.href.indexOf('?video=')<0)||self.videoPremium){self.isVideoPro=true;$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.globalConfig.premium.layoutURLFlash:playerConfig.globalConfig.premium.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.globalConfig.premium.layoutURLUniversal);}}else{self.isVideoPro=false;$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.config.layoutURLFlash:playerConfig.config.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.layoutURLUniversal);}}}else{if(self.videoPremium){self.isVideoPro=true;$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.globalConfig.premium.layoutURLFlash:playerConfig.globalConfig.premium.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.globalConfig.premium.layoutURLUniversal);}}else{self.isVideoPro=false;$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.config.layoutURLFlash:playerConfig.config.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.layoutURLUniversal);}}}}
else{$('#'+self.playerId).replaceWith(self.errorMsgContainerHTML);}};CNBC_Platform_Video_Pro.prototype.getTokenWithPro=function(status){if(status=='success'){var bdToken=CNBC_Utils.readData('bedrockAccessToken');if(bdToken){CNBC_Platform_Video_Gallery.videoObj.callProService(bdToken);}else{CNBC_Premium.fetchAccessToken({callback:function(data){CNBC_Platform_Video_Gallery.videoObj.callProService(data);}});}}else{window.location.href=CNBC_Platform_Video_Gallery.videoObj.marketingPageURL;}};CNBC_Platform_Video_Pro.prototype.callProService=function(token){var self=this;if(token!=null&&token!=""){var url=self.proServiceFeed+token;self.getPremiumVideos(this,url,self.populateProItems);}else{self.populateProItems(token);}};CNBC_Platform_Video_Pro.prototype.getPremiumVideos=function(thisObj,url,callback){$.ajax({url:url,dataType:'jsonp',jsonpCallback:'proVideoHandler',cache:false,async:true,success:function(data){callback.apply(thisObj,[data]);},error:function(){callback.apply(thisObj);},fail:function(){callback.apply(thisObj);}});};CNBC_Platform_Video_Pro.prototype.populateProItems=function(data){var self=this;if(data!=null&&data.tab_data!=""){CNBC_Platform_Video_Common.premiumTabDataContainer.html(data.tab_name);CNBC_Platform_Video_Common.premiumTabDataContainer.append(data.tab_data);var premiumVideoTabTitle='pro'+CNBC_Platform_Video_Common.premiumTabDataContainer.find('.tabTitle').text().replace(/\s+/g,'').toLowerCase();var myCarousel_tab_pro_video=new CNBC_Carousel3();myCarousel_tab_pro_video.init({itemsPerPage:5,itemsPerTransition:5,swipable:true,speed:500,nextPrevLinks:true,container:CNBC_Platform_Video_Common.premiumTabDataContainerName,currentNodeClass:'currentNode',lazyLoad:true,lazyLoadNext:true,nextItemCallback:function(){s.linkTrackVars='eVar48,prop48';s.eVar48='videogallerycarousel:'+premiumVideoTabTitle+':right:'+CNBC_Settings.pageNodeId;s.prop48='videogallerycarousel:'+premiumVideoTabTitle+':right:'+CNBC_Settings.pageNodeId;s.tl(true,'o','Video Gallery Carousel Module',null,'navigate');s.manageVars("clearVars");},prevItemCallback:function(){s.linkTrackVars='eVar48,prop48';s.eVar48='videogallerycarousel:'+premiumVideoTabTitle+':left:'+CNBC_Settings.pageNodeId;s.prop48='videogallerycarousel:'+premiumVideoTabTitle+':left:'+CNBC_Settings.pageNodeId;s.tl(true,'o','Video Gallery Carousel Module',null,'navigate');s.manageVars("clearVars");}});CNBC_Carousel3.Objs.push(myCarousel_tab_pro_video);}else{CNBC_Platform_Video_Common.premiumTabDataContainer.remove();}
if(location.pathname=='/video/'&&$('a[data-VideoID]:first',CNBC_Platform_Video_Common.premiumTabDataContainer).length){self.defaultVideoId=$('a[data-VideoID]:first',CNBC_Platform_Video_Common.premiumTabDataContainer).attr('data-VideoID');self.resetVars();self.setVideoMetaData();self.setShowName();setTimeout(function(){if(typeof dotObjTitle=='undefined'){var dotObjTitle=new CNBC_Ellipsis();}
if(typeof dotObjDesc=='undefined'){var dotObjDesc=new CNBC_Ellipsis();}
var vidoeMetaDataheight=$('#video-meta-data').height();var videoTitleLineHeight=parseInt($('#video-title').css('line-height'));var videoTitleMaxHeight=videoTitleLineHeight*3;var videoTitleHeight=$('#video-title').height();if(videoTitleHeight>videoTitleMaxHeight){var dotObjTitle=new CNBC_Ellipsis();dotObjTitle.init({container:'video-title',height:videoTitleMaxHeight+10});}
var videoDescHeight=vidoeMetaDataheight-$('#video-desc').position().top;var dotObjDesc=new CNBC_Ellipsis();dotObjDesc.init({container:'video-desc',height:videoDescHeight});},1000);}
self.loadPlayer();$('#pro_video_overlay').remove();};CNBC_Platform_Video_Pro.prototype.playVideoPro=function($videoAnchorTag){var self=this;var previousVideoType=currentvideoType="";var $playListVideoContainer=$videoAnchorTag.parents('li:first');var $playingAsset=$('div.asset.playing');if($playingAsset.length&&$('div.headline a',$playingAsset).attr('data-videotype')){previousVideoType=$('div.headline a',$playingAsset).attr('data-videotype').toString();}else{if(self.videoPremium){self.isVideoPro=true;previousVideoType=2;}}
var url=$videoAnchorTag.attr('href').toString();if($('div.headline a',$playListVideoContainer).attr('data-videotype')){currentvideoType=$('div.headline a',$playListVideoContainer).attr('data-videotype').toString();}
if(previousVideoType!=currentvideoType){window.location.href=url;return;}
self.playVideoReg($videoAnchorTag);};CNBC_Platform_Video_Pro.prototype.setDefaultShowName=function(){var $watchFullEpisodes=$('#watch-full-episodes');var $watchFullEpisodesLink=$('a',$watchFullEpisodes);var $showIcon=$('span:first',$watchFullEpisodes);$watchFullEpisodesLink.attr('data-trknav','videogallery:watchtve:watchlive:pro:'+CNBC_Settings.pageNodeId);$showIcon.addClass('icon icon-watch-live-pro');$watchFullEpisodesLink.find('#text').text('Watch CNBC Pro Live TV');$watchFullEpisodesLink.attr('href',CNBC_Settings.baseurls.pub_base_protocol_agnostic);};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/videoGallery_npro.js */

function CNBC_Platform_Video(){};(function($){CNBC_Platform_Video.prototype=new CNBC_Platform_Video_Common();CNBC_Platform_Video.prototype.init=function(args){var self=this;if(typeof $pdk!='undefined'&&$pdk&&$pdk.controller){var carouselReadyInterval=setInterval(function(){if(CNBC_Platform_Video_Common.relatedVideoContanier.find('.mask').length){CNBC_Platform_Video_Gallery.videoObj.getVideoMetaData();clearInterval(carouselReadyInterval);}},500);self.relativeVideos=args.relativeVideos;self.playerId=args.playerId;self.baseFeed=args.baseFeed;self.tbBaseFeed=args.tbBaseFeed||self.tbBaseFeed;self.feedURL=self.baseFeed+"?byContent=byIsDefault%3Dtrue&sort=added|desc&form=cjson&byGuid=";self.carouselAutoPlay=args.carouselAutoPlay;self.errorMsgContainerHTML=args.errorMsgContainerHTML||self.errorMsgContainerHTML;self.videoErrorMsgContainerHTML=args.videoErrorMsgContainerHTML||self.videoErrorMsgContainerHTML;self.primeLogInHTML=args.PrimeLogInHTML||self.PrimeLogInHTML;self.defaultVideoId=args.defaultVideoId.toString();self.$playListContainer=args.playListContainer||self.$playListContainer;self.adblockErrorMsgContainerHTML=args.adblockErrorMsgContainerHTML||'<div class="player-error-placeholder"><div class="error-msg"><p>We’re not able to play this video if an ad blocker is enabled.</p><p>We’re working on resolving this, but in the meantime, please disable your ad blocker on CNBC and reload the page to start the video.</p></div></div>';$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.config.layoutURLFlash:playerConfig.config.layoutURLHTML5);if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.layoutURLUniversal);}
self.loadPlayer();}
else{$('#'+self.playerId).replaceWith(self.errorMsgContainerHTML);}};CNBC_Platform_Video.prototype.setDefaultShowName=function(){var $watchFullEpisodes=$('#watch-full-episodes');var $watchFullEpisodesLink=$('a',$watchFullEpisodes);var $showIcon=$('span:first',$watchFullEpisodes);$watchFullEpisodesLink.attr('data-trknav','videogallery:watchtve:watchlive:'+CNBC_Settings.pageNodeId);$showIcon.addClass('icon icon-watch-live');$watchFullEpisodesLink.find('#text').text('Watch CNBC Live TV');$watchFullEpisodesLink.attr('href',CNBC_Settings.video_gallery_config.watch_live_tv);};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/libraries/scroll/viewabilitySectionFrontGallery.js */

viewabilitySectionFrontGallery={};viewabilitySectionFrontGallery.releaseInitiatedByClick=false;viewabilitySectionFrontGallery.ISAD=false;$pdk.controller.addEventListener('OnMediaStart',function(event){viewabilitySectionFrontGallery.ISAD=event.data.baseClip.isAd;viewabilitySectionFrontGallery.init();});$pdk.controller.addEventListener('OnMediaPause',function(event){viewabilitySectionFrontGallery.releaseInitiatedByClick=event.data.userInitiated;});viewabilitySectionFrontGallery.init=function(args){var self=this;if(self.ISAD){if(CNBC_Utils.isPageVisible){if(!self.releaseInitiatedByClick){$pdk.controller.pause(false);}}
else{$pdk.controller.pause(true);}}
$.fn.scrollEnd=function(callback,timeout){$(this).scroll(function(){var $this=$(this);if($this.data('scrollTimeout')){clearTimeout($this.data('scrollTimeout'));}
$this.data('scrollTimeout',setTimeout(callback,timeout));});};self.initEvents();};viewabilitySectionFrontGallery.providerForTimerViweability=function($selector,event){var self=this;$selector.each(function(){$(this).pietimer(event);});};viewabilitySectionFrontGallery.initEvents=function(){var self=this;$(window).bind('focus',function(){CNBC_Utils.isPageVisible=true;if(!self.releaseInitiatedByClick&&self.ISAD){$pdk.controller.pause(false);}
self.providerForTimerViweability($("div[id^='timer']"),'resume');}).bind('blur',function(){CNBC_Utils.isPageVisible=false;if(self.ISAD){$pdk.controller.pause(true);}
self.providerForTimerViweability($("div[id^='timer']"),'pause');});$(window).scrollEnd(function(){var topOfElement,bottomOfElement,element,flag=false;var scrollTopPosition=$(window).scrollTop()+$(window).height();var windowScrollTop=$(window).scrollTop();$(".tpContainer").each(function(i){topOfElement=$(this).offset().top;bottomOfElement=$(this).offset().top+$(this).outerHeight(true);if(windowScrollTop>bottomOfElement-($(this).outerHeight(true)/2)&&windowScrollTop>topOfElement){if(self.ISAD){if(CNBC_Platform_Video_Gallery.videoObj.container!=undefined&&CNBC_Platform_Video_Gallery.videoObj.playertype!="article-tray"){if(!CNBC_Platform_Video_Gallery.videoObj.container.attr('data-dockable')){$pdk.controller.pause(true);}
else if(CNBC_Platform_Video_Gallery.videoObj.playertype=="article-tray"){if(!CNBC_Platform_Video_Gallery.videoObj.container.find('div.cnbcvideo').first().attr('data-dockable')&&!(CNBC_Platform_Video_Gallery.videoObj.container.find('div.cnbcvideo').first().attr('data-dockable')==1)){$pdk.controller.pause(true);}}}
else{$pdk.controller.pause(true);}}
viewabilitySectionFrontGallery.providerForTimerViweability($("div[id^='timer']"),'pause');}else if(scrollTopPosition<topOfElement+($(this).outerHeight(true)/2)&&scrollTopPosition<bottomOfElement){if(self.ISAD){$pdk.controller.pause(true);}
self.providerForTimerViweability($("div[id^='timer']"),'pause');}
else{if(!self.releaseInitiatedByClick){if(self.ISAD){$pdk.controller.pause(false);}}
self.providerForTimerViweability($("div[id^='timer']"),'resume');}});},100);};
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/iframetojs/videoPlayBack.js */

function CNBC_Platform_Video_Desktop_Inline(){};(function($){CNBC_Platform_Video_Desktop_Inline.prototype=new CNBC_Platform_Video_Common();CNBC_Platform_Video_Desktop_Inline.prototype.playertype='inline';CNBC_Platform_Video_Desktop_Inline.prototype.defaultLoaderHeight=36;CNBC_Platform_Video_Desktop_Inline.prototype.$playerLazyLoadedMobile=null;CNBC_Platform_Video_Desktop_Inline.prototype.$tpContainer=null;CNBC_Platform_Video_Desktop_Inline.prototype.$player=null;CNBC_Platform_Video_Desktop_Inline.prototype.$loaderOverlayMobile=null;CNBC_Platform_Video_Desktop_Inline.prototype.$cnbcVideo=null;CNBC_Platform_Video_Desktop_Inline.prototype.playingVideoId=null;CNBC_Platform_Video_Desktop_Inline.prototype.containerId=null;CNBC_Platform_Video_Desktop_Inline.prototype.playerDataVal=[];CNBC_Platform_Video_Desktop_Inline.prototype._clipData=null;CNBC_Platform_Video_Desktop_Inline.prototype.fireReleaseEvent=false;CNBC_Platform_Video_Desktop_Inline.prototype.onPlayerLoad=false;CNBC_Platform_Video_Desktop_Inline.prototype.VideoID=false;CNBC_Platform_Video_Desktop_Inline.prototype.currAsset=null;CNBC_Platform_Video_Desktop_Inline.prototype.timerCounter=0;CNBC_Platform_Video_Desktop_Inline.prototype.$timerCurrentSelector=null;CNBC_Platform_Video_Desktop_Inline.prototype.$clone=null;CNBC_Platform_Video_Desktop_Inline.prototype.gigyaContainer=null;CNBC_Platform_Video_Desktop_Inline.prototype.$ccFlag=null;CNBC_Platform_Video_Desktop_Inline.prototype.$ccDefaults=null;var delayWindowResize;CNBC_Platform_Video_Desktop_Inline.prototype.playerResizeFix=function(){if($pdk.controller._env._component_runtime=="html5"||CNBC_Utils.isUniversalVODPlayer()||(typeof Event!="function")){delayWindowResize=true;var resizeEvent=CNBC_Utils.createEvent('resize');window.dispatchEvent(resizeEvent);}};CNBC_Platform_Video_Desktop_Inline.prototype.init=function(args){var self=this;self.autoPlay=false;self.windowHeight=$(window).height();self.windowWidth=$(window).width();self.playerController=$pdk.controller;if(typeof $pdk!='undefined'&&$pdk&&self.playerController){self.playerId=args.playerId;self.baseFeed=args.baseFeed;self.tbBaseFeed=args.tbBaseFeed||self.tbBaseFeed;self.feedURL=self.baseFeed+"?byContent=byIsDefault%3Dtrue&sort=added|desc&form=cjson&byGuid=";self.carouselAutoPlay=false;self.mobileView=true;self.autoPlay=false;self.errorMsgContainerHTML=args.errorMsgContainerHTML||self.errorMsgContainerHTML;self.videoErrorMsgContainerHTML=args.videoErrorMsgContainerHTML||self.videoErrorMsgContainerHTML;self.primeLogInHTML=args.PrimeLogInHTML||self.PrimeLogInHTML;self.marketingPageURL=args.marketingPageURL;self.adblockErrorMsgContainerHTML=args.adblockErrorMsgContainerHTML||'<div class="player-error-placeholder"><div class="error-msg"><p>We’re not able to play this video if an ad blocker is enabled.</p><p>We’re working on resolving this, but in the meantime, please disable your ad blocker on CNBC and reload the page to start the video.</p></div></div>';self.defaultVideoId=$('div.cnbcvideo:first').find('a:first').attr('data-videoId');playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig["inline"]);self.cacheObjects();self.setPlayerLayout();self.setDockablePlayerContainer();self.loadPlayer();self.getVideoMetaData();self.playerResizeFix();}else{self.playerErrorMsg();}};CNBC_Platform_Video_Desktop_Inline.prototype.setPlayerLayout=function(){var self=this;$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.config.layoutURLFlash:playerConfig.config.layoutURLHTML5);if(typeof CNBC_node_classification==='string'&&CNBC_node_classification=='premium'){$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.globalConfig.premium.layoutURLFlash:playerConfig.globalConfig.premium.layoutURLHTML5);}else if($('#page_quote_custom_redesign').length){$('#'+self.playerId).attr('tp:layoutUrl',($pdk.env.Detect.getInstance().hasFlash())?playerConfig.globalConfig.quote.layoutURLFlash:playerConfig.globalConfig.quote.layoutURLHTML5);}
if(CNBC_Utils.isUniversalVODPlayer()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.layoutURLUniversal);if(typeof CNBC_node_classification==='string'&&CNBC_node_classification=='premium'){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.globalConfig.premium.layoutURLUniversal);}else if($('#page_quote_custom_redesign').length){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.globalConfig.quote.layoutURLUniversal);}
if(CNBC_Utils.isMobile()){$('#'+self.playerId).attr('tp:layoutUrl',playerConfig.config.mobilelayoutURLUniversal);}}};CNBC_Platform_Video_Desktop_Inline.prototype.cacheObjects=function(){var self=this;self.$cnbcVideo=$('div.cnbcvideo');self.$assetcnbcVideo=$('div.asset.cnbcvideo');self.$loaderOverlayMobile=$("div.loaderOverlayMobile");self.$playerLazyLoadedMobile=$("div.player-lazy-loaded-mobile");if(CNBC_Utils.isSafari11()||CNBC_Utils.isCNBCReferrerWithChrome64()){$('div.cnbcvideo').removeAttr('data-autoplay');}
self.$these=$('div.cnbcvideo[data-autoplay="1"]').first();self.$tpContainer=$('div.tpContainer');self.$player=$("#player");self.$livePlayer=$('#live_player');self.$ccFlag=self.$player.attr('tp:ccflag');self.$ccDefaults=JSON.parse(self.$player.attr('tp:ccdefaults'));self.$livePlayerUniveral=$('#live_player_universal');};CNBC_Platform_Video_Desktop_Inline.prototype.isAd=function(){var self=this;return(self._clipData&&self._clipData.baseClip&&self._clipData.baseClip.isAd);};CNBC_Platform_Video_Desktop_Inline.prototype.hidePlayer=function(){var self=this;$('#playerEmptyContainer').remove();$('#playerErrorMsg').remove();$('div.loaderOverlayMobile').css({"opacity":0,left:'-3000px',top:'-3000px'});if(cnbc.vod.dockable&&cnbc.vod.dockable.isPlayerDocked()){self.$playerLazyLoadedMobile.css({left:'-3000px'});}else{self.$playerLazyLoadedMobile.css({"opacity":0,left:'-3000px'});}};CNBC_Platform_Video_Desktop_Inline.prototype.resizePlayer=function(flag){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;var wd,ht,$playerEmptyContainer=null,resizeht;$('#playerEmptyContainer').remove();if(container&&container.length){wd=container.width();if(self.playertype=='article-tray'){ht=container.outerHeight();}else if(container.hasClass('headlineFirst')){wd=container.find('img').width();ht=container.find('img').height();self.$playerLazyLoadedMobile.css({'width':wd,'height':ht});}else{ht=container.outerHeight();}
self.$tpContainer.css({'width':wd,'height':ht});$('#player').css({'width':wd,'height':ht});if($('div.loaderOverlayMobile').length){resizeht=(ht-self.defaultLoaderHeight)/2;self.$loaderOverlayMobile.css({'width':wd,'padding-top':resizeht,'padding-bottom':resizeht});if(flag){self.$loaderOverlayMobile.css({'opacity':0.7});}}
if(cnbc.vod.dockable&&cnbc.vod.dockable.isPlayerDocked()){}else{if(!self.isAdblockMessageNeeded()){self.$playerLazyLoadedMobile.css({'opacity':0});}
self.$playerLazyLoadedMobile.css({left:'-3000px'});}
self.$loaderOverlayMobile.css({'top':self.posTop,'left':self.posLeft});self.positionPlayer();}};CNBC_Platform_Video_Desktop_Inline.prototype.positionPlayer=function(){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;if(container&&container.length){var containerPosition=container.position();if(self.posTop!=containerPosition.top||self.posLeft!=containerPosition.left){self.posTop=containerPosition.top+parseInt(container.css('margin-top'));self.posLeft=containerPosition.left;if($('body').attr('id')=='page_home_page_ng'){if(container.hasClass('headlineFirst')){var promoCardImg=container.find('img');self.posTop=container.position().top+promoCardImg.position().top+parseInt(promoCardImg.css('margin-top'));}}
self.$loaderOverlayMobile.css({'top':self.posTop,'left':self.posLeft});if(cnbc.vod.dockable&&cnbc.vod.dockable.isPlayerDocked()){}else{self.$playerLazyLoadedMobile.css({'top':self.posTop,'left':self.posLeft});}
if(self.$playerLazyLoadedMobile.css('opacity')==0){self.$playerLazyLoadedMobile.css({left:'-3000px'});}
if(self.$loaderOverlayMobile.css('opacity')==0){self.$loaderOverlayMobile.css({left:'-3000px'});}}}};CNBC_Platform_Video_Desktop_Inline.prototype.endCard=function(){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;var guid=CNBC_CurrentReleaseObj.guid;if(!guid){guid=$('a[data-VideoID]:first',container).attr('data-VideoID');}
if(self.$clone==null){self.$clone=$(cnbc_html["cnbc-end"]).clone();$("div.cnbc-end",container).remove();self.$clone.appendTo(container);}else{self.hidePlayer();$("div.cnbc-end",container).show();}
$.data($("div.cnbc-end-replay",container).attr("vid",guid));$('div.cnbc-end-replay',container).html(CNBC_Utils.videoReleaseObjs[guid].title);self.getRelativeVideos($("div.cnbc-end-replay",container).attr("vid"),function(relVideo){var container=(self.containerId)?$('#'+self.containerId):null;if(relVideo){PDKRelatedItemsData.load(playerConfig.config.feedServiceURL,relVideo);}else{$('div.partitiondivsecond',container).remove();$('div.partitiondivfirst',container).css({'width':'100%','border-right':0});}});var playerUrl=null;if(CNBC_CurrentReleaseObj.cnbc$seourl!=null&&CNBC_CurrentReleaseObj.cnbc$seourl!=undefined){playerUrl=PDKUtils.prependDocumentProtocolForSeoURL(CNBC_CurrentReleaseObj.cnbc$seourl);}else{playerUrl=CNBC_Utils.prependDocumentProtocol(CNBC_Settings.baseurls.cnbcvideo_url_base)+guid;}
$("div.cnbc-end-share-url",container).text(playerUrl);var $socialTools=$('#'+self.containerId+' #social_tools_player').attr('id','social_tools_'+self.containerId);gigyaShare('social_tools_'+self.containerId);PDKRelatedItemsData.setEntriesCallback(function(entries){var entry=entries[0];var container=$('#'+self.containerId);CNBC_Utils.videoReleaseObjs[entry.guid]=entry;++self.timerCounter;var $cnbc_end_thumb=$('#'+self.containerId+' div.cnbc-end-carosel-img-holder');var $timer=$('[id^="timer"]',self.container).attr('id','timer_'+self.containerId);self.$timerCurrentSelector=$timer;var $cancel=$('#'+self.containerId+' div.cancel');var imgThumbnail=entry.defaultThumbnailUrl;if(!imgThumbnail&&entry.thumbnails.length){for(i=0;i<entry.thumbnails.length;i++){if(entry.thumbnails[i].url){imgThumbnail=entry.thumbnails[i].url;break;}}}
cnbc.vod.notifier.publish(cnbc.vod.events.player.ON_PASS_NEXT_ENTRY,entry);$timer.pietimer({timerSeconds:playerConfig.config.timer,width:28,color:'#ccc',fill:'#ccc',showPercentage:false,callback:function(){if(!$cancel.data("clicked")&&$('#'+self.containerId+' div.cnbc-end').length){var $endCardContainer=$cancel.parents('div.cnbc-end');var tbNotifyURL=$('div.video-overlay',$cancel.parent()).attr('tb-notify-click');self.fireNetworkCall(tbNotifyURL);$timer.pietimer('reset');self.$clone=null;self.resizePlayer(true);self.releaseSetByClick=releaseInitiatedByClick=false;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=true;CNBC_CurrentReleaseObj=entry;CNBC_Utils.getNodeInfo(CNBC_CurrentReleaseObj.guid);CNBCReleaseURL.set(CNBC_CurrentReleaseObj.content[0].url);$('div.cnbc-end').show();$endCardContainer.hide();}}});if(!CNBC_Utils.isPageVisible){$timer.pietimer('pause');}
$cnbc_end_thumb.css("backgroundImage","url("+imgThumbnail+")");$('#'+self.containerId+' div.overlay').attr("nextVid",entry.guid);$('#'+self.containerId+' div.video-overlay').attr("nextVid",entry.guid);$('#'+self.containerId+' div.cnbc-end-next-video-title').text(entry.title);});};CNBC_Platform_Video_Desktop_Inline.prototype.getRelativeVideos=function(vid,callback){var self=this;var tbFeed=null;var tbNotifyURL="";var tbSession=null;var maxRecCount=1;var tbUserSession="init";var appType="web";var encodedURL=encodeURIComponent(playerConfig.config.playerURL.replace(/\{guid\}/gi,vid));for(var property in playerConfig.config.getFeed){if(property.match("taboola")){tbFeed=playerConfig.config.getFeed[property].replace('{vid}',vid);}}
tbFeed=tbFeed.replace('{maxRecCount}',maxRecCount);tbFeed=tbFeed.replace('{appType}',appType);if(self.tbSession){tbUserSession=tbSession;}
tbFeed=tbFeed.replace('{tbUserSession}',tbUserSession);tbFeed=tbFeed.replace('{encodedURL}',encodedURL);$.ajaxSetup({cache:false});try{if(!ISIE9){tbFeed=PDKUtils.removeUrlParam(tbFeed,'rec.callback');tbFeed=PDKUtils.removeUrlParam(tbFeed,'callback');$.getJSON(tbFeed).done(function(data){if(data&&data.list.length>0){tbSession=data.session;tbNotifyURL=data.list[0].url;$('#'+self.containerId+' div.video-overlay').attr('tb-notify-click',tbNotifyURL);var relVid=data.list[0].id;callback(relVid);}else{callback();}}).fail(function(){callback();}).error(function(){callback();});}else{var jsonpCallback=PDKUtils.urlParam('rec.callback',tbFeed);$.ajax({type:"GET",url:tbFeed,jsonpCallback:jsonpCallback,dataType:"jsonp",success:function(data){if(data&&data.list.length>0){tbSession=data.session;tbNotifyURL=data.list[0].url;$('#'+self.containerId+'div.video-overlay').attr('tb-notify-click',tbNotifyURL);var relVid=data.list[0].id;callback(relVid);}else{callback();}}});}}catch(e){callback();}};CNBC_Platform_Video_Desktop_Inline.prototype.setPlayertype=function($VideoContainer){var self=this;self.playertype='inline';if($VideoContainer.attr('playertype')){self.playertype=$VideoContainer.attr('playertype');}else if(CNBC_Utils.isVideoSectionFront()){self.playertype='section_front';}
if($VideoContainer.attr('data-VideoType')==2){self.playertype='premium';}
playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig[self.playertype]);};CNBC_Platform_Video_Desktop_Inline.prototype.setDockablePlayerContainer=function(){var self=this;if(CNBC_Settings.dockPlayer&&!CNBC_Utils.isTablet()){cnbc.vod.dockable.init({playerDomElement:self.$playerLazyLoadedMobile});var $firstFeaturedPromoContainer=$('div.featuredPromo.cnbcvideo:first');if($firstFeaturedPromoContainer.length){$firstFeaturedPromoContainer.attr('data-dockable','1');}}};CNBC_Platform_Video_Desktop_Inline.prototype.playback=function($VideoContainer){var self=this;var currentVideoid=$('a[data-VideoID]:first',$VideoContainer).attr('data-VideoID');self.fireReleaseEvent=true;self.VideoID=currentVideoid;if($VideoContainer.parents('#top_section_carousel').length&&currentVideoid){window.location.href=CNBC_Settings.baseurls.cnbcvideo_url_base+currentVideoid;return;}
self.$playerLazyLoadedMobile.css('opacity','1');$('div.cnbc-end-mobile').show();self.playertype='inline';if($VideoContainer.attr('playertype')){self.playertype=$VideoContainer.attr('playertype');}else if(CNBC_Utils.isVideoSectionFront()){self.playertype='section_front';}
if($VideoContainer.attr('data-VideoType')==2){self.playertype='premium';}
playerConfig.config=$.extend(true,{},playerConfig.defaultConfig,playerConfig.globalConfig[self.playertype]);var $carouselContainer=$VideoContainer.parents('div.carousel-player');self.$assetcnbcVideo.removeClass('up-next');self.$assetcnbcVideo.removeClass('playing');if($carouselContainer.length){self.containerId=$VideoContainer.parents('div.carousel-player').find('.cnbcvideo.featuredPromo').attr('id');self.playertype="article-tray";self.carouselAutoPlay=true;if($VideoContainer.parent().attr('class')!="carousel-player"){$VideoContainer.addClass('playing');if($VideoContainer.parents('li').next().length){$VideoContainer.parents('li').next().find('div.asset.cnbcvideo').addClass('up-next');}}else{$('li:first div.asset.cnbcvideo',$carouselContainer).addClass('playing');$('li:first',$carouselContainer).next().find('div.asset.cnbcvideo').addClass('up-next');}}else{self.containerId=$VideoContainer.attr('id');if($('body').attr('id')!='page_home_page_ng'){$VideoContainer.css('padding-top','56.25%');}}
var thisVideoPromoCard=null;if(self.playertype=='article-tray'){thisVideoPromoCard=$('#'+self.containerId);}else{thisVideoPromoCard=$VideoContainer;}
if(!thisVideoPromoCard.attr('data-dockable')){if(cnbc.vod.dockable.isPlayerDocked()){cnbc.vod.dockable.undock();}
cnbc.vod.dockable.disable();}
self.resizePlayer(true);if(self.isAdblockMessageNeeded()){self.onError(self.adblockErrorMsgContainerHTML);return false;}
if(self.onPlayerLoad){self.playVideoId(currentVideoid);}};CNBC_Platform_Video_Desktop_Inline.prototype.initEvents=function(){var self=this;self.initPlayerEvents();var observerTimeOut=600;if(typeof CNBC_node_classification==='string'&&CNBC_node_classification=='premium'){observerTimeOut=1500;}
var observer=new MutationObserver(function(){CNBC_Platform_Video_Desktop_Inline.prototype.positionPlayer.apply(self);});observer.observe(document.getElementById('cnbc-contents'),{childList:true,subtree:true});setTimeout(function(){observer.disconnect();},observerTimeOut*1000);if(self.$these.length&&!CNBC_Utils.isTablet()){self.releaseSetByClick=releaseInitiatedByClick=false;self.playback(self.$these);}
$('body').on('click','div.cnbcvideo',function(e){if(!$(this).parents('div.inline-player').length&&!$(this).parents('div.carousel-player').length){return true;}
e.preventDefault();CNBC_Utils._player_load_start_time=(new Date()).getTime();$("div.cnbc-end").css('display','block');if($('#'+self.containerId+' div.timer').length){$('#'+self.containerId+' div.timer').pietimer('reset');$('#'+self.containerId+' div.video-cancel').hide();}
self.$clone=null;self.releaseSetByClick=releaseInitiatedByClick=true;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=false;self.playback($(this));return false;});$(window).resize(function(e){var container=(self.containerId)?$('#'+self.containerId):null;$('#playerEmptyContainer').remove();if(container&&container.length){var resizewd,resizeht=null;resizewd=container.width();self.$playerLazyLoadedMobile.width(container.width());if(container.hasClass('headlineFirst')){resizewd=container.find('img').width();resizeht=container.find('img').height();}else{resizeht=container.outerHeight();}
if($('body').attr('id')=='page_home_page_ng'){self.$playerLazyLoadedMobile.css({'width':resizewd,'height':resizeht});}
self.$tpContainer.css({'width':resizewd,'height':resizeht});$('#player').css({'width':resizewd,'height':resizeht});self.positionPlayer();}});$('body').on('click','div.overlay',function(e){var container=(self.containerId)?$('#'+self.containerId):null;e.stopPropagation();self.$clone=null;if($('#'+self.containerId+' div.timer').length){$('#'+self.containerId+' div.timer').pietimer('reset');}
$('#playerErrorMsg').remove();self.releaseSetByClick=releaseInitiatedByClick=true;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=false;var $endCardContainer=$(this).parents("div.cnbc-end");container=$endCardContainer.parents('div.cnbcvideo');self.containerId=container.attr('id');self.setPlayertype(container);self.$assetcnbcVideo.removeClass('up-next');self.$assetcnbcVideo.removeClass('playing');var tbNotifyURL=$(this).attr('tb-notify-click');self.fireNetworkCall(tbNotifyURL);if(!container.attr('data-dockable')){if(cnbc.vod.dockable.isPlayerDocked()){cnbc.vod.dockable.undock();}
cnbc.vod.dockable.disable();}
self.resizePlayer(true);$('div.cnbc-end-replay',$endCardContainer).attr('vid',$(this).attr("nextVid"));self.playVideoId($(this).attr("nextVid"));$('div.cnbc-end').show();$endCardContainer.hide();});$('body').on('click','[gigid="showShareBarUI"]',function(e){e.stopPropagation();self.gigyaContainer=this;});$('body').on('click','div.cnbc-end-replay',function(e){var container=(self.containerId)?$('#'+self.containerId):null;e.stopPropagation();$('#playerErrorMsg').remove();$('div.asset.cnbcvideo').removeClass('up-next');$('div.asset.cnbcvideo').removeClass('playing');if($('#'+self.containerId+' div.timer').length){$('#'+self.containerId+' div.timer').pietimer('reset');}
self.$clone=null;self.releaseSetByClick=releaseInitiatedByClick=true;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=false;self.fireOmnitureCall('video end card','video:endcard:replay:'+$(this).attr("vid"));var $endCardContainer=$(this).parents("div.cnbc-end");container=$endCardContainer.parents('div.cnbcvideo');self.containerId=container.attr('id');self.setPlayertype(container);self.posTop=$endCardContainer.position().top;self.posLeft=$endCardContainer.position().left;self.playerWidth=$endCardContainer.width();self.playerHeight=$endCardContainer.height();if(!container.attr('data-dockable')){if(cnbc.vod.dockable.isPlayerDocked()){cnbc.vod.dockable.undock();}
cnbc.vod.dockable.disable();}
self.resizePlayer(true);self.playVideoId($(this).attr("vid"));$('div.cnbc-end').show();$endCardContainer.hide();});$('body').on('click','div.video-cancel',function(e){e.stopPropagation();var guid=$(this).parents('div.cnbc-end').find('div.cnbc-end-replay').attr('vid');var OmniProp48='video:endcard:cancel:'+guid;var OmniPev2='video end card';e.preventDefault();self.releaseSetByClick=releaseInitiatedByClick=true;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=false;var $timer=$(this).parent().find('div.timer');$timer.pietimer('reset');$(this).data("clicked",true);$(this).hide();if(cnbc.vod.dockable.isPlayerDocked()){OmniPev2='video docked';OmniProp48='video:docked:cancel:'+guid;}
self.fireOmnitureCall(OmniPev2,OmniProp48);});$('body').on('click','div.cnbc-card',function(e){e.stopPropagation();});var ccobj={};$(document).on('click','div.tpContainer .apply',function(){for(var prop in self.$ccDefaults){ccobj[prop]=self.$ccDefaults[prop];}
self.hasCCFlag=$('input[name="radios"]:checked').val();ccobj.globalDataType="com.theplatform.pdk.data::SubtitleStyle";ccobj.fontFamily=$('.customdropdown option:selected').val();ccobj.fontColor=$('input[name="colors"]:checked').val();ccobj.backgroundColor=$('input[name="backgroundcolors"]:checked').val();ccobj.fontEdge=$('input[name="edges"]:checked').val();ccobj.fontSize=1;ccobj.bold=false;ccobj.italic=false;ccobj.underline=false;console.log(ccobj);$("#closecaption").css('display','none');CNBC_Platform_Video_Common.subtitleLanguage=(self.hasCCFlag=="on")?"en":null;$pdk.controller.setSubtitleLanguage(CNBC_Platform_Video_Common.subtitleLanguage);if(CNBC_Platform_Video_Common.subtitleLanguage&&(!PDKUtils.isTablet()||!PDKUtils.isMobile()||!isSafari)){$pdk.controller.setSubtitleStyle(ccobj);}});};CNBC_Platform_Video_Desktop_Inline.prototype.fireOmnitureCall=function(pev2,trkVal){try{s.manageVars("clearVars");s.linkTrackVars='eVar48,prop48';s.eVar48=trkVal;s.prop48=trkVal;s.tl(true,'o',pev2,null,'navigate');s.manageVars("clearVars");}catch(e){console.log('Analytics is not working ! Some external plugin might be blocking it !!');}};CNBC_Platform_Video_Desktop_Inline.prototype.fireNetworkCall=function(url){var img=new Image();img.src=url;};CNBC_Platform_Video_Desktop_Inline.prototype.decideDockState=function(isDockable){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;if(container.attr('data-dockable')&&isDockable){cnbc.vod.dockable.enable();cnbc.vod.notifier.publish(cnbc.vod.events.player.ON_RELEASE_START,container);}else{if(cnbc.vod.dockable.isPlayerDocked()){cnbc.vod.dockable.undock();}
cnbc.vod.dockable.disable();}};CNBC_Platform_Video_Desktop_Inline.prototype.initPlayerEvents=function(){var self=this;var _onReleaseEndCalled=false;self.playerController.addEventListener("OnPlayerLoaded",function(e){CNBC_Platform_Video_Gallery.videoObj.sPageName=s.pageName;self.onPlayerLoad=true;self.resizePlayer(true);if(self.fireReleaseEvent){self.playVideoId(self.VideoID);}});self.playerController.addEventListener("OnReleaseStart",function(e){var container=(self.containerId)?$('#'+self.containerId):null;_onReleaseEndCalled=false;if(self.playertype=='article-tray'){var $currentCarouselPlayer=container;$('li').removeClass('currentNode');$('div.playing').parent().addClass('currentNode');var carousel=CNBC_Utils.getCarousel($currentCarouselPlayer.parent(),CNBC_Carousel3.Objs);carousel.advanceCarouselOnVideoAdvance(true);}
if(self.$livePlayer&&self.$livePlayer.length&&self.$livePlayer[0].contentWindow.CNBC_uplynk.playStatus=='playing'){self.$livePlayer[0].contentWindow.CNBC_uplynk.$container.player('pause');self.$livePlayer[0].contentWindow.CNBC_uplynk.$container.player('stop');}else if(self.$livePlayerUniveral&&self.$livePlayerUniveral.length&&self.$livePlayerUniveral.contentWindow.CNBC_livePlayer.playStatus=='playing'){self.$livePlayerUniveral.contentWindow.CNBC_videoControls.playerController.pause(true);}
var thisVideoPromoCard=null;self.playerResizeFix();if(container.hasClass('headlineFirst')){thisVideoPromoCard=container.find('img');}else{thisVideoPromoCard=container;}
self.$playerLazyLoadedMobile.width(thisVideoPromoCard.width());if(thisVideoPromoCard.attr('data-dockable')&&playerConfig.config.dockable){cnbc.vod.dockable.enable();cnbc.vod.notifier.publish(cnbc.vod.events.player.ON_RELEASE_START,thisVideoPromoCard);}});self.playerController.addEventListener("OnReleaseEnd",function(e){var container=(self.containerId)?$('#'+self.containerId):null;if(self.playertype=="article-tray"&&CNBC_Platform_Video_Gallery.videoObj.carouselAutoPlay&&!CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick&&e.data&&!_onReleaseEndCalled&&$('li.currentNode',container.parent()).index()!=$('li',container.parent()).last().index()){CNBC_Platform_Video_Common.pageLoad=false;CNBCCarousel.playNextRelease();}else if(!CNBC_Platform_Video_Gallery.videoObj.releaseSetByClick&&e.data&&!_onReleaseEndCalled){if(self.playertype=="article-tray"&&$('li.currentNode',container.parent()).index()==$('li',container.parent()).last().index()){if(cnbc.vod.dockable.isPlayerDocked()){cnbc.vod.dockable.undock();}
cnbc.vod.dockable.disable();self.hidePlayer();self.$assetcnbcVideo.removeClass('playing');self.$assetcnbcVideo.removeClass('up-next');}
if(self.playertype!="article-tray"){self.hidePlayer();}
if(playerConfig.config.endCard&&self.playertype!="article-tray"){self.endCard();}
_onReleaseEndCalled=true;}
var thisVideoPromoCard=null;if(container.hasClass('headlineFirst')){thisVideoPromoCard=container.find('img');}else{thisVideoPromoCard=container;}
cnbc.vod.notifier.publish(cnbc.vod.events.player.ON_RELEASE_END,thisVideoPromoCard);});self.playerController.addEventListener("OnMediaPause",function(e){if(e.data.userInitiated){self._clipData=e.data.clip;CNBC_Platform_Video_Gallery.videoObj.playerStatus='paused';if(!self.isAd()&&e.data.clip.baseClip.guid&&e.data.clip.currentMediaTime){self.playerDataVal[CNBC_CurrentReleaseObj.guid]=e.data.clip.currentMediaTime;}}});self.playerController.addEventListener("OnMediaUnpause",function(e){if(self.$livePlayer&&self.$livePlayer.length&&self.$livePlayer[0].contentWindow.CNBC_uplynk.playStatus=='playing'){self.$livePlayer[0].contentWindow.CNBC_uplynk.$container.player('pause');self.$livePlayer[0].contentWindow.CNBC_uplynk.$container.player('stop');}else if(self.$livePlayerUniveral&&self.$livePlayerUniveral.length&&self.$livePlayerUniveral.contentWindow.CNBC_livePlayer.playStatus=='playing'){self.$livePlayerUniveral.contentWindow.CNBC_videoControls.playerController.pause(true);}});self.playerController.addEventListener('OnMediaPlaying',function(e){if(!self.isAd()){self.playerDataVal[CNBC_CurrentReleaseObj.guid]=e.data.mediaTime;if(e.data.percentCompleteAggregate>=98){self.playerDataVal[CNBC_CurrentReleaseObj.guid]=0;}}});self.playerController.addEventListener("OnMediaEnd",function(e){});self.playerController.addEventListener("OnMediaStart",function(e){self._clipData=e.data;$('div.loaderOverlayMobile').css({opacity:0,left:'-3000px',top:'-3000px'});if(cnbc.vod.dockable&&cnbc.vod.dockable.isPlayerDocked()){self.$playerLazyLoadedMobile.css({opacity:1,left:$('.theplatform-video__docked').offset().left});}else{self.$playerLazyLoadedMobile.css({opacity:1,left:self.posLeft,top:self.posTop});}
self.playerResizeFix();});self.playerController.addEventListener("OnMediaError",function(e){console.log('=================== On Media Error =======================');console.log(e);});self.playerController.addEventListener("OnReleaseError",function(e){console.log('=================== On Release Error =======================');console.log(e);});};CNBC_Platform_Video_Desktop_Inline.prototype.playVideoId=function(currGuid){var self=this;if(self.releaseSetByClick){self.playerController.endCurrentRelease();}
if(self.isAdblockMessageNeeded()){self.onError(self.adblockErrorMsgContainerHTML);return false;}
if(currGuid){CNBC_Utils.getNodeInfo(currGuid);CNBC_CurrentReleaseObj=CNBC_Utils.videoReleaseObjs[currGuid];if(self.isCurrentVideoPremium()&&!CNBC_Utils.isUserPremium()){var encodeUrl=encodeURIComponent(window.location.href);window.location.href=self.marketingPageURL+'/?service='+encodeUrl;return;}else if(CNBC_CurrentReleaseObj&&CNBC_CurrentReleaseObj.content.length){self.releaseURL=CNBC_CurrentReleaseObj.content[0].url;CNBCReleaseURL.set(self.releaseURL);setTimeout(function(){self.playerController.pause(false);},200);}else{var basefeedurl=playerConfig.config.feedServiceURL+"?byContent=byIsDefault%3Dtrue&form=cjson&byGuid="+currGuid;$.ajaxSetup({cache:true});var jqxhr=$.getJSON(basefeedurl).done(function(data){if(data&&data.entries.length&&data.entries[0].content.length){CNBC_Utils.videoReleaseObjs[currGuid]=CNBC_CurrentReleaseObj=data.entries[0];self.releaseURL=CNBC_CurrentReleaseObj.content[0].url;CNBCReleaseURL.set(self.releaseURL);}else{self.onError();}}).error(function(){self.onError();}).fail(function(){self.onError();});}}else{window.location.href=CNBC_Settings.baseurls.cnbcvideo_url_base;}};CNBC_Platform_Video_Desktop_Inline.prototype.onError=function(customMessageMarkup){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;self.resizePlayer();$('div.loaderOverlayMobile').css({"opacity":0,left:'-3000px',top:'-3000px'});self.$playerLazyLoadedMobile.css({"opacity":1,left:self.posLeft});$('.tpLayout',self.$playerLazyLoadedMobile).css({"display":"none"});if(container&&container.length){var resizewd,resizeht=null;resizewd=container.width();self.$playerLazyLoadedMobile.width(container.width());if(self.playertype=='article-tray'){resizeht=container.outerHeight();}else if(container.hasClass('headlineFirst')){resizewd=container.find('img').width();resizeht=container.find('img').height();}else{resizeht=container.outerHeight();}
self.$playerLazyLoadedMobile.css({'width':resizewd,'height':resizeht});}
self.playerErrorMsg(customMessageMarkup);};CNBC_Platform_Video_Desktop_Inline.prototype.playVideo=function($videoAnchorTag){var self=this;var container=(self.containerId)?$('#'+self.containerId):null;var $currAsset=$videoAnchorTag.parents('div.asset');self.currAsset=$currAsset;var $videoAssets=$($('div.asset.cnbcvideo'),container);$videoAssets.removeClass('playing');if(!$currAsset.parents('li').next().length){self.carouselAutoPlay=false;}
if($currAsset.length){self.resizePlayer(true);$currAsset.removeClass('up-next').addClass('playing');var currentIndex=$videoAssets.index($('div.asset.playing'));$videoAssets.eq(currentIndex+1).addClass('up-next');var currentVideoId=$videoAnchorTag.attr('data-VideoID').toString();if(!$currAsset.parents('li').next().length){self.$assetcnbcVideo.removeClass('up-next');}
self.releaseSetByClick=releaseInitiatedByClick=false;CNBC_Platform_Video_Gallery.videoObj.continuousPlay=true;if(self.playertype=="article-tray"&&$('li.currentNode',container.parent()).index()!=$('li',container.parent()).last().index()){self.playVideoId(currentVideoId);}else{CNBC_Utils.getNodeInfo(currentVideoId);}}};CNBC_Platform_Video_Desktop_Inline.prototype.setVideoMetaData=function($videoAnchorTag){};CNBC_Platform_Video_Desktop_Inline.prototype.afterVideoMetaData=function($container,isPageLoadPro){};CNBC_Platform_Video_Desktop_Inline.prototype.setShowName=function(){};})(jQuery);
/* File BEGIN: /home/cms/prod/live/applications/cnbc.com/staticcontent/scripts/inits/desktopVideoPlayer.js */

CNBC_Utils.execute('Desktop Video Player',function(){var initData=cnbc.app.getInitData('desktopVideoPlayer');console.log(initData);if(typeof CNBC_Platform_Video_Gallery==='function'){if(initData.playerId){var args={playerId:initData.playerId,baseFeed:initData.baseFeed,carouselAutoPlay:true,defaultVideoId:initData.defaultVideoId,relativeVideos:initData.relativeVideos,premiumUser:initData.premiumUser,premiumContent:initData.premiumContent,proTabData:initData.proTabData,premiumFeedUrl:initData.premiumFeedUrl,errorMsgContainerHTML:initData.errorMsgContainerHTML,videoErrorMsgContainerHTML:initData.videoErrorMsgContainerHTML,marketingPageURL:initData.marketingPageURL,adblockErrorMsgContainerHTML:initData.adblockErrorMsgContainerHTML}
if(initData.product=='galleryDesktop'){CNBC_Platform_Video_Gallery.videoObj=new CNBC_Platform_Video_Gallery();CNBC_Platform_Video_Gallery.videoObj.init(args);}else if(initData.product=='inlineDesktop'){CNBC_Platform_Video_Gallery.videoObj=new CNBC_Platform_Video_Desktop_Inline();CNBC_Platform_Video_Gallery.videoObj.init(args);}}}});